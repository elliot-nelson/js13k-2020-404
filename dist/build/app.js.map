{"version":3,"sources":["app.js"],"names":["Constants","t","i","Math","PI","s","h","o","l","u","p","M","m","g","q","Canvas","[object Object]","width","height","this","canvas","document","createElement","ctx","getContext","SpriteSheet","x","y","w","R","Sprite","sprite","v","drawImage","img","anchor","viewport","spritePos","cameraPos","center","strokeStyle","strokeRect","bbox","hbox","dx","dy","r","getSpriteBoxPolygon","box","_","A45","KeyboardAdapter","handler","map","Input","Action","ATTACK","DEFLECT","DODGE","SUPER","UP","DOWN","LEFT","RIGHT","MENU","MUTE","FREEZE","arrowDirections","ht","held","reset","window","addEventListener","event","k","keyCode","console","log","state","direction","action","Object","values","getElementById","resize","force","dpi","devicePixelRatio","clientWidth","clientHeight","dpiWidth","dpiHeight","scale","floor","max","ceil","I","imageSmoothingEnabled","style","cursor","MouseAdapter","RELOAD","pointer","clientX","clientY","button","preventDefault","releaseRMBTick","pressed","released","framesHeld","keyboard","init","mouse","update","K","Y","J","X","W","at","j","G","$","Z","tt","it","Geometry","ut","radianTable","sqrt","pt","p1","p2","normalizeVector","Mt","cos","sin","angle","atan2","RAD","qt","bt","a","b","vector2point","vectors","vector","min","angleA1","angleA2","angleB1","angleB2","result","Lt","pos","Tt","TILE_WIDTH","TILE_HEIGHT","At","kt","game","camera","Bt","value","startPos","endPos","next","step","diff","NaN","Infinity","startQ","startR","endQ","endR","tileCount","abs","stepQ","sign","stepR","intersectionQ","calculateRayIntersectionAndStep","intersectionR","tilesHitBetween","vectorAdd","bounds","tilesHitInBounds","tilesHitBetweenCircle","invdx","invdy","cornerX","cornerY","ltime","ly","_t","Ft","Wt","zt","Vt","rtime","ry","ttime","tx","btime","bx","inverseRadius","lineLength","cornerdx","cornerdy","cornerDistance","innerAngle","acos","time","ix","iy","nx","ny","isNaN","innerAngleSin","angle1Sin","angle1","asin","angle2","r1","v1","r2","v2","a1","a2","delta","vectorBetween","maze","array2d","length","stack","Kt","cost","shift","push","fn","Array","from","Yt","Random","Xt","c","d","str","imul","charCodeAt","seedfn","xmur3","randfn","sfc32","CROSS","CARDINALS","MazeGenerator","Qt","filter","dir","cq","cr","rand","roomNumber","found","ii","cells","idx","cell","splice","possible","openCrossCells","indexOf","choice","connectors","rooms","room1","room2","up","down","left","right","ei","ri","groups","Set","group1","find","group","includes","group2","deadEnds","forEach","ni","reduce","hash","room","tiles","TILE_WALL2","TILE_WALL1","key","TILE_FLOOR1","seed","attemptRoomPlacement","carveMaze","carveConnectors","pruneDeadEnds","homeflow","flood","Jt","ci","createTiles","yi","fi","createRoomLookup","wi","C_SHIFT","32","44","46","73","Text","default","font","fire","recolor","gradient","createLinearGradient","addColorStop","shadow","text","toUpperCase","measureWidth","drawText","cu","cv","phrases","split","phrase","phraseWidth","mi","sum","color","fillStyle","fillRect","globalCompositeOperation","Detection","tile","tileIsPassable","Behavior","IDLE","bi","Ei","vi","Ri","Li","entities","entity","think","Monster","vel","facing","hp","damage","radius","mass","lineOfSight","player","CHASE","clamp","DEAD","cullt","cull","drawViewportSprite","monster_dead","monster","ShotgunBlast","spread","range","vect","dot1","dot2","sides","vector2angle","arcOverlap","wallHit","angle2vector","tilesHitBy","Fi","Wi","uv","xy2uv","beginPath","arc","lineTo","closePath","fill","ReloadAnimation","frames","shellsMax","end","start","hud_shells_full","Player","shellsLeft","HUNT","defaultMovement","input","reload","velocityAdj","pointerXY","PLAYER_BOUND_RADIUS","setLineDash","stroke","Menu","Movement","movers","rounds","clipVelocityEntityVsEntity","clipVelocityAgainstWalls","other","hit","intersectCircleCircle2","entityM","otherM","tilesHitByCircle","qr2xy","intersectCircleRectangle","Damage","amount","generate","Dt","images","initSprite","bullet","demon_walk","hud_shells_empty","hud_health_frame","hud_health_fill","edge","turn","corner","walls","initDynamicSprite","rotateImage","R180","R90","R270","overlay","uri","data","opts","loadSlice","source","rad","translate","rotate","sources","T","O","C","loadImage","sliceCanvas","Promise","resolve","reject","image","Image","onload","onerror","err","src","frame","started","requestAnimationFrame","onFrame","currentms","draw","apply","spawnEnemy","random","setTransform","drawMaze","drawHud","drawRightText","join","ptr","JSON","stringify","offset","Error","uv2xy","e","moveTo","raytrace","redgreen","highlight","then"],"mappings":"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","file":"app.js","sourcesContent":["(function () {\n    'use strict';\n\n    const Constants = {\n        R0: 0,\n        R90: Math.PI * 0.5,\n        R180: Math.PI,\n        R270: Math.PI * 1.5,\n        R360: Math.PI * 2,\n\n        // Size in pixels of tiles in the game maze\n        TILE_WIDTH: 32,\n        TILE_HEIGHT: 32,\n\n        // Tile constants\n        TILE_FLOOR1:            0,\n        TILE_FLOOR2:            1,\n        TILE_WALL1:             2,\n        TILE_WALL2:             3,\n\n        PLAYER_BOUND_RADIUS: 9\n    };\n\n    /**\n     * This helper class encapsulates creating temporary off-screen canvases. Off-screen\n     * canvases are great tools for building patterns, image masks, and other components\n     * that we'll use to draw things on the primary canvas.\n     */\n    class Canvas {\n      constructor(width, height) {\n        this.canvas = document.createElement('canvas');\n        this.canvas.width = width;\n        this.canvas.height = height;\n        this.ctx = this.canvas.getContext('2d');\n      }\n    }\n\n    /**\n     * This module is generate by `gulp generateSpriteSheetData`.\n     */\n\n    const SpriteSheet =\n    /* <generated> */\n    { bullet_1: { x: 0, y: 0, w: 32, h: 32 },\n      demon1_1: { x: 0, y: 32, w: 16, h: 22 },\n      demon1_2: { x: 16, y: 32, w: 16, h: 22 },\n      demon1_3: { x: 32, y: 32, w: 16, h: 22 },\n      demon1_4: { x: 48, y: 32, w: 16, h: 22 },\n      demon1_5: { x: 64, y: 32, w: 16, h: 22 },\n      demon1_6: { x: 80, y: 32, w: 16, h: 22 },\n      demon1_7: { x: 96, y: 32, w: 16, h: 22 },\n      demon1_8: { x: 112, y: 32, w: 16, h: 22 },\n      demon1_9: { x: 128, y: 32, w: 16, h: 22 },\n      demon1_10: { x: 144, y: 32, w: 16, h: 22 },\n      font_1: { x: 0, y: 54, w: 236, h: 6 },\n      hud_healthbar_1: { x: 0, y: 60, w: 109, h: 9 },\n      hud_healthbar_2: { x: 109, y: 60, w: 109, h: 9 },\n      hud_shells_1: { x: 0, y: 69, w: 6, h: 7 },\n      hud_shells_2: { x: 6, y: 69, w: 6, h: 7 },\n      monster2_1: { x: 0, y: 76, w: 32, h: 32 },\n      monster2_2: { x: 32, y: 76, w: 32, h: 32 },\n      paper_1: { x: 0, y: 108, w: 32, h: 32 },\n      paper_2: { x: 32, y: 108, w: 32, h: 32 },\n      particles_1: { x: 0, y: 140, w: 11, h: 11 },\n      player_1: { x: 0, y: 151, w: 64, h: 64 },\n      player_2: { x: 64, y: 151, w: 64, h: 64 },\n      player_3: { x: 128, y: 151, w: 64, h: 64 },\n      player_4: { x: 192, y: 151, w: 64, h: 64 },\n      player_5: { x: 256, y: 151, w: 64, h: 64 },\n      player_6: { x: 320, y: 151, w: 64, h: 64 },\n      player_7: { x: 384, y: 151, w: 64, h: 64 },\n      player_8: { x: 448, y: 151, w: 64, h: 64 },\n      player2_1: { x: 0, y: 215, w: 32, h: 32 },\n      portal_1: { x: 0, y: 247, w: 32, h: 32 },\n      sparkle_1: { x: 0, y: 279, w: 11, h: 11 },\n      swordmeter_1: { x: 0, y: 290, w: 48, h: 128 },\n      swordmeter_2: { x: 48, y: 290, w: 48, h: 128 },\n      swordmeter_3: { x: 96, y: 290, w: 48, h: 128 },\n      swordmeter_4: { x: 144, y: 290, w: 48, h: 128 },\n      swordmeter_5: { x: 192, y: 290, w: 48, h: 128 },\n      tiles_1: { x: 0, y: 418, w: 32, h: 32 },\n      tiles_2: { x: 32, y: 418, w: 32, h: 32 },\n      tiles_3: { x: 64, y: 418, w: 32, h: 32 },\n      tiles_4: { x: 96, y: 418, w: 32, h: 32 },\n      tiles_5: { x: 128, y: 418, w: 32, h: 32 },\n      tiles_6: { x: 160, y: 418, w: 32, h: 32 },\n      tiles_7: { x: 192, y: 418, w: 32, h: 32 },\n      tiles_8: { x: 224, y: 418, w: 32, h: 32 },\n      tiles_9: { x: 256, y: 418, w: 32, h: 32 },\n      tileset_1: { x: 0, y: 450, w: 32, h: 32 },\n      tileset_2: { x: 32, y: 450, w: 32, h: 32 },\n      tileset_3: { x: 64, y: 450, w: 32, h: 32 },\n      tileset_4: { x: 96, y: 450, w: 32, h: 32 },\n      tileset_5: { x: 128, y: 450, w: 32, h: 32 },\n      tileset_6: { x: 160, y: 450, w: 32, h: 32 },\n      tileset_7: { x: 192, y: 450, w: 32, h: 32 },\n      tileset_8: { x: 224, y: 450, w: 32, h: 32 } }\n    /* </generated> */\n    ;\n\n    const SPRITESHEET_URI = 'sprites.png'; // produced during gulp build\n\n    /**\n     * Sprites!\n     *\n     * For this game, a \"sprite\" is a little object that has an attached image, an anchor\n     * point, a bounding box, and an optional hit box. This keeps pixel-level data about\n     * the image all in one place (by passing a Sprite around, we know what image to draw,\n     * what point in the image to rotate around, what areas of the image can get hit by\n     * things, and what areas can hit other things).\n     *\n     * Whether the bounding box or hitbox do anything isn't up to the Sprite, it would be\n     * up to the Frame that references it. (This is helpful because it's convenient for\n     * a simple game like this to have only one hit frame, but the animation may call\n     * for showing the sword swipe for 5-6 frames.)\n     */\n    class Sprite {\n      /**\n       * A small helper that draws a sprite onto a canvas, respecting the anchor point of\n       * the sprite. Note that the canvas should be PRE-TRANSLATED and PRE-ROTATED, if\n       * that's appropriate!\n       */\n      static drawSprite(ctx, sprite, u, v) {\n        ctx.drawImage(sprite.img, u - sprite.anchor.x, v - sprite.anchor.y);\n      }\n\n      static drawViewportSprite(viewport, sprite, spritePos, cameraPos) {\n        viewport.ctx.drawImage(\n          sprite.img,\n          spritePos.x - sprite.anchor.x - cameraPos.x + viewport.center.u,\n          spritePos.y - sprite.anchor.y - cameraPos.y + viewport.center.v\n        );\n      }\n\n      /**\n       * Draw a sprite's bounding box, for debugging, using the same rules as drawSprite.\n       */\n      static drawBoundingBox(ctx, sprite, x, y) {\n        ctx.strokeStyle = 'rgba(0, 255, 0, 0.5)';\n        ctx.strokeRect(\n          x - sprite.anchor.x + sprite.bbox[0].x,\n          y - sprite.anchor.y + sprite.bbox[0].y,\n          sprite.bbox[1].x - sprite.bbox[0].x,\n          sprite.bbox[1].y - sprite.bbox[0].y\n        );\n      }\n\n      /**\n       * Draw a sprite's hit box, for debugging, using the same rules as drawSprite.\n       */\n      static drawHitBox(ctx, sprite, x, y) {\n        if (sprite.hbox) {\n          ctx.strokeStyle = 'rgba(255, 0, 0, 0.7)';\n          ctx.strokeRect(\n            x - sprite.anchor.x + sprite.hbox[0].x,\n            y - sprite.anchor.y + sprite.hbox[0].y,\n            sprite.hbox[1].x - sprite.hbox[0].x,\n            sprite.hbox[1].y - sprite.hbox[0].y\n          );\n        }\n      }\n\n      static getBoundingCircle(sprite, x, y) {\n        let dx = sprite.bbox[1].x - sprite.bbox[0].x;\n        let dy = sprite.bbox[1].y - sprite.bbox[0].y;\n        let r = (dx > dy ? dx : dy) / 2;\n        return {\n          x: x - sprite.anchor.x + (sprite.bbox[0].x + sprite.bbox[1].x) / 2,\n          y: y - sprite.anchor.y + (sprite.bbox[0].y + sprite.bbox[1].y) / 2,\n          r\n        };\n      }\n\n      static getBoundingBoxPolygon(sprite, x, y) {\n        return this.getSpriteBoxPolygon(sprite.anchor, sprite.bbox, x, y);\n      }\n\n      static getHitBoxPolygon(sprite, x, y) {\n        return this.getSpriteBoxPolygon(sprite.anchor, sprite.hbox, x, y);\n      }\n\n      static getSpriteBoxPolygon(anchor, box, x, y) {\n        return {\n          x: x,\n          y: y,\n          p: [\n            { x: box[0].x - anchor.x, y: box[0].y - anchor.y },\n            { x: box[1].x - anchor.x, y: box[0].y - anchor.y },\n            { x: box[1].x - anchor.x, y: box[1].y - anchor.y },\n            { x: box[0].x - anchor.x, y: box[1].y - anchor.y }\n          ]\n        };\n      }\n    }\n\n    /**\n     * The Assets module loads raw PNGs we'll use to draw the game, does any postprocessing stuff\n     * we might need to do, and then saves references to them for later.\n     */\n    class Assets {\n      static async init() {\n        this.images = {};\n\n        // Base Pixel Font (see `Text.init` for additional manipulation)\n        Sprite.font = await this.initSprite(SPRITESHEET_URI, SpriteSheet.font_1);\n\n        // Player\n        Sprite.player = await this.initSprite(SPRITESHEET_URI, SpriteSheet.player2_1);\n\n        // Bullets\n        Sprite.bullet = await this.initSprite(SPRITESHEET_URI, SpriteSheet.bullet_1);\n\n        // Enemy\n        Sprite.monster = await this.initSprite(SPRITESHEET_URI, SpriteSheet.monster2_1);\n        Sprite.monster_dead = await this.initSprite(SPRITESHEET_URI, SpriteSheet.monster2_2);\n        Sprite.demon_walk = await this.initSprite(SPRITESHEET_URI, SpriteSheet.demon1_1);\n\n        // GUI\n        Sprite.hud_shells_empty = await this.initSprite(SPRITESHEET_URI, SpriteSheet.hud_shells_1);\n        Sprite.hud_shells_full = await this.initSprite(SPRITESHEET_URI, SpriteSheet.hud_shells_2);\n        Sprite.hud_health_frame = await this.initSprite(SPRITESHEET_URI, SpriteSheet.hud_healthbar_1);\n        Sprite.hud_health_fill = await this.initSprite(SPRITESHEET_URI, SpriteSheet.hud_healthbar_2);\n\n        // Tiles\n        Sprite.tiles = [];\n        Sprite.tiles[Constants.TILE_FLOOR1] = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_3);\n        Sprite.tiles[Constants.TILE_WALL1] = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_1);\n        Sprite.tiles[Constants.TILE_WALL2] = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_2);\n\n        // Walls\n        let edge = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_5);\n        let turn = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_6);\n        let deadend = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_7);\n        let corner = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_8);\n\n        Sprite.walls = [];\n        Sprite.walls[0b000_100_000] =\n        Sprite.walls[0b100_100_000] =\n        Sprite.walls[0b000_100_100] =\n        Sprite.walls[0b100_100_100] = edge;\n\n        Sprite.walls[0b000_001_000] =\n        Sprite.walls[0b001_001_000] =\n        Sprite.walls[0b000_001_001] =\n        Sprite.walls[0b001_001_001] = this.initDynamicSprite(this.rotateImage(edge.img, Constants.R180));\n\n        Sprite.walls[0b010_000_000] =\n        Sprite.walls[0b110_000_000] =\n        Sprite.walls[0b011_000_000] =\n        Sprite.walls[0b111_000_000] = this.initDynamicSprite(this.rotateImage(edge.img, Constants.R90));\n\n        Sprite.walls[0b000_001_000] = this.initDynamicSprite(this.rotateImage(edge.img, Constants.R180));\n        Sprite.walls[0b000_000_010] = this.initDynamicSprite(this.rotateImage(edge.img, Constants.R270));\n\n        Sprite.walls[0b010_100_000] =\n        Sprite.walls[0b110_100_000] =\n        Sprite.walls[0b011_100_000] =\n        Sprite.walls[0b111_100_000] =\n        Sprite.walls[0b011_100_100] =\n        Sprite.walls[0b010_100_100] =\n        Sprite.walls[0b011_100_100] =\n        Sprite.walls[0b111_100_100] = turn;\n\n        Sprite.walls[0b010_001_000] =\n        Sprite.walls[0b011_001_000] =\n        Sprite.walls[0b110_001_000] =\n        Sprite.walls[0b111_001_000] =\n        Sprite.walls[0b010_001_001] =\n        Sprite.walls[0b011_001_001] =\n        Sprite.walls[0b111_001_001] =\n        Sprite.walls[0b110_001_001] = this.initDynamicSprite(this.rotateImage(turn.img, Constants.R90));\n\n        Sprite.walls[0b000_001_010] =\n        Sprite.walls[0b000_001_011] =\n        Sprite.walls[0b000_001_110] =\n        Sprite.walls[0b000_001_111] =\n        Sprite.walls[0b001_001_010] =\n        Sprite.walls[0b001_001_011] =\n        Sprite.walls[0b001_001_110] =\n        Sprite.walls[0b001_001_111] = this.initDynamicSprite(this.rotateImage(turn.img, Constants.R180));\n\n        Sprite.walls[0b000_100_010] =\n        Sprite.walls[0b000_100_011] =\n        Sprite.walls[0b000_100_110] =\n        Sprite.walls[0b000_100_111] =\n        Sprite.walls[0b100_100_010] =\n        Sprite.walls[0b100_100_011] =\n        Sprite.walls[0b100_100_110] =\n        Sprite.walls[0b100_100_111] = this.initDynamicSprite(this.rotateImage(turn.img, Constants.R270));\n\n        Sprite.walls[0b100_000_000] = corner;\n        Sprite.walls[0b001_000_000] = this.initDynamicSprite(this.rotateImage(corner.img, Constants.R90));\n        Sprite.walls[0b000_000_001] = this.initDynamicSprite(this.rotateImage(corner.img, Constants.R180));\n        Sprite.walls[0b000_000_100] = this.initDynamicSprite(this.rotateImage(corner.img, Constants.R270));\n\n        Sprite.walls[0b101_000_000] = this.initDynamicSprite(this.overlay(Sprite.walls[0b100_000_000].img, Sprite.walls[0b001_000_000].img));\n        Sprite.walls[0b000_000_101] = this.initDynamicSprite(this.overlay(Sprite.walls[0b000_000_100].img, Sprite.walls[0b000_000_001].img));\n        Sprite.walls[0b100_000_100] = this.initDynamicSprite(this.overlay(Sprite.walls[0b100_000_000].img, Sprite.walls[0b000_000_100].img));\n        Sprite.walls[0b001_000_001] = this.initDynamicSprite(this.overlay(Sprite.walls[0b001_000_000].img, Sprite.walls[0b000_000_001].img));\n\n    /*\n        let sprite = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_5);\n        Sprite.tiles[C.TILE_FLOOR_EDGE_L] = sprite;\n        Sprite.tiles[C.TILE_FLOOR_EDGE_T] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 0.5));\n        Sprite.tiles[C.TILE_FLOOR_EDGE_R] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 1.0));\n        Sprite.tiles[C.TILE_FLOOR_EDGE_B] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 1.5));\n\n        sprite = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_7);\n        Sprite.tiles[C.TILE_FLOOR_EDGE_LT] = sprite;\n        Sprite.tiles[C.TILE_FLOOR_EDGE_TR] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 0.5));\n        Sprite.tiles[C.TILE_FLOOR_EDGE_RB] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 1.0));\n        Sprite.tiles[C.TILE_FLOOR_EDGE_BL] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 1.5));\n\n        sprite = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_8);\n        Sprite.tiles[C.TILE_FLOOR_EDGE_LTR] = sprite;\n        Sprite.tiles[C.TILE_FLOOR_EDGE_TRB] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 0.5));\n        Sprite.tiles[C.TILE_FLOOR_EDGE_RBL] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 1.0));\n        Sprite.tiles[C.TILE_FLOOR_EDGE_BLT] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 1.5));\n\n        sprite = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_6);\n        Sprite.tiles[C.TILE_FLOOR_EDGE_LR] = sprite;\n        Sprite.tiles[C.TILE_FLOOR_EDGE_TB] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 0.5));\n    // TILE_FLOOR1:            0,\n    // TILE_FLOOR2:            1,\n    // TILE_FLOOR_EDGE_L:     20,\n    // TILE_FLOOR_EDGE_T:     21,\n    // TILE_FLOOR_EDGE_R:     22,\n    // TILE_FLOOR_EDGE_B:     23,\n    // TILE_FLOOR_EDGE_LT:    24,\n    // TILE_FLOOR_EDGE_TR:    25,\n    // TILE_FLOOR_EDGE_RB:    26,\n    // TILE_FLOOR_EDGE_BL:    27,\n    // TILE_FLOOR_EDGE_LTR:   28,\n    // TILE_FLOOR_EDGE_TRB:   29,\n    // TILE_FLOOR_EDGE_RBL:   30,\n    // TILE_FLOOR_EDGE_BLT:   31,\n    // TILE_FLOOR_EDGE_LR:    32,\n    // TILE_FLOOR_EDGE_TB:    33,\n    // TILE_FLOOR_CORNER_LT:  34,\n    // TILE_FLOOR_CORNER_TR:  35,\n    // TILE_FLOOR_CORNER_RB:  36,\n    // TILE_FLOOR_CORNER_BL:  37,\n    // TILE_FLOOR_CORNER_LR:  39,\n        Sprite.tiles[C.TILE_WALL1] = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_1);\n        Sprite.tiles[C.TILE_WALL2] = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_2);\n        */\n      };\n\n      /**\n       * Initialize a sprite by loading it from a particular slice of the given image. Provides\n       * \"sensible\" defaults for bounding box and anchor point if not provided.\n       */\n      static async initSprite(uri, data, opts) {\n        return this.initDynamicSprite(await this.loadSlice(uri, data.x, data.y, data.w, data.h), opts);\n      }\n\n      static rotateImage(source, rad) {\n        let canvas = new Canvas(source.width, source.height);\n        canvas.ctx.translate(source.width / 2, source.height / 2);\n        canvas.ctx.rotate(rad);\n        canvas.ctx.translate(-source.width / 2, -source.height / 2);\n        canvas.ctx.drawImage(source, 0, 0);\n        return canvas.canvas;\n      }\n\n      static overlay(...sources) {\n        let canvas = new Canvas(sources[0].width, sources[0].height);\n        for (let source of sources) {\n          canvas.ctx.drawImage(source, 0, 0);\n        }\n        return canvas.canvas;\n      }\n\n      /**\n       * Initialize a sprite by passing it a pre-defined image source (probably generated dynamically).\n       * Provides \"sensible\" defaults for bounding box and anchor point if not provided.\n       */\n      static initDynamicSprite(source, opts) {\n        let w = source.width, h = source.height;\n\n        return {\n          img: source,\n          anchor: (opts && opts.anchor) || { x: Math.floor(w / 2), y: Math.floor(h / 2) },\n          bbox: (opts && opts.bbox) || [{x: 0, y: 0 }, { x: w, y: h }],\n          hbox: opts && opts.hbox\n        };\n      }\n\n      /**\n       * This helper method retrieves a cached image, cuts the specified slice out of it, and returns it.\n       */\n      static async loadSlice(uri, x, y, w, h) {\n        const source = await this.loadImage(uri);\n        const sliceCanvas = new Canvas(w, h);\n        sliceCanvas.ctx.drawImage(source, x, y, w, h, 0, 0, w, h);\n        return sliceCanvas.canvas;\n      }\n\n      /**\n       * Load the image from the given URI and cache it.\n       */\n      static async loadImage(uri) {\n        if (this.images[uri]) return this.images[uri];\n\n        return await new Promise((resolve, reject) => {\n          let image = new Image();\n          image.onload = () => resolve(image);\n          image.onerror = (err) => reject(err);\n          image.src = uri;\n          this.images[uri] = image;\n        });\n      }\n    }\n\n    // A few quick constants (0*, 45*, 90*)\n    const A00 = 0;\n    const A45 = 0.7071067811865475;\n    const A90 = 1;\n\n    /**\n     * KeyboardAdapter\n     *\n     * Maps keyboard inputs to game inputs.\n     */\n    class KeyboardAdapter {\n      constructor(handler) {\n        this.handler = handler;\n\n        // Key Mapping:      ACTION            // Key\n        this.map = [];\n        this.map[88] = Input.Action.ATTACK;    // [X]\n        this.map[90] = Input.Action.DEFLECT;   // [Z]\n        this.map[67] = Input.Action.DODGE;     // [C]\n        this.map[32] = Input.Action.SUPER;     // [SPACEBAR]\n        this.map[38] = Input.Action.UP;        // [UpArrow]\n        this.map[40] = Input.Action.DOWN;      // [DownArrow]\n        this.map[37] = Input.Action.LEFT;      // [LeftArrow]\n        this.map[39] = Input.Action.RIGHT;     // [RightArrow]\n        this.map[87] = Input.Action.UP;        // [W]\n        this.map[83] = Input.Action.DOWN;      // [S]\n        this.map[65] = Input.Action.LEFT;      // [A]\n        this.map[68] = Input.Action.RIGHT;     // [D]\n        this.map[27] = Input.Action.MENU;      // [ESC]\n        this.map[77] = Input.Action.MUTE;      // [M]\n        this.map[70] = Input.Action.FREEZE;    // [F]\n        this.map[80] = Input.Action.FREEZE;    // [P]\n\n        // For keyboard, we support 8-point movement (S, E, SE, etc.)\n        this.arrowDirections = [\n          { x:  A00, y:  A00, m: 0 },\n          { x:  A00, y: -A90, m: 1 },\n          { x:  A00, y:  A90, m: 1 },\n          { x:  A00, y:  A00, m: 0 },\n          { x: -A90, y:  A00, m: 1 },\n          { x: -A45, y: -A45, m: 1 },\n          { x: -A45, y:  A45, m: 1 },\n          { x: -A90, y:  A00, m: 1 },\n          { x:  A90, y:  A00, m: 1 },\n          { x:  A45, y: -A45, m: 1 },\n          { x:  A45, y:  A45, m: 1 },\n          { x:  A90, y:  A00, m: 1 },\n          { x:  A00, y:  A00, m: 0 },\n          { x:  A00, y: -A90, m: 1 },\n          { x:  A00, y:  A90, m: 1 },\n          { x:  A00, y:  A00, m: 0 }\n        ];\n\n        this.held = [];\n\n        this.reset();\n      }\n\n      async init() {\n        window.addEventListener('keydown', event => {\n          let k = this.map[event.keyCode];\n          console.log(event.keyCode);\n          if (k) {\n            this.held[k] = true;\n          }\n\n          // Hack - first key pressed in window will initialize the audio.\n          //game.audio.init();\n        });\n\n        window.addEventListener('keyup', event => {\n          let k = this.map[event.keyCode];\n          if (k) {\n            this.held[k] = false;\n          }\n        });\n      }\n\n      update() {\n        // For keyboards, we want to convert the state of the various arrow keys being held down\n        // into a directional vector. We use the browser's event to handle the held state of\n        // the other action buttons, so we don't need to process them here.\n        let state = (this.held[Input.Action.UP] ? 1 : 0) +\n                    (this.held[Input.Action.DOWN] ? 2 : 0) +\n                    (this.held[Input.Action.LEFT] ? 4 : 0) +\n                    (this.held[Input.Action.RIGHT] ? 8 : 0);\n\n        this.direction = this.arrowDirections[state];\n      }\n\n      reset() {\n        this.direction = this.arrowDirections[0];\n        for (let action of Object.values(Input.Action)) {\n          this.held[action] = false;\n        }\n      }\n    }\n\n    const GAME_WIDTH = 480;\n    const GAME_HEIGHT = 270;\n\n    /**\n    * Viewport\n    *\n    * Represents the game display (for us, a canvas).\n    */\n    class Viewport {\n      async init() {\n        this.canvas = document.getElementById('canvas');\n        this.ctx = this.canvas.getContext('2d');\n        this.resize(true);\n      }\n\n      // Resize the canvas to give us approximately our desired game display size.\n      //\n      // Rather than attempt to explain it, here's a concrete example:\n      //\n      //     we start with a desired game dimension:   480x270px\n      //          get the actual browser dimensions:  1309x468px\n      //          factor in the display's DPI ratio:  2618x936px\n      //         now calculate the horizontal scale:       5.45x\n      //                     and the vertical scale:       3.46x\n      //            our new offical game scaling is:        5.4x\n      //       and our official viewport dimensions:   484x173px\n      //\n      // This approach emphasizes correct aspect ratio and maintains full-window rendering, at\n      // the potential cost of limiting visibility of the game itself in either the X or Y axis.\n      // If you use this approach, make sure your GUI can \"float\" (otherwise there may be whole\n      // UI elements the player cannot see!).\n      resize(force) {\n        let dpi = window.devicePixelRatio;\n        let width = this.canvas.clientWidth;\n        let height = this.canvas.clientHeight;\n        let dpiWidth = width * dpi;\n        let dpiHeight = height * dpi;\n\n        if (force || this.canvas.width !== dpiWidth || this.canvas.height !== dpiHeight) {\n          this.canvas.width = dpiWidth;\n          this.canvas.height = dpiHeight;\n\n          this.scale = (Math.floor(Math.max(dpiWidth / GAME_WIDTH, dpiHeight / GAME_HEIGHT) * 10) / 10);\n          this.width = Math.ceil(this.canvas.width / this.scale);\n          this.height = Math.ceil(this.canvas.height / this.scale);\n          this.center = { u: Math.floor(this.width / 2), v: Math.floor(this.height / 2) };\n          this.clientWidth = width;\n          this.clientHeight = height;\n\n                // Note: smoothing flag gets reset on every resize by some browsers, which is why\n                // we do it here.\n                this.ctx.imageSmoothingEnabled = false;\n\n                viewport.canvas.style.cursor = 'none';\n            }\n        }\n    }\n\n    // Singleton\n    const viewport = new Viewport();\n\n    /**\n     * MouseAdapter\n     *\n     * Maps mouse inputs to game inputs.\n     */\n    class MouseAdapter {\n      constructor(handler) {\n        this.handler = handler;\n\n        // Key Mapping:      ACTION            // Input\n        this.map = [];\n        this.map[0]  = Input.Action.ATTACK;    // LMB\n        this.map[2]  = Input.Action.RELOAD;    // RMB\n\n        this.held = [];\n\n        this.reset();\n      }\n\n      async init() {\n        window.addEventListener('mousemove', event => {\n          if (!this.pointer) this.pointer = {};\n          //this.handlers['mousemove'](event.movementX, event.movementY, event.clientX, event.clientY);\n          this.pointer.u = Math.floor((event.clientX * viewport.width) / viewport.clientWidth);\n          this.pointer.v = Math.floor((event.clientY * viewport.height) / viewport.clientHeight);\n        });\n\n        window.addEventListener('mouseout', () => {\n          this.pointer = undefined;\n        });\n\n        window.addEventListener('mousedown', event => {\n          let k = this.map[event.button];\n          if (k) this.held[k] = true;\n        });\n\n        window.addEventListener('mouseup', event => {\n          let k = this.map[event.button];\n          if (k) this.held[k] = false;\n        });\n\n        window.addEventListener('click', event => {\n          event.preventDefault();\n        });\n\n        window.addEventListener('contextmenu', event => {\n          let k = this.map[event.button];\n          console.log(event.button);\n          if (k) this.held[k] = true;\n          this.releaseRMBTick = 2;\n          event.preventDefault();\n        });\n\n        return this;\n      }\n\n      update() {\n        // Hacks: ideally we could use mousedown and mouseup for all clicks and preventDefault to\n        // avoid opening the browser's context menu. This hasn't worked for me so far when clicking\n        // on a canvas, so I need to use the context menu event to capture a right mouse click instead.\n        //\n        // We fake a down/up for RMB clicks, which means we can't determine how long the RMB is held\n        // (but luckily we don't need to for this game).\n        if (this.releaseRMBTick) {\n          this.releaseRMBTick--;\n          if (this.releaseRMBTick === 0) {\n            this.held[Input.Action.RELOAD] = false;\n            console.log('released');\n          }\n        }\n      }\n\n      reset() {\n        this.pointer = undefined;\n        for (let action of Object.values(Input.Action)) {\n          this.held[action] = false;\n        }\n      }\n    }\n\n    //import { GamepadAdapter } from './GamepadAdapter';\n    //import { NormalVector } from './Geometry';\n\n    /**\n     * This is our abstract game input handler.\n     *\n     * Each frame, we'll collect input data from all of our supported input adapters,\n     * and turn it into game input. This game input can then be used by the game\n     * update for the frame.\n     *\n     * The input adapters give us data like \"key X pressed\", or \"right mouse button\n     * clicked\", or \"button B\" pressed, and these are translated into a game input\n     * like \"dodge\".\n     */\n    class Input {\n        async init() {\n            // A vector representing the direction the user is pressing/facing,\n            // separate from pressing and releasing inputs. Treating \"direction\"\n            // separately makes it easier to handle gamepad sticks.\n            this.direction = { x: 0, y: 0, m: 0 };\n\n            // \"Pressed\" means an input was pressed THIS FRAME.\n            this.pressed = {};\n\n            // \"Released\" means an input was released THIS FRAME.\n            this.released = {};\n\n            // \"Held\" means an input is held down. The input was \"Pressed\" either\n            // this frame or in a past frame, and has not been \"Released\" yet.\n            this.held = {};\n\n            // How many frames was this input held down by the player. If [held]\n            // is false, it represents how long the input was last held down.\n            this.framesHeld = {};\n\n            this.keyboard = new KeyboardAdapter(this);\n            await this.keyboard.init();\n\n            this.mouse = new MouseAdapter(this);\n            await this.mouse.init();\n\n            //this.gamepad = new GamepadAdapter(this);\n            //await this.gamepad.init();\n        }\n\n        update() {\n            // We could have some kind of \"input adapter toggle\", but it's easier to just treat all inputs\n            // as valid -- if you're pressing the \"attack\" button on either gamepad or keyboard, then you're\n            // attacking. For directional input, we instead check whether there's movement on the thumbstick,\n            // and we use it if there is -- otherwise we try to extract movement from the keyboard instead.\n\n            this.keyboard.update();\n            this.mouse.update();\n            //this.gamepad.update();\n\n            for (let action of Object.values(Input.Action)) {\n                let held = this.mouse.held[action] || this.keyboard.held[action];\n                //let held = this.gamepad.held[action] || this.keyboard.held[action];\n                this.pressed[action] = !this.held[action] && held;\n                this.released[action] = this.held[action] && !held;\n\n                if (this.pressed[action]) {\n                    this.framesHeld[action] = 1;\n                } else if (this.held[action] && held) {\n                    this.framesHeld[action]++;\n                }\n\n                this.held[action] = held;\n            }\n\n            this.pointer = this.mouse.pointer;\n\n            //this.direction = this.gamepad.direction.m > 0 ? this.gamepad.direction : this.keyboard.direction;\n            this.direction = this.keyboard.direction;\n        }\n\n        onDown(action) {\n        }\n\n        onUp(action) {\n        }\n    }\n\n    // Game Inputs\n    //\n    // Note that moving the player around is actually not considered an action; it's\n    // a separate non-action input called \"direction\". It just so happens that on\n    // keyboard, for example, pressing the \"down arrow\" key is considered both a\n    // press of the in-game DOWN action and a directional input. It's up to the input\n    // consumer to decide which input is relevant (if any). For example, on a menu,\n    // we may consume the DOWN/UP actions to navigate the menu, but ignore directional\n    // inputs.\n    //\n    Input.Action = {\n      UP:      11,\n      DOWN:    12,\n      LEFT:    13,\n      RIGHT:   14,\n      ATTACK:  21,\n      RELOAD:  30,\n      DEFLECT: 22,\n      DODGE:   23,\n      SUPER:   24,\n      MENU:    96,\n      MUTE:    97,\n      FREEZE:  98\n    };\n\n    /**\n     * Geometry\n     *\n     * A horrible grab bag of math-related nonsense.\n     */\n    const Geometry = {\n      RAD: (() => {\n        let radianTable = [];\n        for (let i = 0; i <= 360; i++) {\n          radianTable[i] = Math.PI * 2 * i / 360;\n        }\n        return radianTable;\n      })(),\n\n      normalizeVector(p) {\n        let m = Math.sqrt(p.x * p.x + p.y * p.y);\n        return (m === 0) ? { x: 0, y: 0, m: 0 } : { x: p.x / m, y: p.y / m, m };\n      },\n\n      vectorBetween(p1, p2) {\n        return Geometry.normalizeVector({ x: p2.x - p1.x, y: p2.y - p1.y });\n      },\n\n      angle2vector(r, m) {\n        return { x: Math.cos(r), y: Math.sin(r), m: m || 1 };\n      },\n\n      vector2angle(v) {\n        let angle = Math.atan2(v.y, v.x);\n        if (angle < 0) angle += Geometry.RAD[360];\n        return angle;\n      },\n\n      vector2point(v) {\n        return { x: v.x * (v.m || 1), y: v.y * (v.m || 1) };\n      },\n\n      dot(a, b) {\n        [a, b] = [Geometry.vector2point(a), Geometry.vector2point(b)];\n        return a.x * b.x + a.y * b.y;\n      },\n\n      // Takes a series of vectors and denormalizes them and adds them together, usually resulting\n      // in a point in space. Wrap in normalizeVector to get a normalized vector again, if desired.\n      vectorAdd(...vectors) {\n        let v = { x: 0, y: 0, m: 1 };\n        for (let vector of vectors) {\n          v.x += vector.x * (vector.m || 1);\n          v.y += vector.y * (vector.m || 1);\n        }\n        return v;\n      },\n\n      angleBetween(angle, min, max) {\n        if (min > max) [min, max] = [max, min];\n        while (angle >= max + Geometry.RAD[360]) angle -= Geometry.RAD[360];\n        while (angle <= min - Geometry.RAD[360]) angle += Geometry.RAD[360];\n        return (angle >= min && angle < max);\n      },\n\n      arcOverlap(angleA1, angleA2, angleB1, angleB2) {\n        console.log([angleA1, angleA2, angleB1, angleB2].map(x => x * 360 / (Math.PI * 2)));\n        if (angleA1 > angleA2) [angleA1, angleA2] = [angleA2, angleA1];\n        if (angleB1 > angleB2) [angleB1, angleB2] = [angleB2, angleB1];\n        //while (angleA1 < 0) angleA1 += Geometry.RAD[360];\n\n        while (angleB2 >= angleA2 + Geometry.RAD[360]) {\n          angleB2 -= Geometry.RAD[360];\n          angleB1 -= Geometry.RAD[360];\n        }\n        while (angleB1 <= angleA1 - Geometry.RAD[360]) {\n          angleB1 += Geometry.RAD[360];\n          angleB2 += Geometry.RAD[360];\n        }\n\n        const result = [Math.max(angleA1, angleB1), Math.min(angleA2, angleB2)];\n        console.log([angleA1, angleA2, angleB1, angleB2, ...result].map(x => x * 360 / (Math.PI * 2)));\n        return result[0] > result[1] ? undefined : result;\n      },\n\n      xy2qr(pos) {\n        return { q: (pos.x / Constants.TILE_WIDTH) | 0, r: (pos.y / Constants.TILE_HEIGHT) | 0 };\n      },\n\n      qr2xy(pos) {\n        return { x: pos.q * Constants.TILE_WIDTH, y: pos.r * Constants.TILE_HEIGHT };\n      },\n\n      xy2uv(pos) {\n        return {\n          u: pos.x + viewport.center.u - game.camera.pos.x,\n          v: pos.y + viewport.center.v - game.camera.pos.y\n        };\n      },\n\n      clamp(value, min, max) {\n        return value < min ? min : (value > max ? max : value);\n      },\n\n      // The parameters to this function are (Q, Q) or (R, R) - i.e. horizontal or\n      // vertical coordinates in tile space.\n      calculateRayIntersectionAndStep(startPos, endPos) {\n        let next, step, diff = endPos - startPos;\n\n        if (diff === 0) {\n            step = NaN;\n            next = +Infinity;\n        } else if (diff > 0) {\n            step = 1 / diff;\n            next = (1 - (startPos - Math.floor(startPos))) * step;\n        } else {\n            step = -1 / diff;\n            next = (startPos - Math.floor(startPos)) * step;\n        }\n\n        return { next, step };\n      },\n\n      // https://www.genericgamedev.com/general/shooting-rays-through-tilemaps/\n      *tilesHitBetween(p1, p2) {\n        let startQ = p1.x / Constants.TILE_WIDTH, startR = p1.y / Constants.TILE_HEIGHT;\n        let endQ = p2.x / Constants.TILE_WIDTH, endR = p2.y / Constants.TILE_HEIGHT;\n        let tileCount = Math.abs(Math.floor(startQ) - Math.floor(endQ)) + Math.abs(Math.floor(startR) - Math.floor(endR));\n\n        yield { q: startQ | 0, r: startR | 0, m: 0 };\n\n        // If there's only 1 or 2 hit tiles, we don't need the math to compute the middle.\n        if (tileCount > 1) {\n          let q = startQ, r = startR, m = 0;\n          let stepQ = Math.sign(endQ - startQ);\n          let stepR = Math.sign(endR - startR);\n          let intersectionQ = Geometry.calculateRayIntersectionAndStep(startQ, endQ);\n          let intersectionR = Geometry.calculateRayIntersectionAndStep(startR, endR);\n\n          for (let i = 0; i < tileCount - 1; i++) {\n            if (intersectionQ.next < intersectionR.next) {\n              q += stepQ;\n              m += stepQ;\n              intersectionQ.next += intersectionQ.step;\n            } else {\n              r += stepR;\n              m += stepR;\n              intersectionR.next += intersectionR.step;\n            }\n            yield { q: q | 0, r: r | 0, m };\n          }\n        }\n\n        if (tileCount > 0) {\n          yield { q: endQ | 0, r: endR | 0, m: 1 };\n        }\n      },\n\n      *tilesHitBy(p, v) {\n        yield *Geometry.tilesHitBetween(p, Geometry.vectorAdd(p, v));\n      },\n\n      /**\n       * @param {XY[]} bounds  the upper-left and lower-right bounds\n       * @yields {QR}\n       */\n      *tilesHitInBounds(bounds) {\n        for (let r = Math.floor(bounds[0].y / Constants.TILE_HEIGHT); r * Constants.TILE_HEIGHT < bounds[1].y; r++) {\n          for (let q = Math.floor(bounds[0].x / Constants.TILE_WIDTH); q * Constants.TILE_WIDTH < bounds[1].x; q++) {\n            yield { q, r };\n          }\n        }\n      },\n\n      /**\n       * @param {XY} p1  the starting position\n       * @param {XY} p2  the ending position\n       * @param {number} r  the radius of the moving circle\n       * @yields {QR}\n       */\n      *tilesHitBetweenCircle(p1, p2, r) {\n        let bounds = [\n          { x: Math.min(p1.x, p2.x) - r, y: Math.min(p1.y, p2.y) - r },\n          { x: Math.max(p1.x, p2.x) + r, y: Math.max(p1.y, p2.y) + r }\n        ];\n        yield *Geometry.tilesHitInBounds(bounds);\n      },\n\n      /**\n       * @param {XY} p  the starting position\n       * @param {XY} v  the velocity (movement)\n       * @param {number} r  the radius of the moving circle\n       * @yields {QR}\n       */\n      *tilesHitByCircle(p, v, r) {\n        yield *Geometry.tilesHitBetweenCircle(p, { x: p.x + v.x, y: p.y + v.y }, r);\n      },\n\n      // https://stackoverflow.com/a/18790389/80630\n      intersectCircleRectangle(p1, p2, r, bounds) {\n        // If the bounding box around the start and end points (+radius on all\n        // sides) does not intersect with the rectangle, definitely not an\n        // intersection\n        if (Math.max(p1.x, p2.x) + r < bounds[0].x ||\n            Math.min(p1.x, p2.x) - r > bounds[1].x ||\n            Math.max(p1.y, p2.y) + r < bounds[0].y ||\n            Math.min(p1.y, p2.y) - r > bounds[1].y)\n          return;\n\n        let dx = p2.x - p1.x;\n        let dy = p2.y - p1.y;\n        let invdx = (dx === 0 ? 0 : 1 / dx);\n        let invdy = (dy === 0 ? 0 : 1 / dy);\n        let cornerX = Infinity;\n        let cornerY = Infinity;\n\n        // Check each side of the rectangle for a single-side intersection\n        // Left Side\n        if (p1.x - r < bounds[0].x && p2.x + r > bounds[0].x) {\n          let ltime = ((bounds[0].x - r) - p1.x) * invdx;\n          if (ltime >= 0 && ltime <= 1) {\n            let ly = dy * ltime + p1.y;\n            if (ly >= bounds[0].y && ly <= bounds[1].y) {\n              return { x: dx * ltime + p1.x, y: ly, t: ltime, nx: -1, ny: 0, ix: bounds[0].x, iy: ly };\n            }\n          }\n          cornerX = bounds[0].x;\n        }\n        // Right Side\n        if (p1.x + r > bounds[1].x && p2.x - r < bounds[1].x) {\n          let rtime = (p1.x - (bounds[1].x + r)) * -invdx;\n          if (rtime >= 0 && rtime <= 1) {\n            let ry = dy * rtime + p2.y;\n            if (ry >= bounds[0].y && ry <= bounds[1].y) {\n              return { x: dx * rtime + p1.x, y: ry, t: rtime, nx: 1, ny: 0, ix: bounds[1].x, iy: ry };\n            }\n          }\n          cornerX = bounds[1].x;\n        }\n        // Top Side\n        if (p1.y - r < bounds[0].y && p2.y + r > bounds[0].y) {\n          let ttime = ((bounds[0].y - r) - p1.y) * invdy;\n          if (ttime >= 0 && ttime <= 1) {\n            let tx = dx * ttime + p1.x;\n            if (tx >= bounds[0].x && tx <= bounds[1].x) {\n              return { x: tx, y: dy * ttime + p1.y, t: ttime, nx: 0, ny: -1, ix: tx, iy: bounds[0].y };\n            }\n          }\n          cornerY = bounds[0].y;\n        }\n        // Bottom Side\n        if (p1.y + r > bounds[1].y && p2.y - r < bounds[1].y) {\n          let btime = (p1.y - (bounds[1].y + r)) * -invdy;\n          if (btime >= 0 && btime <= 1) {\n            let bx = dx * btime + p1.x;\n            if (bx >= bounds[0].x && bx <= bounds[1].x) {\n              return { x: bx, y: dy * btime + p1.y, t: btime, nx: 0, ny: 1, ix: bx, iy: bounds[0].y };\n            }\n          }\n          cornerY = bounds[1].y;\n        }\n\n        // If we haven't touched anything, there is no collision\n        if (cornerX === Infinity && cornerY === Infinity) return;\n\n        // We didn't pass through a side but may be hitting the corner\n        if (cornerX !== Infinity && cornerY === Infinity) {\n          cornerY = dy > 0 ? bounds[1].y : bounds[0].y;\n        }\n        if (cornerY !== Infinity && cornerX === Infinity) {\n          cornerX = dx > 0 ? bounds[1].x : bounds[0].x;\n        }\n\n        /* Solve the triangle between the start, corner, and intersection point.\n         *\n         *           +-----------T-----------+\n         *           |                       |\n         *          L|                       |R\n         *           |                       |\n         *           C-----------B-----------+\n         *          / \\\n         *         /   \\r     _.-E\n         *        /     \\ _.-'\n         *       /    _.-I\n         *      / _.-'\n         *     S-'\n         *\n         * S = start of circle's path\n         * E = end of circle's path\n         * LTRB = sides of the rectangle\n         * I = {ix, iY} = point at which the circle intersects with the rectangle\n         * C = corner of intersection (and collision point)\n         * C=>I (r) = {nx, ny} = radius and intersection normal\n         * S=>C = cornerdist\n         * S=>I = intersectionDistance\n         * S=>E = lineLength\n         * <S = innerAngle\n         * <I = angle1\n         * <C = angle2\n         */\n        let inverseRadius = 1 / r;\n        let lineLength = Math.sqrt(dx * dx + dy * dy);\n        let cornerdx = cornerX - p1.x;\n        let cornerdy = cornerY - p1.y;\n        let cornerDistance = Math.sqrt(cornerdx * cornerdx + cornerdy * cornerdy);\n        let innerAngle = Math.acos((cornerdx * dx + cornerdy * dy) / (lineLength * cornerDistance));\n\n        // If the circle is too close, no intersection\n        if (cornerDistance < r) return;\n\n        // If inner angle is zero, it's going to hit the corner straight on.\n        if (innerAngle === 0) {\n          let time = (cornerDistance - r) / lineLength;\n\n            // Ignore if time is outside boundaries of (p1, p2)\n            if (time > 1 || time < 0) return;\n\n            let ix = time * dx + p1.x;\n            let iy = time * dy + p1.y;\n            let nx = cornerdx / cornerDistance;\n            let ny = cornerdy / cornerDistance;\n\n            return isNaN(ix) ? undefined : { x: ix, y: iy, t: time, nx, ny, ix: cornerX, iy: cornerY };\n        }\n\n        let innerAngleSin = Math.sin(innerAngle);\n        let angle1Sin = innerAngleSin * cornerDistance * inverseRadius;\n\n        // If the angle is too large, there is no collision\n        if (Math.abs(angle1Sin) > 1) return;\n\n        let angle1 = Math.PI - Math.asin(angle1Sin);\n        let angle2 = Math.PI - innerAngle - angle1;\n        let intersectionDistance = r * Math.sin(angle2) / innerAngleSin;\n        let time = intersectionDistance / lineLength;\n\n        // Ignore if time is outside boundaries of (p1, p2)\n        if (time > 1 || time < 0) return;\n\n        let ix = time * dx + p1.x;\n        let iy = time * dy + p2.y;\n        let nx = (ix - cornerX) * inverseRadius;\n        let ny = (iy - cornerY) * inverseRadius;\n\n        return isNaN(ix) ? undefined : { x: ix, y: iy, t: time, nx, ny, ix: cornerX, iy: cornerY };\n      },\n\n      // https://stackoverflow.com/questions/18683179/how-to-fix-circles-overlap-in-collision-response\n      //\n      // This is an incredibly simple implementation that ASSUMES very small velocities. It doesn't attempt\n      // to answer the question about \"when\" the intersection happened like the method above - may\n      // fix that in future.\n      intersectCircleCircle2(p1, r1, v1, p2, r2, v2) {\n        [v1, v2] = [Geometry.vector2point(v1), Geometry.vector2point(v2)];\n        let a1 = { x: p1.x + v1.x, y: p1.y + v1.y };\n        let a2 = { x: p2.x + v2.x, y: p2.y + v2.y };\n        let delta = Geometry.vectorBetween(a1, a2);\n        if (delta.m < r1 + r2) {\n          return { nx: delta.x, ny: delta.y, m: r1 + r2 - delta.m };\n        }\n      },\n\n      flood(maze, pos) {\n        let result = Geometry.array2d(maze[0].length, maze.length, 100);\n        console.log(result[0][0]);\n        let stack = [{ ...pos, cost: 0 }];\n        while (stack.length > 0) {\n          let { q, r, cost } = stack.shift();\n          if (result[r][q] <= cost) continue;\n          result[r][q] = cost++;\n          if (maze[r][q + 1] && result[r][q + 1] > cost) stack.push({ q: q + 1, r, cost });\n          if (maze[r][q - 1] && result[r][q - 1] > cost) stack.push({ q: q - 1, r, cost });\n          if (maze[r + 1][q] && result[r + 1][q] > cost) stack.push({ q, r: r + 1, cost });\n          if (maze[r - 1][q] && result[r - 1][q] > cost) stack.push({ q, r: r - 1, cost });\n        }\n        console.log([\"---\", result, \"---\"]);\n        return result;\n      },\n\n      array2d(width, height, value) {\n        let fn = typeof value === 'function' ? value : () => value;\n        return Array.from({ length: height }, () => Array.from({ length: width }, fn));\n      },\n\n      tileIsPassable(q, r) {\n        return !!game.maze.maze[r][q];\n      }\n    };\n\n    /**\n     * Seeded random number generator, using SimpleFastCounter for generator and\n     * xmur3 for hashing.\n     *\n     * https://stackoverflow.com/questions/521295/seeding-the-random-number-generator-in-javascript\n     */\n    const Random = {\n        sfc32(a, b, c, d) {\n            return () => {\n                a >>>= 0; b >>>= 0; c >>>= 0; d >>>= 0;\n                let t = (a + b) | 0;\n                a = b ^ b >>> 9;\n                b = c + (c << 3) | 0;\n                c = (c << 21 | c >>> 11);\n                d = d + 1 | 0;\n                t = t + d | 0;\n                c = c + t | 0;\n                return (t >>> 0) / 4294967296;\n            }\n        },\n\n        xmur3(str) {\n            let i, h;\n            for (i = 0, h = 1779033703 ^ str.length; i < str.length; i++) {\n                h = Math.imul(h ^ str.charCodeAt(i), 3432918353);\n                h = h << 13 | h >>> 19;\n            }\n\n            return () => {\n                h = Math.imul(h ^ h >>> 16, 2246822507);\n                h = Math.imul(h ^ h >>> 13, 3266489909);\n                return (h ^= h >>> 16) >>> 0;\n            }\n        },\n\n        seed(str) {\n            let seedfn = this.xmur3(str);\n            let randfn = this.sfc32(seedfn(), seedfn(), seedfn(), seedfn());\n\n            // If min/max are not supplied, returns a random floating point value\n            // (>=0 && <1). If they are supplied, returns a random integer value\n            // (>=min && <max).\n            return (min, max) => {\n                if (typeof min === \"number\" && typeof max === \"number\") {\n                    return Math.floor(randfn() * (max - min)) + min;\n                } else {\n                    return randfn();\n                }\n            };\n        }\n    };\n\n    const CROSS = [\n        { q: 0, r: 0 },\n        { q: 0, r: -1 },\n        { q: 0, r: 1 },\n        { q: -1, r: 0 },\n        { q: 1, r: 0 }\n    ];\n\n    const CARDINALS = [\n        { q: 0, r: -1 },\n        { q: 0, r: 1 },\n        { q: -1, r: 0 },\n        { q: 1, r: 0 }\n    ];\n\n    // Maze Generator - TODO\n    //\n    //\n    const MazeGenerator = {\n        openCrossCells(maze, q, r) {\n            return CROSS.filter(dir => {\n                let [cq, cr] = [q + dir.q, r + dir.r];\n                return cr >= 0 && cr < maze.length && cq >= 0 && cq < maze[0].length && !maze[cr][cq];\n            });\n        },\n\n        attemptRoomPlacement(maze, rand, bounds, width, height, roomNumber) {\n            let q = rand(0, (bounds[1].q - width) / 2) * 2 + 1;\n            let r = rand(0, (bounds[1].r - height) / 2) * 2 + 1;\n            let found = undefined;\n\n            //\n            // TUNEABLE\n            //\n            // You can never \"touch\" the spawn room (Room #1). If you touch another room,\n            // there's a 9% chance for each attempt to allow the room to be built, potentially\n            // overlapping/intersecting, or even completely eclipsing the previous room\n            // if this room is larger.\n            //\n            for (let j = 0; j < height; j++) {\n                for (let i = 0; i < width; i++) {\n                    if (maze[r+j][q+i]) roomNumber = found = maze[r+j][q+i];\n                    if (maze[r+j][q+i]===1) return;\n                }\n            }\n            if (found && rand() > 0.01) return;\n\n            for (let j = 0; j < height; j++) {\n                for (let i = 0; i < width; i++) {\n                    maze[r+j][q+i] = roomNumber;\n                }\n            }\n\n            return { q, r, width, height, roomNumber };\n        },\n\n        carveMaze(maze, rand, startQ, startR, roomNumber) {\n            let cells = [{ q: startQ, r: startR }];\n            maze[startR][startQ] = roomNumber;\n\n            while (cells.length > 0) {\n                //\n                // TUNEABLE\n                //\n                // When carving, we can attempt to carve off any cell in our collected list. For\n                // this game, we choose 75% to keep carving off the last cell we carved (windy passage),\n                // and 25% to carve somewhere else (branch). If we choose to branch, that's the\n                // new windy passage, leaving the old one for later.\n                //\n                let idx = rand() < 0.25 ? rand(0, cells.length) : cells.length - 1;\n                let cell = cells[idx];\n                if (idx !== cells.length - 1) {\n                    cells.splice(idx, 1);\n                    cells.push(cell);\n                }\n\n                let possible = CARDINALS.filter(dir => {\n                    return MazeGenerator.openCrossCells(maze, cell.q + dir.q, cell.r + dir.r).length === 4;\n                });\n    /*\n                let possible = CARDINALS.filter(dir => {\n                    console.log(cell.r + dir.r, cell.q + dir.q);\n                    if (cell.r + dir.r < 0 || cell.r + dir.r >= maze.length || cell.q + dir.q < 0 || cell.q + dir.q >= maze[0].length) return false;\n                    if (maze[cell.r + dir.r][cell.q + dir.q]) return false;\n\n                    let openCells = CARDINALS.filter(dir2 => {\n                        let [cq, cr] = [cell.q + dir.q + dir2.q, cell.r + dir.r + dir2.r];\n                        if (cr < 0 || cr >= maze.length || cq < 0 || cq >= maze[0].length) return false;\n                        return !maze[cr][cq];\n                    });\n                    console.log([dir.q, dir.r, openCells.length]);\n\n                    return openCells.length === 3;\n                });\n                console.log(possible);\n                */\n\n                if (possible.length === 0) {\n                    cells.splice(cells.indexOf(cell), 1);\n                } else {\n                    let choice = possible[rand(0, possible.length)];\n                    maze[cell.r + choice.r][cell.q + choice.q] = roomNumber;\n                    cells.push({ q: cell.q + choice.q, r: cell.r + choice.r });\n                    console.log(cells);\n                }\n            }\n        },\n\n        carveConnectors(maze, rand) {\n            let connectors = [];\n            let rooms = [];\n\n            for (let r = 1; r < maze.length - 1; r++) {\n                for (let q = 1; q < maze.length - 1; q++) {\n                    let room1, room2;\n\n                    let [up, down, left, right] = [\n                        maze[r - 1][q],\n                        maze[r + 1][q],\n                        maze[r][q - 1],\n                        maze[r][q + 1]\n                    ];\n\n                    if (up && down && up !== down) {\n                        room1 = up, room2 = down;\n                    } else if (left && right && left !== right) {\n                        room1 = left, room2 = right;\n                    }\n\n                    if (room1 && room2) {\n                        if (room1 > room2) {\n                            [room1, room2] = [room2, room1];\n                        }\n                        connectors.push({ q, r, room1, room2 });\n                        rooms.push(room1, room2);\n                        //connectors.push({ q, r, room1: room2, room2: room1 });\n                        /*connectors[room1] = connectors[room1] || [];\n                        connectors[room1][room2] = connectors[room1][room2] || [];\n                        connectors[room1][room2].push({ q, r });\n                        connectors[room2] = connectors[room2] || [];\n                        connectors[room2][room1] = connectors[room2][room1] || [];\n                        connectors[room2][room1].push({ q, r });*/\n                    }\n                }\n            }\n\n            let groups = [...new Set(rooms)].map(a => [a]);\n            console.log(groups);\n\n            while (connectors.length > 0) {\n                let idx = rand(0, connectors.length);\n                let choice = connectors.splice(idx, 1)[0];\n                maze[choice.r][choice.q] = choice.room1;\n\n                let group1 = groups.find(group => group.includes(choice.room1));\n                let group2 = groups.find(group => group.includes(choice.room2));\n\n                if (rand() > 0.2) {\n                    connectors = connectors.filter(c => !(\n                        (group1.includes(c.room1) && group2.includes(c.room2)) ||\n                        (group2.includes(c.room1) && group1.includes(c.room2))\n                    ));\n                }\n\n                if (group1 !== group2) {\n                    groups.splice(groups.indexOf(group2), 1);\n                    group1.push(...group2);\n                }\n            }\n    /*\n            while (groups.length > 1) {\n                let a = rand(0, groups.length);\n                let b = (a + 1) % groups.length;\n                let possible = connectors.filter(pair => groups[a].includes(pair.room1) && groups[b].includes(pair.room2));\n                console.log(possible);\n                let choice = possible[rand(0, possible.length)];\n\n                maze[choice.r][choice.q] = pair.room1;\n                groups.splice(b, 1);\n                groups[a] = groups[a].concat(groups[b]);\n            }\n            */\n\n            /*for (let pair of Object.keys(connectors)) {\n                let choice = connectors[pair][rand(0, connectors[pair].length)];\n                maze[choice.r][choice.q] = 2;\n            }*/\n        },\n\n        pruneDeadEnds(maze, rand) {\n            let deadEnds = [];\n\n            for (let r = 0; r < maze.length; r++) {\n                for (let q = 0; q < maze[0].length; q++) {\n                    if (maze[r][q] && MazeGenerator.openCrossCells(maze, q, r).length >= 3) {\n                        deadEnds.push({ q, r });\n                    }\n                }\n            }\n\n            while (deadEnds.length > 0) {\n                let idx = rand(0, deadEnds.length);\n                let cell = deadEnds.splice(idx, 1)[0];\n\n                if (rand() < 0.45) {\n                    let possible = CARDINALS.filter(dir => {\n                        return MazeGenerator.openCrossCells(maze, cell.q + dir.q, cell.r + dir.r).length <= 2 &&\n                          (cell.q+dir.q) >= 0 && (cell.q+dir.q) < maze[0].length &&\n                          (cell.r+dir.r) >= 0 && (cell.r+dir.r) < maze.length;\n                    });\n                    let choice = possible[rand(0, possible.length)];\n                    if (choice) {\n                        maze[cell.r + choice.r][cell.q + choice.q] = maze[cell.r][cell.q];\n                        continue;\n                    }\n                }\n\n                if (rand() > 0.05) {\n                    maze[cell.r][cell.q] = 0;\n                    CARDINALS.forEach(dir => {\n                        let [cq, cr] = [cell.q + dir.q, cell.r + dir.r];\n                        if (maze[cr][cq] && MazeGenerator.openCrossCells(maze, cq, cr).length >= 3 &&\n                            cq >= 0 && cq < maze[0].length && cr >= 0 && cr < maze.length) {\n                            deadEnds.push({ q: cq, r: cr });\n                        }\n                    });\n                }\n            }\n        },\n\n        createRoomLookup(rooms) {\n            return rooms.reduce((hash, room) => {\n                hash[room.roomNumber] = hash[room.roomNumber] || [];\n                hash[room.roomNumber].push(room);\n                return hash;\n            }, {});\n        },\n\n        createTiles(maze, rand) {\n            let tiles = Geometry.array2d(maze[0].length, maze.length, () => {\n                return (rand() < 0.1 ? Constants.TILE_WALL2 : Constants.TILE_WALL1) + (0b000_010_000 << 4);\n            });\n            for (let r = 0; r < tiles.length; r++) {\n                for (let q = 0; q < tiles[0].length; q++) {\n                    if (maze[r][q]) {\n                        let key =\n                            (maze[r - 1][q - 1] ? 0 : 0b100_000_000) +\n                            (maze[r - 1][q]     ? 0 : 0b010_000_000) +\n                            (maze[r - 1][q + 1] ? 0 : 0b001_000_000) +\n                            (maze[r][q - 1]     ? 0 : 0b000_100_000) +\n                            (maze[r][q]         ? 0 : 0b000_010_000) +\n                            (maze[r][q + 1]     ? 0 : 0b000_001_000) +\n                            (maze[r + 1][q - 1] ? 0 : 0b000_000_100) +\n                            (maze[r + 1][q]     ? 0 : 0b000_000_010) +\n                            (maze[r + 1][q + 1] ? 0 : 0b000_000_001);\n                        tiles[r][q] = (key << 4) + Constants.TILE_FLOOR1;\n                    }\n                }\n            }\n            return tiles;\n        },\n\n        generate(seed) {\n            let maze = Geometry.array2d(99, 99, 0);\n            //let rand = Random.seed(\"apples\");\n            let rand = Random.seed(seed);\n\n            let roomNumber = 1;\n\n            let result = MazeGenerator.attemptRoomPlacement(maze, rand, [{ q: 0, r: 0 }, { q: 99, r: 99 }], 11, 9, roomNumber++);\n            console.log(result);\n            let rooms = [result];\n\n            for (let i = 0; i < 100; i++) {\n                let w = rand(3, 4) * 2 + 1;\n                let h = rand(3, 4) * 2 + 1;\n                result = MazeGenerator.attemptRoomPlacement(maze, rand, [{ q: 0, r: 0 }, { q: 99, r: 99 }], w, h, roomNumber);\n                if (result) rooms.push(result);\n                if (result && result.roomNumber === roomNumber) roomNumber++;\n            }\n            for (let i = 0; i < 100; i++) {\n                let w = rand(2, 4) * 2 + 1;\n                let h = rand(2, 4) * 2 + 1;\n                result = MazeGenerator.attemptRoomPlacement(maze, rand, [{ q: 0, r: 0 }, { q: 99, r: 99 }], w, h, roomNumber);\n                if (result) rooms.push(result);\n                if (result && result.roomNumber === roomNumber) roomNumber++;\n            }\n            for (let i = 0; i < 100; i++) {\n                let w = rand(1, 4) * 2 + 1;\n                let h = rand(1, 4) * 2 + 1;\n                result = MazeGenerator.attemptRoomPlacement(maze, rand, [{ q: 0, r: 0 }, { q: 99, r: 99 }], w, h, roomNumber);\n                if (result) rooms.push(result);\n                if (result && result.roomNumber === roomNumber) roomNumber++;\n            }\n\n            /*\n            random room placement\n\n            for (let i = 0; i < 900; i++) {\n                let w = rand(1, 4) * 2 + 1;\n                let h = rand(1, 4) * 2 + 1;\n                result = MazeGenerator.attemptRoomPlacement(maze, rand, [{ q: 0, r: 0 }, { q: 99, r: 99 }], w, h, roomNumber++);\n                console.log(result);\n            }\n            */\n\n            for (let r = 1; r < 99; r += 2) {\n                for (let q = 1; q < 99; q += 2) {\n                    if (MazeGenerator.openCrossCells(maze, q, r).length === 5) {\n                        MazeGenerator.carveMaze(maze, rand, q, r, roomNumber++);\n                    }\n                }\n            }\n\n            MazeGenerator.carveConnectors(maze, rand);\n\n            MazeGenerator.pruneDeadEnds(maze, rand);\n\n            let homeflow = Geometry.flood(maze, rooms[0]);\n            return {\n                maze,\n                tiles: MazeGenerator.createTiles(maze, rand),\n                rand,\n                rooms: this.createRoomLookup(rooms),\n                flowhome: homeflow\n            };\n        }\n    };\n\n    const C_WIDTH = 3;\n    const C_HEIGHT = 5;\n\n    // Very simple variable-width font implementation. The characters in the font strip\n    // are left-aligned in their 3x5 pixel boxes, so in order to have variable width,\n    // we just need to note the characters that AREN'T full width. Anything not in\n    // this list has full shift (3+1 = 4 pixels).\n    const C_SHIFT = {\n        32: 3,          // Space\n        44: 3,          // Comma\n        46: 3,          // Period\n        73: 2           // I\n    };\n\n    /**\n     * Text\n     *\n     * Utilities for drawing text using in-game pixel font.\n     */\n    const Text = {\n        async init() {\n            this.default = Sprite.font.img;\n            this.fire = this.recolor(this.default, ctx => {\n                let gradient = ctx.createLinearGradient(0, 0, 0, this.default.height);\n                gradient.addColorStop(0, 'rgba(240,134,51,1)');\n                gradient.addColorStop(1, 'rgba(250,220,74,1)');\n                return gradient;\n            });\n            this.shadow = this.recolor(this.default, 'rgba(240, 240, 255, 0.25)');\n        },\n\n        drawText(ctx, text, u, v, font = this.default, scale = 1) {\n            text = text.toUpperCase();\n            for (let idx = 0; idx < text.length; idx++) {\n                let c = text.charCodeAt(idx);\n                ctx.drawImage(\n                    font,\n                    (c - 32) * (C_WIDTH + 1), 0, C_WIDTH, C_HEIGHT,\n                    u, v, C_WIDTH * scale, C_HEIGHT * scale\n                );\n                u += (C_SHIFT[c] || (C_WIDTH + 1)) * scale;\n            }\n        },\n\n        drawRightText(ctx, text, u, v, font = this.default, scale = 1) {\n            text = text.toUpperCase();\n            u -= this.measureWidth(text, scale);\n            this.drawText(ctx, text, u, v, font, scale);\n        },\n\n        drawParagraph(ctx, text, u, v, w, h, font = this.default, scale = 1) {\n            let cu = u, cv = v, phrases = text.toUpperCase().split(' ');\n\n            for (let phrase of phrases) {\n                let phraseWidth = this.measureWidth(phrase, scale);\n                if (cu + phraseWidth - u > w) {\n                    cu = u;\n                    cv += (C_HEIGHT + 2) * scale;\n                }\n                this.drawText(ctx, phrase, cu, cv, font, scale);\n                cu += phraseWidth + (C_SHIFT[32] );\n            }\n        },\n\n        measureWidth(text, scale) {\n            return text.split('').reduce((sum, c) => sum + (C_SHIFT[c.charCodeAt(0)] || 4), 0) * scale;\n        },\n\n        recolor(font, color) {\n            let canvas = new Canvas(font.width, font.height);\n            canvas.ctx.fillStyle = typeof color === \"function\" ? color(canvas.ctx) : color;\n            canvas.ctx.fillRect(0, 0, font.width, font.height);\n            console.log(font.width, font.height, color, canvas);\n            canvas.ctx.globalCompositeOperation = 'destination-in';\n            canvas.ctx.drawImage(font, 0, 0);\n            return canvas.canvas;\n        },\n    };\n\n    /**\n     * Detection\n     */\n    const Detection = {\n      lineOfSight(a, b) {\n          // todo: this checks center mass\n          for (let tile of Geometry.tilesHitBetween(a.pos, b.pos)) {\n            if (!Geometry.tileIsPassable(tile.q, tile.r)) return false;\n          }\n\n          // todo: distance away\n          // todo: facing check\n          return true;\n      }\n    };\n\n    /**\n     * Behavior\n     */\n    const Behavior = {\n      IDLE:   101,\n      WANDER: 102,\n      CHASE:  103,\n      HUNT:   104,\n      FLEE:   105,\n      DEAD:   106,\n\n      ATTACK: 201,\n      RELOAD: 202,\n\n      apply(entities) {\n        for (let entity of entities) {\n          if (entity.think) entity.think();\n        }\n      }\n    };\n\n    /**\n     * Monster\n     */\n    class Monster {\n      constructor() {\n        this.pos = { x: 0, y: 0 };\n        this.vel = { x: 0, y: 0 };\n        this.facing = { x: 0, y: -1, m: 0 };\n        this.hp = 100;\n        this.damage = [];\n        this.radius = 11;\n\n        this.mass = 0.5;\n      }\n\n      think() {\n        switch (this.state) {\n          case Behavior.IDLE:\n            if (Detection.lineOfSight(this, game.player)) {\n              this.state = Behavior.CHASE;\n            }\n            break;\n          case Behavior.CHASE:\n            let diff = Geometry.vectorBetween(this.pos, game.player.pos);\n            diff.m = Geometry.clamp(diff.m, 0, 1);\n            this.vel = { x: diff.x * diff.m, y: diff.y * diff.m };\n            break;\n          case Behavior.DEAD:\n            this.vel = { x: 0, y: 0, m: 0 };\n            if (!this.cullt) this.cullt = 15;\n            this.cullt--;\n            if (this.cullt < 1) this.cull = true;\n            break;\n          default:\n            this.state = Behavior.IDLE;\n            break;\n        }\n      }\n\n      draw(viewport) {\n        // TODO\n        if (this.state === Behavior.DEAD) {\n          Sprite.drawViewportSprite(viewport, Sprite.monster_dead, this.pos, game.camera.pos);\n        } else {\n          Sprite.drawViewportSprite(viewport, Sprite.monster, this.pos, game.camera.pos);\n        }\n      }\n    }\n\n    class ShotgunBlast {\n      constructor(pos, angle) {\n        this.pos = { ...pos };\n        this.angle = angle;\n        this.spread = Geometry.RAD[70];\n        this.range = 55;\n      }\n\n      think() {\n        this.t = (this.t || 0) + 1;\n\n        if (this.t === 3) {\n          let entities = game.entities.filter(entity => entity instanceof Monster);\n          for (let entity of entities) {\n            let vect = Geometry.vectorBetween(this.pos, entity.pos);\n            if (vect.m >= this.range + entity.radius) continue;\n\n            let dot1 = Geometry.vectorBetween(\n              this.pos,\n              { x: entity.pos.x - vect.y * entity.radius, y: entity.pos.y + vect.x * entity.radius }\n            );\n            let dot2 = Geometry.vectorBetween(\n              this.pos,\n              { x: entity.pos.x + vect.y * entity.radius, y: entity.pos.y - vect.x * entity.radius }\n            );\n            let sides = [Geometry.vector2angle(dot1), Geometry.vector2angle(dot2)];\n            let overlap = Geometry.arcOverlap(sides[0], sides[1], this.angle - this.spread / 2, this.angle + this.spread / 2);\n            if (!overlap) continue;\n\n            let wallHit = [];\n            let k = Geometry.vectorAdd(this.pos, Geometry.angle2vector(sides[0], vect.m));\n            for (let tile of Geometry.tilesHitBy(this.pos, Geometry.angle2vector(sides[0], vect.m))) {\n              if (!Geometry.tileIsPassable(tile.q, tile.r)) {\n                wallHit.push(tile);\n                break;\n              }\n            }\n            for (let tile of Geometry.tilesHitBy(this.pos, Geometry.angle2vector(sides[1], vect.m))) {\n              if (!Geometry.tileIsPassable(tile.q, tile.r)) {\n                wallHit.push(tile);\n                break;\n              }\n            }\n\n            if (wallHit.length < 2) {\n              // hit\n              entity.damage.push({ amount: 25, vector: vect });\n            }\n          }\n        }\n\n        if (this.t > 6) this.cull = true;\n      }\n\n      draw(viewport) {\n        // TODO\n        //Sprite.drawViewportSprite(viewport, Sprite.monster, this.pos, game.camera.pos);\n        let uv = Geometry.xy2uv(this.pos);\n        viewport.ctx.beginPath();\n        viewport.ctx.arc(uv.u, uv.v, this.range, this.angle - this.spread / 2, this.angle + this.spread / 2);\n        viewport.ctx.lineTo(uv.u, uv.v);\n        viewport.ctx.closePath();\n        viewport.ctx.fillStyle = 'rgba(255, 0, 0, 0.5)';\n        viewport.ctx.fill();\n      }\n    }\n\n    class ReloadAnimation {\n      constructor(frames) {\n        this.t = 0;\n        this.d = frames;\n      }\n\n      think() {\n        if (++this.t === this.d) this.cull = true;\n      }\n\n      draw(viewport) {\n        for (let i = 0; i < game.player.shellsMax; i++) {\n          let end = i * this.d / game.player.shellsMax;\n          let start = end - 3;\n\n          if (this.t >= start) {\n            let y = Math.min(10, 10 + this.t - end);\n            viewport.ctx.drawImage(Sprite.hud_shells_full.img, 15 + 6 * i, y);\n          }\n        }\n      }\n    }\n\n    /**\n     * Player\n     */\n    class Player {\n      constructor() {\n        this.pos = { x: 0, y: 0 };\n        this.vel = { x: 0, y: 0 };\n        this.facing = { x: 0, y: -1, m: 0 };\n        this.hp = 100;\n        this.damage = [];\n        this.radius = 12;\n\n        this.shellsLeft = 4;\n        this.shellsMax = 4;\n\n        this.mass = 3;\n      }\n\n      think() {\n        switch (this.state) {\n          case Behavior.HUNT:\n            this.defaultMovement(1);\n\n            if (game.input.pressed[Input.Action.ATTACK]) {\n              if (this.shellsLeft === 0) {\n                this.reload();\n              } else {\n                this.fire();\n              }\n            }\n\n            if (game.input.pressed[Input.Action.RELOAD]) {\n              this.reload();\n            }\n\n            break;\n          case Behavior.ATTACK:\n            this.defaultMovement(1);\n            if (--this.frames <= 0) this.state = Behavior.HUNT;\n            break;\n          case Behavior.RELOAD:\n            this.defaultMovement(2.5);\n            if (--this.frames <= 0) {\n              this.shellsLeft = this.shellsMax;\n              this.state = Behavior.HUNT;\n            }\n            break;\n          default:\n            this.state = Behavior.HUNT;\n            this.frames = 0;\n            break;\n        }\n      }\n\n      defaultMovement(velocityAdj) {\n        if (game.pointerXY()) {\n          this.facing = Geometry.vectorBetween(this.pos, game.pointerXY());\n        }\n\n        let v = {\n          x: game.input.direction.x * game.input.direction.m * 1.8 * velocityAdj,\n          y: game.input.direction.y * game.input.direction.m * 1.8 * velocityAdj\n        };\n\n        this.vel.x = (this.vel.x + v.x) / 2;\n        this.vel.y = (this.vel.y + v.y) / 2;\n      }\n\n      draw(viewport) {\n        Sprite.drawViewportSprite(viewport, Sprite.player, this.pos, game.camera.pos);\n\n        viewport.ctx.strokeStyle = 'rgba(255, 255, 64, 0.3)';\n        viewport.ctx.beginPath();\n        let uv = game.xy2uv(this.pos);\n        viewport.ctx.arc(uv.u, uv.v, Constants.PLAYER_BOUND_RADIUS, 0, 2 * Math.PI);\n        viewport.ctx.setLineDash([2, 1]);\n        viewport.ctx.stroke();\n        viewport.ctx.setLineDash([]);\n      }\n\n      fire() {\n        this.state = Behavior.ATTACK;\n        this.frames = 6;\n        this.shellsLeft--;\n\n        let angle = Geometry.vector2angle(this.facing);\n        game.entities.push(new ShotgunBlast(this.pos, angle));\n\n        this.vel = Geometry.normalizeVector(this.facing);\n        this.vel.m = 1;\n\n        /*\n        let spread = G.RAD[60];\n        let pellets = 12;\n        // shotgun: 60, 12, 10\n        // sniper: 5, 12, 40\n\n        for (let idx = 0; idx < pellets; idx++) {\n          let pelletAngle = (idx * spread / (pellets - 1)) + angle - spread / 2;\n          let pelletVector = G.angle2vector(pelletAngle);\n          let bullet = new Bullet();\n          bullet.pos = { ...this.pos };\n          bullet.vel = { x: pelletVector.x * 10, y: pelletVector.y * 10 };\n          game.entities.push(bullet);\n        }\n        */\n\n      }\n\n      reload() {\n        this.state = Behavior.RELOAD;\n        this.frames = 12;\n        game.entities.push(new ReloadAnimation(12));\n      }\n    }\n\n    const Menu = {\n        draw(viewport) {\n\n            return;\n\n            /*\n            Text.drawText(ctx, \"Abominable Snowman\", 120, 50);\n            Text.drawText(ctx, \"Abominable Snowman\", 121, 50, Text.shadow);\n            Text.drawRightText(ctx, \"500\", 120, 70);\n            Text.drawRightText(ctx, \"1,200\", 120, 80);\n            Text.drawRightText(ctx, \"5,000\", 120, 90);\n            Text.drawRightText(ctx, \"5,000\", 121, 91, Text.shadow);\n\n\n            5px 7px 9px\n\n            draw(viewport) {\n                Sprite.drawViewportSprite(viewport, Sprite.player, this.pos, game.camera.pos);\n\n                viewport.ctx.strokeStyle = 'rgba(255, 255, 64, 0.3)';\n                viewport.ctx.beginPath();*/\n\n        }\n    };\n\n    /**\n     * Movement\n     */\n    const Movement = {\n      apply(entities) {\n        // Movement only applies to active entities with positions and velocities\n        let movers = entities.filter(entity => entity.pos && entity.vel && !entity.cull);\n\n        // Very basic \"rounds\" of collision resolution, since we have no real physics.\n        // (As usual, \"detecting\" a collision is not the hard part... we need to resolve\n        // them too!)\n        for (let rounds = 0; rounds < 5; rounds++) {\n          // Each pair of entities only needs to interact once.\n          for (let i = 0; i < movers.length - 1; i++) {\n            for (let j = i + 1; j < movers.length; j++) {\n              this.clipVelocityEntityVsEntity(movers[i], movers[j]);\n            }\n          }\n\n          for (let entity of movers) {\n            this.clipVelocityAgainstWalls(entity);\n          }\n        }\n\n        // Now we apply all movement, even if it's not going to be perfect.\n        for (let entity of movers) {\n          entity.pos.x += entity.vel.x;\n          entity.pos.y += entity.vel.y;\n        }\n      },\n\n      clipVelocityEntityVsEntity(entity, other) {\n        let hit = Geometry.intersectCircleCircle2(\n          entity.pos, entity.radius, entity.vel,\n          other.pos, other.radius, other.vel\n        );\n        if (hit) {\n          // Not a bug: we \"add\" the mass of the opposing entity to our own velocity when deciding who\n          // is at fault for the collision. Entity velocities adjust in relation to their fault level.\n          let entityM = Geometry.normalizeVector(entity.vel).m + other.mass;\n          let otherM = Geometry.normalizeVector(other.vel).m + entity.mass;\n          entity.vel.x -= hit.nx * hit.m * entityM / (entityM + otherM);\n          entity.vel.y -= hit.ny * hit.m * entityM / (entityM + otherM);\n          other.vel.x += hit.nx * hit.m * otherM / (entityM + otherM);\n          other.vel.y += hit.ny * hit.m * otherM / (entityM + otherM);\n        }\n      },\n\n      clipVelocityAgainstWalls(entity) {\n        for (let tile of Geometry.tilesHitByCircle(entity.pos, entity.vel, Constants.PLAYER_BOUND_RADIUS)) {\n          if (!Geometry.tileIsPassable(tile.q, tile.r)) {\n            let bounds = [Geometry.qr2xy(tile), Geometry.qr2xy({ q: tile.q + 1, r: tile.r + 1 })];\n            let hit = Geometry.intersectCircleRectangle(\n              entity.pos,\n              { x: entity.pos.x + entity.vel.x, y: entity.pos.y + entity.vel.y },\n              Constants.PLAYER_BOUND_RADIUS,\n              bounds\n            );\n\n            // The \"math\" part of detecting collision with walls is buried in the geometry functions\n            // above, but it's not the whole story -- if we do detect a collision, we still need to\n            // decide what to do about it.\n            //\n            // If the normal vector is horizontal or vertical, we zero out the portion of the vector\n            // moving into the wall, allowing frictionless sliding (if we wanted to apply friction,\n            // we could also reduce the other axis slightly).\n            //\n            // If the normal vector is not 90*, we \"back up\" off the wall by exactly the normal vector.\n            // If the player runs into a corner at EXACTLY a 45 degree angle, they will simply \"stick\"\n            // on it -- but one degree left or right and they'll slide around the corner onto the wall,\n            // which is the desired result.\n            if (hit) {\n              if (hit.nx === 0) {\n                entity.vel.y = hit.y - entity.pos.y;\n              } else if (hit.ny === 0) {\n                entity.vel.x = hit.x - entity.pos.x;\n              } else {\n                entity.vel.x += hit.nx;\n                entity.vel.y += hit.ny;\n              }\n            }\n          }\n        }\n      }\n    };\n\n    /**\n     * Damage\n     */\n    const Damage = {\n      apply(entities) {\n        for (let entity of entities) {\n          if (typeof entity.hp === 'number') {\n            if (entity.damage.length > 0) {\n              for (let damage of entity.damage) {\n                entity.hp -= damage.amount;\n                damage.vector.m = 10; // push back amount\n                entity.vel = Geometry.vectorAdd(entity.vel, damage.vector);\n              }\n              entity.damage = [];\n            }\n            if (entity.hp <= 0) entity.state = Behavior.DEAD;\n          }\n        }\n      }\n    };\n\n    /*import { Input } from './Input';\n    import { Player } from './Player';\n    import { ScreenShake } from './ScreenShake';\n    import { Hud } from './Hud';\n    import { Menu, PauseMenu, IntroMenuA, IntroMenuB, OutroMenu } from './Menu';\n    import { Audio } from './Audio';\n    import { Assets, Sprite, drawPoly } from './Assets';\n    import { Demon1 } from './Demon1';\n    import { Canvas } from './Canvas';\n    import { Particle, PortalParticle, SuperParticle } from './Particle';\n    import { Hive } from './Hive';\n    import { Point, intersectingPolygons, intersectingCircles, RAD, vectorFromAngle, distance } from './Geometry';\n    import { HEARTBEAT } from './Config';\n    import { Tween } from './Tween';\n    */\n\n    /**\n     * Game state.\n     */\n    class Game {\n        constructor() {\n        }\n\n        async init() {\n            viewport.init();\n\n            this.input = new Input();\n            await this.input.init();\n\n            this.maze = MazeGenerator.generate(\"apples\");\n            this.camera = { pos: { x: 1, y: 1 } };\n\n            await Assets.init();\n            await Text.init();\n\n            this.entities = [];\n\n            this.player = new Player();\n            console.log(this.maze.rooms);\n            this.player.pos.x = (this.maze.rooms[1][0].q + Math.floor(this.maze.rooms[1][0].width / 2)) * Constants.TILE_WIDTH + Constants.TILE_WIDTH / 2;\n            this.player.pos.y = (this.maze.rooms[1][0].r + Math.floor(this.maze.rooms[1][0].height / 2)) * Constants.TILE_WIDTH + Constants.TILE_WIDTH / 2;\n\n            this.entities.push(this.player);\n\n            /*\n\n            await Assets.init();\n\n            this.artifacts = [\n                await Assets.grayscaleNoise(this.canvas.width, this.canvas.height),\n                await Assets.grayscaleNoise(this.canvas.width, this.canvas.height),\n                await Assets.grayscaleNoise(this.canvas.width, this.canvas.height)\n            ];\n\n            this.input = new Input();\n            await this.input.init();\n\n            this.player = new Player();\n\n            this.hud = new Hud();\n\n            this.particles = [];\n            this.screenshakes = [];\n            this.menuStack = [];\n\n            this.monsters = [];\n\n            // Create, but do not initialize, the audio object. The audio object will be\n            // initialized as soon as possible by the first user input event, to meet\n            // requirements of the browser.\n            this.audio = new Audio();\n\n            this.score = 0;\n\n            this.hive = new Hive();\n\n            */\n        }\n\n        start() {\n            this.frame = 0;\n\n            this.started = true;\n            this.update();\n            this.started = false;\n\n            /*\n            this.menuStack.push(new IntroMenuA({\n                onClose: () => {\n                    this.menuStack.push(new IntroMenuB({}));\n                }\n            }));*/\n\n            //this.framems = performance.now();\n            window.requestAnimationFrame(() => this.onFrame(1));\n            //this.frame = 0;\n        }\n\n        onFrame(currentms) {\n            this.frame++;\n            viewport.resize();\n            this.update();\n            this.draw(viewport.ctx);\n            window.requestAnimationFrame(() => this.onFrame(currentms));\n        }\n\n        update() {\n            // Pull in frame by frame button pushes / keypresses / mouse clicks\n            this.input.update();\n\n            // Behavior (AI, player input, etc.)\n            Behavior.apply(this.entities);\n\n            Damage.apply(this.entities);\n\n            // Movement (apply entity velocity to position)\n            Movement.apply(this.entities);\n\n            // camera logic! where does it go! (an entity perhaps?)\n            let diff = {\n                x: this.player.pos.x - this.camera.pos.x,\n                y: this.player.pos.y - this.camera.pos.y\n            };\n            this.camera.pos.x += diff.x * 0.2;\n            this.camera.pos.y += diff.y * 0.2;\n\n            this.spawnEnemy();\n\n            // Culling Step\n            this.entities = this.entities.filter(entity => !entity.cull);\n        }\n\n        spawnEnemy() {\n            let enemies = this.entities.filter(entity => entity instanceof Monster);\n            if (enemies.length < 4 && Math.random() < 0.1) {\n                let q = this.maze.rooms[1][0].q + this.maze.rand(0, this.maze.rooms[1][0].width);\n                let r = this.maze.rooms[1][0].r + this.maze.rand(0, this.maze.rooms[1][0].height);\n                let monster = new Monster();\n                monster.pos = Geometry.qr2xy({ q, r });\n                this.entities.push(monster);\n            }\n        }\n\n        draw(ctx) {\n            ctx.setTransform(1, 0, 0, 1, 0, 0);\n            ctx.scale(viewport.scale, viewport.scale);\n\n            ctx.fillStyle = 'rgba(48,32,48,1)';\n            ctx.fillRect(0, 0, viewport.width, viewport.height);\n\n            /*ctx.fillStyle = 'rgba(150, 128, 128, 1)';\n            ctx.fillRect(10, 10, 100, 100);*/\n\n            this.drawMaze(ctx, this.maze);\n\n            this.drawHud(ctx);\n\n            Text.drawRightText(ctx, [viewport.scale, viewport.width, viewport.height].join(', '), viewport.width - 4, 10);\n\n            /*\n            Text.drawParagraph(ctx,\n                \"Hold down fire button to decrease spread and increase range.\" +\n                \" Most critical hits, when used, will go up 175%.\",\n                121, 50, 225, 100, Text.shadow, 1);\n            Text.drawParagraph(ctx,\n                \"Hold down fire button to decrease spread and increase range.\" +\n                \" Most critical hits, when used, will go up 175%.\",\n                120, 50, 225, 100, Text.fire, 1);\n                */\n\n            let ptr = this.input.pointer;\n            if (ptr) {\n                Text.drawRightText(ctx, JSON.stringify(ptr), viewport.width - 4, 20);\n                ctx.fillStyle = 'rgba(255, 120, 120, 1)';\n                ctx.fillRect(ptr.u - 1, ptr.v - 1, 3, 3);\n            }\n\n            for (let entity of this.entities) {\n                entity.draw(viewport);\n            }\n\n            // TODO\n            // this.trace(viewport);\n\n            // x\n\n            /*\n            ctx.fillStyle = 'rgba(150, 128, 128, 1)';\n            ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n\n            this.shadow.ctx.globalCompositeOperation = 'copy';\n            //this.shadow.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n            this.shadow.ctx.fillStyle = 'rgba(0, 0, 0, 0.99)';\n            this.shadow.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n\n            this.shadow.ctx.globalCompositeOperation = 'destination-out';\n            let grd = this.shadow.ctx.createRadialGradient(game.player.x, game.player.y, 0, game.player.x, game.player.y, 200);\n            grd.addColorStop(0, \"rgba(0, 0, 0, 1)\");\n            grd.addColorStop(0.5, \"rgba(0, 0, 0, 0.95)\");\n            grd.addColorStop(1, \"rgba(0, 0, 0, 0)\");\n            this.shadow.ctx.fillStyle = grd;\n            this.shadow.ctx.beginPath();\n            this.shadow.ctx.arc(game.player.x, game.player.y, 200, 0, 2 * Math.PI);\n            this.shadow.ctx.fill();\n\n            for (let particle of this.particles.filter(p => p instanceof PortalParticle)) {\n                let r = (particle as PortalParticle).effectiveRadius();\n                this.shadow.ctx.globalCompositeOperation = 'destination-out';\n                let grd = this.shadow.ctx.createRadialGradient(particle.x, particle.y, 0, particle.x, particle.y, r);\n                grd.addColorStop(0, \"rgba(0, 0, 0, 0.7)\");\n                grd.addColorStop(1, \"rgba(0, 0, 0, 0)\");\n                this.shadow.ctx.fillStyle = grd;\n                this.shadow.ctx.beginPath();\n                this.shadow.ctx.arc(particle.x, particle.y, r, 0, 2 * Math.PI);\n                this.shadow.ctx.fill();\n            }\n\n            this.shadow.ctx.globalCompositeOperation = 'source-atop';\n            for (let monster of this.monsters) {\n                this.shadow.ctx.beginPath();\n                this.shadow.ctx.arc(monster.x, monster.y, 200, 0, 2 * Math.PI);\n            }\n\n            /*\n              we don't even use bloodplanes (splatter terrain) anymore because i just\n              render all of them as particles\n            ctx.globalAlpha = 1 - this.bloodplanes[0][1] / this.bloodplanes[0][2];\n            ctx.globalAlpha = 0.9;\n            ctx.drawImage(this.bloodplanes[0][0].canvas, 0, 0);\n            ctx.globalAlpha = 1 - this.bloodplanes[1][1] / this.bloodplanes[1][2];\n            ctx.drawImage(this.bloodplanes[1][0].canvas, 0, 0);\n            ctx.globalAlpha = 1 - this.bloodplanes[2][1] / this.bloodplanes[2][2];\n            ctx.drawImage(this.bloodplanes[2][0].canvas, 0, 0);\n            ctx.globalAlpha = 1;\n            ctx.save();\n            let shakeX = 0, shakeY = 0;\n            this.screenshakes.forEach(shake => {\n                shakeX += shake.x;\n                shakeY += shake.y;\n            });\n            ctx.translate(shakeX, shakeY);\n\n            // low-hanging fruit here (pre-render the map since it never changes)\n            for (let i = 0; i < 16; i++) {\n                for (let j = 0; j < 10; j++) {\n                    let k = ((i * i * 13) + j * 17) % 9;\n                    Sprite.drawSprite(ctx, Sprite.tiles[k], i * 32 - 16, j * 32 - 8);\n                }\n            }\n\n            for (let particle of this.particles) if (!particle.foreground && !game.superFired) particle.draw(ctx);\n\n            this.player.draw(ctx);\n\n            //Text.renderText(ctx, 250, 120, 20, 'THE ELEPHANTS');\n            //Text.renderText(ctx, 100, 200, 64, 'AB0123456789');\n            //Text.renderText(ctx, 100, 150, 30, 'AB0123456789');\n\n            for (let monster of this.monsters) monster.draw(ctx);\n\n      //      var bubble = ctx.createLinearGradient(\n            // Let's add blue noise?\n            /*for (let i = 100; i < 300; i += 5) {\n                for(let j = 100; j < 120; j += 5) {\n                    let [x, y] = [Math.random() * 5, Math.random() * 5];\n                    ctx.fillStyle = 'rgba(0,0,0,0.5)';\n                    ctx.fillRect(i+Math.floor(x),j+Math.floor(y),1,1);\n                }\n\n            for (let particle of this.particles) if (particle.foreground) particle.draw(ctx);\n\n            ctx.drawImage(this.shadow.canvas, 0, 0);\n            let noiseLoop = Math.floor(this.frame / 8) % 3;\n            ctx.globalAlpha = 0.06;\n            ctx.drawImage(this.artifacts[noiseLoop].canvas, 0, 0);\n            ctx.globalAlpha = 1;\n\n            this.hud.draw(ctx);\n            this.hive.draw(ctx);\n\n            ctx.restore();\n\n            /*\n            if (this.frame % HEARTBEAT === 0 || (this.frame - 1) % HEARTBEAT === 0 || (this.frame - 2) % HEARTBEAT === 0) {\n                ctx.fillStyle = 'rgba(255, 255, 30, 0.3)';\n                ctx.fillRect(100, 0, 100, 10);\n            */\n\n            Menu.draw(viewport);\n        }\n\n        drawMaze(ctx, maze) {\n            let offset = {\n                x: viewport.center.u - this.camera.pos.x,\n                y: viewport.center.v - this.camera.pos.y\n            };\n            for (let r = 0; r < maze.tiles.length; r++) {\n                for (let q = 0; q < maze.tiles[r].length; q++) {\n                    let x = q * 32 + offset.x, y = r * 32 + offset.y;\n                    if (x < -50 || y < -50 || x > 500 || y > 500) continue;\n\n                    let sprite = Sprite.tiles[maze.tiles[r][q] & 0b1111];\n                    if (!sprite) throw new Error(`${q},${r} tile ${maze.tiles[r][q]}`);\n                    ctx.drawImage(sprite.img, x, y);\n\n                    sprite = Sprite.walls[maze.tiles[r][q] >> 4];\n                    if (sprite) ctx.drawImage(sprite.img, x, y);\n\n                    //if (this.maze.flowhome[r][q] < 100)\n                    //Text.drawText(ctx, String(this.maze.flowhome[r][q]), x, y);\n\n                    // commented for screenshots:\n                    //Text.drawText(ctx, String(maze.tiles[r][q] >> 4), x, y);\n\n                    //ctx.fillRect(q * 4 - this.camera.pos.x + this.center.pixel.u, r * 4 - this.camera.pos.y + this.center.pixel.v, 4, 4);\n                }\n            }\n        }\n\n        pointerXY() {\n            if (!this.input.pointer) return;\n            return this.uv2xy(this.input.pointer);\n        }\n\n        xy2uv(pos) {\n            return {\n                u: pos.x - this.camera.pos.x + viewport.center.u,\n                v: pos.y - this.camera.pos.y + viewport.center.v\n            };\n        }\n\n        uv2xy(pos) {\n            return {\n                x: pos.u - viewport.center.u + this.camera.pos.x,\n                y: pos.v - viewport.center.v + this.camera.pos.y\n            };\n        }\n\n        trace(viewport) {\n            if (!this.input.pointer) return;\n            let p = this.player;\n            for (let e of this.entities) {\n                if (p === e) continue;\n                viewport.ctx.beginPath();\n                viewport.ctx.strokeStyle = 'red';\n                viewport.ctx.moveTo(viewport.center.u - this.camera.pos.x + p.pos.x,\n                    viewport.center.v - this.camera.pos.y + p.pos.y);\n                viewport.ctx.lineTo(this.input.pointer.u, this.input.pointer.v);\n                viewport.ctx.stroke();\n\n                this.raytrace(p.pos, this.pointerXY());\n            }\n        }\n\n        // https://www.genericgamedev.com/general/shooting-rays-through-tilemaps/\n        raytrace(p1, p2) {\n            let redgreen = 'green';\n\n            for (let { q, r } of Geometry.tilesHitBetween(p1, p2)) {\n                let offset = {\n                    x: viewport.center.u - this.camera.pos.x,\n                    y: viewport.center.v - this.camera.pos.y\n                };\n                if (!game.maze.maze[r][q]) redgreen = 'red';\n                let highlight = redgreen === 'red' ? 'rgba(255, 128, 128, 0.5)' : 'rgba(128, 255, 128, 0.5)';\n                viewport.ctx.fillStyle = highlight;\n                viewport.ctx.strokeStyle = highlight;\n                viewport.ctx.fillRect(q * 32 + offset.x, r * 32 + offset.y, 32, 32);\n                viewport.ctx.strokeRect(q * 32 + offset.x, r * 32 + offset.y, 32, 32);\n                if (redgreen === 'red') break;\n            }\n        }\n\n        drawHud(ctx) {\n            let hp = Geometry.clamp(game.player.hp, 0, 100);\n            ctx.drawImage(Sprite.hud_health_frame.img, 2, 2);\n            ctx.drawImage(Sprite.hud_health_fill.img, 0, 0, hp + 8, 8, 2, 2, hp + 8, 8);\n\n            let sprite = Sprite.hud_shells_full;\n            for (let i = 0; i < game.player.shellsMax; i++) {\n                if (i + 1 > game.player.shellsLeft) sprite = Sprite.hud_shells_empty;\n                ctx.drawImage(sprite.img, 15 + 6 * i, 10);\n            }\n        }\n    }\n\n    const game = new Game();\n\n    /**\n     * Create and launch game.\n     */\n    game.init().then(() => game.start());\n\n}());\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMvanMvQ29uc3RhbnRzLmpzIiwiLi4vLi4vc3JjL2pzL0NhbnZhcy5qcyIsIi4uLy4uL3NyYy9qcy9TcHJpdGVTaGVldC1nZW4uanMiLCIuLi8uLi9zcmMvanMvQXNzZXRzLmpzIiwiLi4vLi4vc3JjL2pzL2lucHV0L0tleWJvYXJkQWRhcHRlci5qcyIsIi4uLy4uL3NyYy9qcy9WaWV3cG9ydC5qcyIsIi4uLy4uL3NyYy9qcy9pbnB1dC9Nb3VzZUFkYXB0ZXIuanMiLCIuLi8uLi9zcmMvanMvaW5wdXQvSW5wdXQuanMiLCIuLi8uLi9zcmMvanMvR2VvbWV0cnkuanMiLCIuLi8uLi9zcmMvanMvUmFuZG9tLmpzIiwiLi4vLi4vc3JjL2pzL01hemVHZW5lcmF0b3IuanMiLCIuLi8uLi9zcmMvanMvVGV4dC5qcyIsIi4uLy4uL3NyYy9qcy9EZXRlY3Rpb24uanMiLCIuLi8uLi9zcmMvanMvc3lzdGVtcy9CZWhhdmlvci5qcyIsIi4uLy4uL3NyYy9qcy9Nb25zdGVyLmpzIiwiLi4vLi4vc3JjL2pzL1Nob3RndW5CbGFzdC5qcyIsIi4uLy4uL3NyYy9qcy9SZWxvYWRBbmltYXRpb24uanMiLCIuLi8uLi9zcmMvanMvUGxheWVyLmpzIiwiLi4vLi4vc3JjL2pzL01lbnUuanMiLCIuLi8uLi9zcmMvanMvc3lzdGVtcy9Nb3ZlbWVudC5qcyIsIi4uLy4uL3NyYy9qcy9zeXN0ZW1zL0RhbWFnZS5qcyIsIi4uLy4uL3NyYy9qcy9HYW1lLmpzIiwiLi4vLi4vc3JjL2pzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGNvbnN0IENvbnN0YW50cyA9IHtcbiAgICBSMDogMCxcbiAgICBSOTA6IE1hdGguUEkgKiAwLjUsXG4gICAgUjE4MDogTWF0aC5QSSxcbiAgICBSMjcwOiBNYXRoLlBJICogMS41LFxuICAgIFIzNjA6IE1hdGguUEkgKiAyLFxuXG4gICAgLy8gU2l6ZSBpbiBwaXhlbHMgb2YgdGlsZXMgaW4gdGhlIGdhbWUgbWF6ZVxuICAgIFRJTEVfV0lEVEg6IDMyLFxuICAgIFRJTEVfSEVJR0hUOiAzMixcblxuICAgIC8vIFRpbGUgY29uc3RhbnRzXG4gICAgVElMRV9GTE9PUjE6ICAgICAgICAgICAgMCxcbiAgICBUSUxFX0ZMT09SMjogICAgICAgICAgICAxLFxuICAgIFRJTEVfV0FMTDE6ICAgICAgICAgICAgIDIsXG4gICAgVElMRV9XQUxMMjogICAgICAgICAgICAgMyxcblxuICAgIFBMQVlFUl9CT1VORF9SQURJVVM6IDlcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVGhpcyBoZWxwZXIgY2xhc3MgZW5jYXBzdWxhdGVzIGNyZWF0aW5nIHRlbXBvcmFyeSBvZmYtc2NyZWVuIGNhbnZhc2VzLiBPZmYtc2NyZWVuXG4gKiBjYW52YXNlcyBhcmUgZ3JlYXQgdG9vbHMgZm9yIGJ1aWxkaW5nIHBhdHRlcm5zLCBpbWFnZSBtYXNrcywgYW5kIG90aGVyIGNvbXBvbmVudHNcbiAqIHRoYXQgd2UnbGwgdXNlIHRvIGRyYXcgdGhpbmdzIG9uIHRoZSBwcmltYXJ5IGNhbnZhcy5cbiAqL1xuZXhwb3J0IGNsYXNzIENhbnZhcyB7XG4gIGNvbnN0cnVjdG9yKHdpZHRoLCBoZWlnaHQpIHtcbiAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBUaGlzIG1vZHVsZSBpcyBnZW5lcmF0ZSBieSBgZ3VscCBnZW5lcmF0ZVNwcml0ZVNoZWV0RGF0YWAuXG4gKi9cblxuICd1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGNvbnN0IFNwcml0ZVNoZWV0ID1cbi8qIDxnZW5lcmF0ZWQ+ICovXG57IGJ1bGxldF8xOiB7IHg6IDAsIHk6IDAsIHc6IDMyLCBoOiAzMiB9LFxuICBkZW1vbjFfMTogeyB4OiAwLCB5OiAzMiwgdzogMTYsIGg6IDIyIH0sXG4gIGRlbW9uMV8yOiB7IHg6IDE2LCB5OiAzMiwgdzogMTYsIGg6IDIyIH0sXG4gIGRlbW9uMV8zOiB7IHg6IDMyLCB5OiAzMiwgdzogMTYsIGg6IDIyIH0sXG4gIGRlbW9uMV80OiB7IHg6IDQ4LCB5OiAzMiwgdzogMTYsIGg6IDIyIH0sXG4gIGRlbW9uMV81OiB7IHg6IDY0LCB5OiAzMiwgdzogMTYsIGg6IDIyIH0sXG4gIGRlbW9uMV82OiB7IHg6IDgwLCB5OiAzMiwgdzogMTYsIGg6IDIyIH0sXG4gIGRlbW9uMV83OiB7IHg6IDk2LCB5OiAzMiwgdzogMTYsIGg6IDIyIH0sXG4gIGRlbW9uMV84OiB7IHg6IDExMiwgeTogMzIsIHc6IDE2LCBoOiAyMiB9LFxuICBkZW1vbjFfOTogeyB4OiAxMjgsIHk6IDMyLCB3OiAxNiwgaDogMjIgfSxcbiAgZGVtb24xXzEwOiB7IHg6IDE0NCwgeTogMzIsIHc6IDE2LCBoOiAyMiB9LFxuICBmb250XzE6IHsgeDogMCwgeTogNTQsIHc6IDIzNiwgaDogNiB9LFxuICBodWRfaGVhbHRoYmFyXzE6IHsgeDogMCwgeTogNjAsIHc6IDEwOSwgaDogOSB9LFxuICBodWRfaGVhbHRoYmFyXzI6IHsgeDogMTA5LCB5OiA2MCwgdzogMTA5LCBoOiA5IH0sXG4gIGh1ZF9zaGVsbHNfMTogeyB4OiAwLCB5OiA2OSwgdzogNiwgaDogNyB9LFxuICBodWRfc2hlbGxzXzI6IHsgeDogNiwgeTogNjksIHc6IDYsIGg6IDcgfSxcbiAgbW9uc3RlcjJfMTogeyB4OiAwLCB5OiA3NiwgdzogMzIsIGg6IDMyIH0sXG4gIG1vbnN0ZXIyXzI6IHsgeDogMzIsIHk6IDc2LCB3OiAzMiwgaDogMzIgfSxcbiAgcGFwZXJfMTogeyB4OiAwLCB5OiAxMDgsIHc6IDMyLCBoOiAzMiB9LFxuICBwYXBlcl8yOiB7IHg6IDMyLCB5OiAxMDgsIHc6IDMyLCBoOiAzMiB9LFxuICBwYXJ0aWNsZXNfMTogeyB4OiAwLCB5OiAxNDAsIHc6IDExLCBoOiAxMSB9LFxuICBwbGF5ZXJfMTogeyB4OiAwLCB5OiAxNTEsIHc6IDY0LCBoOiA2NCB9LFxuICBwbGF5ZXJfMjogeyB4OiA2NCwgeTogMTUxLCB3OiA2NCwgaDogNjQgfSxcbiAgcGxheWVyXzM6IHsgeDogMTI4LCB5OiAxNTEsIHc6IDY0LCBoOiA2NCB9LFxuICBwbGF5ZXJfNDogeyB4OiAxOTIsIHk6IDE1MSwgdzogNjQsIGg6IDY0IH0sXG4gIHBsYXllcl81OiB7IHg6IDI1NiwgeTogMTUxLCB3OiA2NCwgaDogNjQgfSxcbiAgcGxheWVyXzY6IHsgeDogMzIwLCB5OiAxNTEsIHc6IDY0LCBoOiA2NCB9LFxuICBwbGF5ZXJfNzogeyB4OiAzODQsIHk6IDE1MSwgdzogNjQsIGg6IDY0IH0sXG4gIHBsYXllcl84OiB7IHg6IDQ0OCwgeTogMTUxLCB3OiA2NCwgaDogNjQgfSxcbiAgcGxheWVyMl8xOiB7IHg6IDAsIHk6IDIxNSwgdzogMzIsIGg6IDMyIH0sXG4gIHBvcnRhbF8xOiB7IHg6IDAsIHk6IDI0NywgdzogMzIsIGg6IDMyIH0sXG4gIHNwYXJrbGVfMTogeyB4OiAwLCB5OiAyNzksIHc6IDExLCBoOiAxMSB9LFxuICBzd29yZG1ldGVyXzE6IHsgeDogMCwgeTogMjkwLCB3OiA0OCwgaDogMTI4IH0sXG4gIHN3b3JkbWV0ZXJfMjogeyB4OiA0OCwgeTogMjkwLCB3OiA0OCwgaDogMTI4IH0sXG4gIHN3b3JkbWV0ZXJfMzogeyB4OiA5NiwgeTogMjkwLCB3OiA0OCwgaDogMTI4IH0sXG4gIHN3b3JkbWV0ZXJfNDogeyB4OiAxNDQsIHk6IDI5MCwgdzogNDgsIGg6IDEyOCB9LFxuICBzd29yZG1ldGVyXzU6IHsgeDogMTkyLCB5OiAyOTAsIHc6IDQ4LCBoOiAxMjggfSxcbiAgdGlsZXNfMTogeyB4OiAwLCB5OiA0MTgsIHc6IDMyLCBoOiAzMiB9LFxuICB0aWxlc18yOiB7IHg6IDMyLCB5OiA0MTgsIHc6IDMyLCBoOiAzMiB9LFxuICB0aWxlc18zOiB7IHg6IDY0LCB5OiA0MTgsIHc6IDMyLCBoOiAzMiB9LFxuICB0aWxlc180OiB7IHg6IDk2LCB5OiA0MTgsIHc6IDMyLCBoOiAzMiB9LFxuICB0aWxlc181OiB7IHg6IDEyOCwgeTogNDE4LCB3OiAzMiwgaDogMzIgfSxcbiAgdGlsZXNfNjogeyB4OiAxNjAsIHk6IDQxOCwgdzogMzIsIGg6IDMyIH0sXG4gIHRpbGVzXzc6IHsgeDogMTkyLCB5OiA0MTgsIHc6IDMyLCBoOiAzMiB9LFxuICB0aWxlc184OiB7IHg6IDIyNCwgeTogNDE4LCB3OiAzMiwgaDogMzIgfSxcbiAgdGlsZXNfOTogeyB4OiAyNTYsIHk6IDQxOCwgdzogMzIsIGg6IDMyIH0sXG4gIHRpbGVzZXRfMTogeyB4OiAwLCB5OiA0NTAsIHc6IDMyLCBoOiAzMiB9LFxuICB0aWxlc2V0XzI6IHsgeDogMzIsIHk6IDQ1MCwgdzogMzIsIGg6IDMyIH0sXG4gIHRpbGVzZXRfMzogeyB4OiA2NCwgeTogNDUwLCB3OiAzMiwgaDogMzIgfSxcbiAgdGlsZXNldF80OiB7IHg6IDk2LCB5OiA0NTAsIHc6IDMyLCBoOiAzMiB9LFxuICB0aWxlc2V0XzU6IHsgeDogMTI4LCB5OiA0NTAsIHc6IDMyLCBoOiAzMiB9LFxuICB0aWxlc2V0XzY6IHsgeDogMTYwLCB5OiA0NTAsIHc6IDMyLCBoOiAzMiB9LFxuICB0aWxlc2V0Xzc6IHsgeDogMTkyLCB5OiA0NTAsIHc6IDMyLCBoOiAzMiB9LFxuICB0aWxlc2V0Xzg6IHsgeDogMjI0LCB5OiA0NTAsIHc6IDMyLCBoOiAzMiB9IH1cbi8qIDwvZ2VuZXJhdGVkPiAqL1xuO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBDb25zdGFudHMgYXMgQyB9IGZyb20gJy4vQ29uc3RhbnRzJztcbmltcG9ydCB7IENhbnZhcyB9IGZyb20gJy4vQ2FudmFzJztcbmltcG9ydCB7IFNwcml0ZVNoZWV0IH0gZnJvbSAnLi9TcHJpdGVTaGVldC1nZW4nO1xuXG5jb25zdCBTUFJJVEVTSEVFVF9VUkkgPSAnc3ByaXRlcy5wbmcnOyAvLyBwcm9kdWNlZCBkdXJpbmcgZ3VscCBidWlsZFxuXG4vKipcbiAqIFNwcml0ZXMhXG4gKlxuICogRm9yIHRoaXMgZ2FtZSwgYSBcInNwcml0ZVwiIGlzIGEgbGl0dGxlIG9iamVjdCB0aGF0IGhhcyBhbiBhdHRhY2hlZCBpbWFnZSwgYW4gYW5jaG9yXG4gKiBwb2ludCwgYSBib3VuZGluZyBib3gsIGFuZCBhbiBvcHRpb25hbCBoaXQgYm94LiBUaGlzIGtlZXBzIHBpeGVsLWxldmVsIGRhdGEgYWJvdXRcbiAqIHRoZSBpbWFnZSBhbGwgaW4gb25lIHBsYWNlIChieSBwYXNzaW5nIGEgU3ByaXRlIGFyb3VuZCwgd2Uga25vdyB3aGF0IGltYWdlIHRvIGRyYXcsXG4gKiB3aGF0IHBvaW50IGluIHRoZSBpbWFnZSB0byByb3RhdGUgYXJvdW5kLCB3aGF0IGFyZWFzIG9mIHRoZSBpbWFnZSBjYW4gZ2V0IGhpdCBieVxuICogdGhpbmdzLCBhbmQgd2hhdCBhcmVhcyBjYW4gaGl0IG90aGVyIHRoaW5ncykuXG4gKlxuICogV2hldGhlciB0aGUgYm91bmRpbmcgYm94IG9yIGhpdGJveCBkbyBhbnl0aGluZyBpc24ndCB1cCB0byB0aGUgU3ByaXRlLCBpdCB3b3VsZCBiZVxuICogdXAgdG8gdGhlIEZyYW1lIHRoYXQgcmVmZXJlbmNlcyBpdC4gKFRoaXMgaXMgaGVscGZ1bCBiZWNhdXNlIGl0J3MgY29udmVuaWVudCBmb3JcbiAqIGEgc2ltcGxlIGdhbWUgbGlrZSB0aGlzIHRvIGhhdmUgb25seSBvbmUgaGl0IGZyYW1lLCBidXQgdGhlIGFuaW1hdGlvbiBtYXkgY2FsbFxuICogZm9yIHNob3dpbmcgdGhlIHN3b3JkIHN3aXBlIGZvciA1LTYgZnJhbWVzLilcbiAqL1xuZXhwb3J0IGNsYXNzIFNwcml0ZSB7XG4gIC8qKlxuICAgKiBBIHNtYWxsIGhlbHBlciB0aGF0IGRyYXdzIGEgc3ByaXRlIG9udG8gYSBjYW52YXMsIHJlc3BlY3RpbmcgdGhlIGFuY2hvciBwb2ludCBvZlxuICAgKiB0aGUgc3ByaXRlLiBOb3RlIHRoYXQgdGhlIGNhbnZhcyBzaG91bGQgYmUgUFJFLVRSQU5TTEFURUQgYW5kIFBSRS1ST1RBVEVELCBpZlxuICAgKiB0aGF0J3MgYXBwcm9wcmlhdGUhXG4gICAqL1xuICBzdGF0aWMgZHJhd1Nwcml0ZShjdHgsIHNwcml0ZSwgdSwgdikge1xuICAgIGN0eC5kcmF3SW1hZ2Uoc3ByaXRlLmltZywgdSAtIHNwcml0ZS5hbmNob3IueCwgdiAtIHNwcml0ZS5hbmNob3IueSk7XG4gIH1cblxuICBzdGF0aWMgZHJhd1ZpZXdwb3J0U3ByaXRlKHZpZXdwb3J0LCBzcHJpdGUsIHNwcml0ZVBvcywgY2FtZXJhUG9zKSB7XG4gICAgdmlld3BvcnQuY3R4LmRyYXdJbWFnZShcbiAgICAgIHNwcml0ZS5pbWcsXG4gICAgICBzcHJpdGVQb3MueCAtIHNwcml0ZS5hbmNob3IueCAtIGNhbWVyYVBvcy54ICsgdmlld3BvcnQuY2VudGVyLnUsXG4gICAgICBzcHJpdGVQb3MueSAtIHNwcml0ZS5hbmNob3IueSAtIGNhbWVyYVBvcy55ICsgdmlld3BvcnQuY2VudGVyLnZcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXcgYSBzcHJpdGUncyBib3VuZGluZyBib3gsIGZvciBkZWJ1Z2dpbmcsIHVzaW5nIHRoZSBzYW1lIHJ1bGVzIGFzIGRyYXdTcHJpdGUuXG4gICAqL1xuICBzdGF0aWMgZHJhd0JvdW5kaW5nQm94KGN0eCwgc3ByaXRlLCB4LCB5KSB7XG4gICAgY3R4LnN0cm9rZVN0eWxlID0gJ3JnYmEoMCwgMjU1LCAwLCAwLjUpJztcbiAgICBjdHguc3Ryb2tlUmVjdChcbiAgICAgIHggLSBzcHJpdGUuYW5jaG9yLnggKyBzcHJpdGUuYmJveFswXS54LFxuICAgICAgeSAtIHNwcml0ZS5hbmNob3IueSArIHNwcml0ZS5iYm94WzBdLnksXG4gICAgICBzcHJpdGUuYmJveFsxXS54IC0gc3ByaXRlLmJib3hbMF0ueCxcbiAgICAgIHNwcml0ZS5iYm94WzFdLnkgLSBzcHJpdGUuYmJveFswXS55XG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3IGEgc3ByaXRlJ3MgaGl0IGJveCwgZm9yIGRlYnVnZ2luZywgdXNpbmcgdGhlIHNhbWUgcnVsZXMgYXMgZHJhd1Nwcml0ZS5cbiAgICovXG4gIHN0YXRpYyBkcmF3SGl0Qm94KGN0eCwgc3ByaXRlLCB4LCB5KSB7XG4gICAgaWYgKHNwcml0ZS5oYm94KSB7XG4gICAgICBjdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsIDAsIDAsIDAuNyknO1xuICAgICAgY3R4LnN0cm9rZVJlY3QoXG4gICAgICAgIHggLSBzcHJpdGUuYW5jaG9yLnggKyBzcHJpdGUuaGJveFswXS54LFxuICAgICAgICB5IC0gc3ByaXRlLmFuY2hvci55ICsgc3ByaXRlLmhib3hbMF0ueSxcbiAgICAgICAgc3ByaXRlLmhib3hbMV0ueCAtIHNwcml0ZS5oYm94WzBdLngsXG4gICAgICAgIHNwcml0ZS5oYm94WzFdLnkgLSBzcHJpdGUuaGJveFswXS55XG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBnZXRCb3VuZGluZ0NpcmNsZShzcHJpdGUsIHgsIHkpIHtcbiAgICBsZXQgZHggPSBzcHJpdGUuYmJveFsxXS54IC0gc3ByaXRlLmJib3hbMF0ueDtcbiAgICBsZXQgZHkgPSBzcHJpdGUuYmJveFsxXS55IC0gc3ByaXRlLmJib3hbMF0ueTtcbiAgICBsZXQgciA9IChkeCA+IGR5ID8gZHggOiBkeSkgLyAyO1xuICAgIHJldHVybiB7XG4gICAgICB4OiB4IC0gc3ByaXRlLmFuY2hvci54ICsgKHNwcml0ZS5iYm94WzBdLnggKyBzcHJpdGUuYmJveFsxXS54KSAvIDIsXG4gICAgICB5OiB5IC0gc3ByaXRlLmFuY2hvci55ICsgKHNwcml0ZS5iYm94WzBdLnkgKyBzcHJpdGUuYmJveFsxXS55KSAvIDIsXG4gICAgICByXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRCb3VuZGluZ0JveFBvbHlnb24oc3ByaXRlLCB4LCB5KSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0U3ByaXRlQm94UG9seWdvbihzcHJpdGUuYW5jaG9yLCBzcHJpdGUuYmJveCwgeCwgeSk7XG4gIH1cblxuICBzdGF0aWMgZ2V0SGl0Qm94UG9seWdvbihzcHJpdGUsIHgsIHkpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTcHJpdGVCb3hQb2x5Z29uKHNwcml0ZS5hbmNob3IsIHNwcml0ZS5oYm94LCB4LCB5KTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRTcHJpdGVCb3hQb2x5Z29uKGFuY2hvciwgYm94LCB4LCB5KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHgsXG4gICAgICB5OiB5LFxuICAgICAgcDogW1xuICAgICAgICB7IHg6IGJveFswXS54IC0gYW5jaG9yLngsIHk6IGJveFswXS55IC0gYW5jaG9yLnkgfSxcbiAgICAgICAgeyB4OiBib3hbMV0ueCAtIGFuY2hvci54LCB5OiBib3hbMF0ueSAtIGFuY2hvci55IH0sXG4gICAgICAgIHsgeDogYm94WzFdLnggLSBhbmNob3IueCwgeTogYm94WzFdLnkgLSBhbmNob3IueSB9LFxuICAgICAgICB7IHg6IGJveFswXS54IC0gYW5jaG9yLngsIHk6IGJveFsxXS55IC0gYW5jaG9yLnkgfVxuICAgICAgXVxuICAgIH07XG4gIH1cbn1cblxuLyoqXG4gKiBUaGUgQXNzZXRzIG1vZHVsZSBsb2FkcyByYXcgUE5HcyB3ZSdsbCB1c2UgdG8gZHJhdyB0aGUgZ2FtZSwgZG9lcyBhbnkgcG9zdHByb2Nlc3Npbmcgc3R1ZmZcbiAqIHdlIG1pZ2h0IG5lZWQgdG8gZG8sIGFuZCB0aGVuIHNhdmVzIHJlZmVyZW5jZXMgdG8gdGhlbSBmb3IgbGF0ZXIuXG4gKi9cbmV4cG9ydCBjbGFzcyBBc3NldHMge1xuICBzdGF0aWMgYXN5bmMgaW5pdCgpIHtcbiAgICB0aGlzLmltYWdlcyA9IHt9O1xuXG4gICAgLy8gQmFzZSBQaXhlbCBGb250IChzZWUgYFRleHQuaW5pdGAgZm9yIGFkZGl0aW9uYWwgbWFuaXB1bGF0aW9uKVxuICAgIFNwcml0ZS5mb250ID0gYXdhaXQgdGhpcy5pbml0U3ByaXRlKFNQUklURVNIRUVUX1VSSSwgU3ByaXRlU2hlZXQuZm9udF8xKTtcblxuICAgIC8vIFBsYXllclxuICAgIFNwcml0ZS5wbGF5ZXIgPSBhd2FpdCB0aGlzLmluaXRTcHJpdGUoU1BSSVRFU0hFRVRfVVJJLCBTcHJpdGVTaGVldC5wbGF5ZXIyXzEpO1xuXG4gICAgLy8gQnVsbGV0c1xuICAgIFNwcml0ZS5idWxsZXQgPSBhd2FpdCB0aGlzLmluaXRTcHJpdGUoU1BSSVRFU0hFRVRfVVJJLCBTcHJpdGVTaGVldC5idWxsZXRfMSk7XG5cbiAgICAvLyBFbmVteVxuICAgIFNwcml0ZS5tb25zdGVyID0gYXdhaXQgdGhpcy5pbml0U3ByaXRlKFNQUklURVNIRUVUX1VSSSwgU3ByaXRlU2hlZXQubW9uc3RlcjJfMSk7XG4gICAgU3ByaXRlLm1vbnN0ZXJfZGVhZCA9IGF3YWl0IHRoaXMuaW5pdFNwcml0ZShTUFJJVEVTSEVFVF9VUkksIFNwcml0ZVNoZWV0Lm1vbnN0ZXIyXzIpO1xuICAgIFNwcml0ZS5kZW1vbl93YWxrID0gYXdhaXQgdGhpcy5pbml0U3ByaXRlKFNQUklURVNIRUVUX1VSSSwgU3ByaXRlU2hlZXQuZGVtb24xXzEpO1xuXG4gICAgLy8gR1VJXG4gICAgU3ByaXRlLmh1ZF9zaGVsbHNfZW1wdHkgPSBhd2FpdCB0aGlzLmluaXRTcHJpdGUoU1BSSVRFU0hFRVRfVVJJLCBTcHJpdGVTaGVldC5odWRfc2hlbGxzXzEpO1xuICAgIFNwcml0ZS5odWRfc2hlbGxzX2Z1bGwgPSBhd2FpdCB0aGlzLmluaXRTcHJpdGUoU1BSSVRFU0hFRVRfVVJJLCBTcHJpdGVTaGVldC5odWRfc2hlbGxzXzIpO1xuICAgIFNwcml0ZS5odWRfaGVhbHRoX2ZyYW1lID0gYXdhaXQgdGhpcy5pbml0U3ByaXRlKFNQUklURVNIRUVUX1VSSSwgU3ByaXRlU2hlZXQuaHVkX2hlYWx0aGJhcl8xKTtcbiAgICBTcHJpdGUuaHVkX2hlYWx0aF9maWxsID0gYXdhaXQgdGhpcy5pbml0U3ByaXRlKFNQUklURVNIRUVUX1VSSSwgU3ByaXRlU2hlZXQuaHVkX2hlYWx0aGJhcl8yKTtcblxuICAgIC8vIFRpbGVzXG4gICAgU3ByaXRlLnRpbGVzID0gW107XG4gICAgU3ByaXRlLnRpbGVzW0MuVElMRV9GTE9PUjFdID0gYXdhaXQgdGhpcy5pbml0U3ByaXRlKFNQUklURVNIRUVUX1VSSSwgU3ByaXRlU2hlZXQudGlsZXNldF8zKTtcbiAgICBTcHJpdGUudGlsZXNbQy5USUxFX1dBTEwxXSA9IGF3YWl0IHRoaXMuaW5pdFNwcml0ZShTUFJJVEVTSEVFVF9VUkksIFNwcml0ZVNoZWV0LnRpbGVzZXRfMSk7XG4gICAgU3ByaXRlLnRpbGVzW0MuVElMRV9XQUxMMl0gPSBhd2FpdCB0aGlzLmluaXRTcHJpdGUoU1BSSVRFU0hFRVRfVVJJLCBTcHJpdGVTaGVldC50aWxlc2V0XzIpO1xuXG4gICAgLy8gV2FsbHNcbiAgICBsZXQgZWRnZSA9IGF3YWl0IHRoaXMuaW5pdFNwcml0ZShTUFJJVEVTSEVFVF9VUkksIFNwcml0ZVNoZWV0LnRpbGVzZXRfNSk7XG4gICAgbGV0IHR1cm4gPSBhd2FpdCB0aGlzLmluaXRTcHJpdGUoU1BSSVRFU0hFRVRfVVJJLCBTcHJpdGVTaGVldC50aWxlc2V0XzYpO1xuICAgIGxldCBkZWFkZW5kID0gYXdhaXQgdGhpcy5pbml0U3ByaXRlKFNQUklURVNIRUVUX1VSSSwgU3ByaXRlU2hlZXQudGlsZXNldF83KTtcbiAgICBsZXQgY29ybmVyID0gYXdhaXQgdGhpcy5pbml0U3ByaXRlKFNQUklURVNIRUVUX1VSSSwgU3ByaXRlU2hlZXQudGlsZXNldF84KTtcblxuICAgIFNwcml0ZS53YWxscyA9IFtdO1xuICAgIFNwcml0ZS53YWxsc1swYjAwMF8xMDBfMDAwXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMTAwXzEwMF8wMDBdID1cbiAgICBTcHJpdGUud2FsbHNbMGIwMDBfMTAwXzEwMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjEwMF8xMDBfMTAwXSA9IGVkZ2U7XG5cbiAgICBTcHJpdGUud2FsbHNbMGIwMDBfMDAxXzAwMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjAwMV8wMDFfMDAwXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMDAwXzAwMV8wMDFdID1cbiAgICBTcHJpdGUud2FsbHNbMGIwMDFfMDAxXzAwMV0gPSB0aGlzLmluaXREeW5hbWljU3ByaXRlKHRoaXMucm90YXRlSW1hZ2UoZWRnZS5pbWcsIEMuUjE4MCkpO1xuXG4gICAgU3ByaXRlLndhbGxzWzBiMDEwXzAwMF8wMDBdID1cbiAgICBTcHJpdGUud2FsbHNbMGIxMTBfMDAwXzAwMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjAxMV8wMDBfMDAwXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMTExXzAwMF8wMDBdID0gdGhpcy5pbml0RHluYW1pY1Nwcml0ZSh0aGlzLnJvdGF0ZUltYWdlKGVkZ2UuaW1nLCBDLlI5MCkpO1xuXG4gICAgU3ByaXRlLndhbGxzWzBiMDAwXzAwMV8wMDBdID0gdGhpcy5pbml0RHluYW1pY1Nwcml0ZSh0aGlzLnJvdGF0ZUltYWdlKGVkZ2UuaW1nLCBDLlIxODApKTtcbiAgICBTcHJpdGUud2FsbHNbMGIwMDBfMDAwXzAxMF0gPSB0aGlzLmluaXREeW5hbWljU3ByaXRlKHRoaXMucm90YXRlSW1hZ2UoZWRnZS5pbWcsIEMuUjI3MCkpO1xuXG4gICAgU3ByaXRlLndhbGxzWzBiMDEwXzEwMF8wMDBdID1cbiAgICBTcHJpdGUud2FsbHNbMGIxMTBfMTAwXzAwMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjAxMV8xMDBfMDAwXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMTExXzEwMF8wMDBdID1cbiAgICBTcHJpdGUud2FsbHNbMGIwMTFfMTAwXzEwMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjAxMF8xMDBfMTAwXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMDExXzEwMF8xMDBdID1cbiAgICBTcHJpdGUud2FsbHNbMGIxMTFfMTAwXzEwMF0gPSB0dXJuO1xuXG4gICAgU3ByaXRlLndhbGxzWzBiMDEwXzAwMV8wMDBdID1cbiAgICBTcHJpdGUud2FsbHNbMGIwMTFfMDAxXzAwMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjExMF8wMDFfMDAwXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMTExXzAwMV8wMDBdID1cbiAgICBTcHJpdGUud2FsbHNbMGIwMTBfMDAxXzAwMV0gPVxuICAgIFNwcml0ZS53YWxsc1swYjAxMV8wMDFfMDAxXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMTExXzAwMV8wMDFdID1cbiAgICBTcHJpdGUud2FsbHNbMGIxMTBfMDAxXzAwMV0gPSB0aGlzLmluaXREeW5hbWljU3ByaXRlKHRoaXMucm90YXRlSW1hZ2UodHVybi5pbWcsIEMuUjkwKSk7XG5cbiAgICBTcHJpdGUud2FsbHNbMGIwMDBfMDAxXzAxMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjAwMF8wMDFfMDExXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMDAwXzAwMV8xMTBdID1cbiAgICBTcHJpdGUud2FsbHNbMGIwMDBfMDAxXzExMV0gPVxuICAgIFNwcml0ZS53YWxsc1swYjAwMV8wMDFfMDEwXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMDAxXzAwMV8wMTFdID1cbiAgICBTcHJpdGUud2FsbHNbMGIwMDFfMDAxXzExMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjAwMV8wMDFfMTExXSA9IHRoaXMuaW5pdER5bmFtaWNTcHJpdGUodGhpcy5yb3RhdGVJbWFnZSh0dXJuLmltZywgQy5SMTgwKSk7XG5cbiAgICBTcHJpdGUud2FsbHNbMGIwMDBfMTAwXzAxMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjAwMF8xMDBfMDExXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMDAwXzEwMF8xMTBdID1cbiAgICBTcHJpdGUud2FsbHNbMGIwMDBfMTAwXzExMV0gPVxuICAgIFNwcml0ZS53YWxsc1swYjEwMF8xMDBfMDEwXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMTAwXzEwMF8wMTFdID1cbiAgICBTcHJpdGUud2FsbHNbMGIxMDBfMTAwXzExMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjEwMF8xMDBfMTExXSA9IHRoaXMuaW5pdER5bmFtaWNTcHJpdGUodGhpcy5yb3RhdGVJbWFnZSh0dXJuLmltZywgQy5SMjcwKSk7XG5cbiAgICBTcHJpdGUud2FsbHNbMGIxMDBfMDAwXzAwMF0gPSBjb3JuZXI7XG4gICAgU3ByaXRlLndhbGxzWzBiMDAxXzAwMF8wMDBdID0gdGhpcy5pbml0RHluYW1pY1Nwcml0ZSh0aGlzLnJvdGF0ZUltYWdlKGNvcm5lci5pbWcsIEMuUjkwKSk7XG4gICAgU3ByaXRlLndhbGxzWzBiMDAwXzAwMF8wMDFdID0gdGhpcy5pbml0RHluYW1pY1Nwcml0ZSh0aGlzLnJvdGF0ZUltYWdlKGNvcm5lci5pbWcsIEMuUjE4MCkpO1xuICAgIFNwcml0ZS53YWxsc1swYjAwMF8wMDBfMTAwXSA9IHRoaXMuaW5pdER5bmFtaWNTcHJpdGUodGhpcy5yb3RhdGVJbWFnZShjb3JuZXIuaW1nLCBDLlIyNzApKTtcblxuICAgIFNwcml0ZS53YWxsc1swYjEwMV8wMDBfMDAwXSA9IHRoaXMuaW5pdER5bmFtaWNTcHJpdGUodGhpcy5vdmVybGF5KFNwcml0ZS53YWxsc1swYjEwMF8wMDBfMDAwXS5pbWcsIFNwcml0ZS53YWxsc1swYjAwMV8wMDBfMDAwXS5pbWcpKTtcbiAgICBTcHJpdGUud2FsbHNbMGIwMDBfMDAwXzEwMV0gPSB0aGlzLmluaXREeW5hbWljU3ByaXRlKHRoaXMub3ZlcmxheShTcHJpdGUud2FsbHNbMGIwMDBfMDAwXzEwMF0uaW1nLCBTcHJpdGUud2FsbHNbMGIwMDBfMDAwXzAwMV0uaW1nKSk7XG4gICAgU3ByaXRlLndhbGxzWzBiMTAwXzAwMF8xMDBdID0gdGhpcy5pbml0RHluYW1pY1Nwcml0ZSh0aGlzLm92ZXJsYXkoU3ByaXRlLndhbGxzWzBiMTAwXzAwMF8wMDBdLmltZywgU3ByaXRlLndhbGxzWzBiMDAwXzAwMF8xMDBdLmltZykpO1xuICAgIFNwcml0ZS53YWxsc1swYjAwMV8wMDBfMDAxXSA9IHRoaXMuaW5pdER5bmFtaWNTcHJpdGUodGhpcy5vdmVybGF5KFNwcml0ZS53YWxsc1swYjAwMV8wMDBfMDAwXS5pbWcsIFNwcml0ZS53YWxsc1swYjAwMF8wMDBfMDAxXS5pbWcpKTtcblxuLypcbiAgICBsZXQgc3ByaXRlID0gYXdhaXQgdGhpcy5pbml0U3ByaXRlKFNQUklURVNIRUVUX1VSSSwgU3ByaXRlU2hlZXQudGlsZXNldF81KTtcbiAgICBTcHJpdGUudGlsZXNbQy5USUxFX0ZMT09SX0VER0VfTF0gPSBzcHJpdGU7XG4gICAgU3ByaXRlLnRpbGVzW0MuVElMRV9GTE9PUl9FREdFX1RdID0gdGhpcy5pbml0RHluYW1pY1Nwcml0ZSh0aGlzLnJvdGF0ZUltYWdlKHNwcml0ZS5pbWcsIE1hdGguUEkgKiAwLjUpKTtcbiAgICBTcHJpdGUudGlsZXNbQy5USUxFX0ZMT09SX0VER0VfUl0gPSB0aGlzLmluaXREeW5hbWljU3ByaXRlKHRoaXMucm90YXRlSW1hZ2Uoc3ByaXRlLmltZywgTWF0aC5QSSAqIDEuMCkpO1xuICAgIFNwcml0ZS50aWxlc1tDLlRJTEVfRkxPT1JfRURHRV9CXSA9IHRoaXMuaW5pdER5bmFtaWNTcHJpdGUodGhpcy5yb3RhdGVJbWFnZShzcHJpdGUuaW1nLCBNYXRoLlBJICogMS41KSk7XG5cbiAgICBzcHJpdGUgPSBhd2FpdCB0aGlzLmluaXRTcHJpdGUoU1BSSVRFU0hFRVRfVVJJLCBTcHJpdGVTaGVldC50aWxlc2V0XzcpO1xuICAgIFNwcml0ZS50aWxlc1tDLlRJTEVfRkxPT1JfRURHRV9MVF0gPSBzcHJpdGU7XG4gICAgU3ByaXRlLnRpbGVzW0MuVElMRV9GTE9PUl9FREdFX1RSXSA9IHRoaXMuaW5pdER5bmFtaWNTcHJpdGUodGhpcy5yb3RhdGVJbWFnZShzcHJpdGUuaW1nLCBNYXRoLlBJICogMC41KSk7XG4gICAgU3ByaXRlLnRpbGVzW0MuVElMRV9GTE9PUl9FREdFX1JCXSA9IHRoaXMuaW5pdER5bmFtaWNTcHJpdGUodGhpcy5yb3RhdGVJbWFnZShzcHJpdGUuaW1nLCBNYXRoLlBJICogMS4wKSk7XG4gICAgU3ByaXRlLnRpbGVzW0MuVElMRV9GTE9PUl9FREdFX0JMXSA9IHRoaXMuaW5pdER5bmFtaWNTcHJpdGUodGhpcy5yb3RhdGVJbWFnZShzcHJpdGUuaW1nLCBNYXRoLlBJICogMS41KSk7XG5cbiAgICBzcHJpdGUgPSBhd2FpdCB0aGlzLmluaXRTcHJpdGUoU1BSSVRFU0hFRVRfVVJJLCBTcHJpdGVTaGVldC50aWxlc2V0XzgpO1xuICAgIFNwcml0ZS50aWxlc1tDLlRJTEVfRkxPT1JfRURHRV9MVFJdID0gc3ByaXRlO1xuICAgIFNwcml0ZS50aWxlc1tDLlRJTEVfRkxPT1JfRURHRV9UUkJdID0gdGhpcy5pbml0RHluYW1pY1Nwcml0ZSh0aGlzLnJvdGF0ZUltYWdlKHNwcml0ZS5pbWcsIE1hdGguUEkgKiAwLjUpKTtcbiAgICBTcHJpdGUudGlsZXNbQy5USUxFX0ZMT09SX0VER0VfUkJMXSA9IHRoaXMuaW5pdER5bmFtaWNTcHJpdGUodGhpcy5yb3RhdGVJbWFnZShzcHJpdGUuaW1nLCBNYXRoLlBJICogMS4wKSk7XG4gICAgU3ByaXRlLnRpbGVzW0MuVElMRV9GTE9PUl9FREdFX0JMVF0gPSB0aGlzLmluaXREeW5hbWljU3ByaXRlKHRoaXMucm90YXRlSW1hZ2Uoc3ByaXRlLmltZywgTWF0aC5QSSAqIDEuNSkpO1xuXG4gICAgc3ByaXRlID0gYXdhaXQgdGhpcy5pbml0U3ByaXRlKFNQUklURVNIRUVUX1VSSSwgU3ByaXRlU2hlZXQudGlsZXNldF82KTtcbiAgICBTcHJpdGUudGlsZXNbQy5USUxFX0ZMT09SX0VER0VfTFJdID0gc3ByaXRlO1xuICAgIFNwcml0ZS50aWxlc1tDLlRJTEVfRkxPT1JfRURHRV9UQl0gPSB0aGlzLmluaXREeW5hbWljU3ByaXRlKHRoaXMucm90YXRlSW1hZ2Uoc3ByaXRlLmltZywgTWF0aC5QSSAqIDAuNSkpO1xuLy8gVElMRV9GTE9PUjE6ICAgICAgICAgICAgMCxcbi8vIFRJTEVfRkxPT1IyOiAgICAgICAgICAgIDEsXG4vLyBUSUxFX0ZMT09SX0VER0VfTDogICAgIDIwLFxuLy8gVElMRV9GTE9PUl9FREdFX1Q6ICAgICAyMSxcbi8vIFRJTEVfRkxPT1JfRURHRV9SOiAgICAgMjIsXG4vLyBUSUxFX0ZMT09SX0VER0VfQjogICAgIDIzLFxuLy8gVElMRV9GTE9PUl9FREdFX0xUOiAgICAyNCxcbi8vIFRJTEVfRkxPT1JfRURHRV9UUjogICAgMjUsXG4vLyBUSUxFX0ZMT09SX0VER0VfUkI6ICAgIDI2LFxuLy8gVElMRV9GTE9PUl9FREdFX0JMOiAgICAyNyxcbi8vIFRJTEVfRkxPT1JfRURHRV9MVFI6ICAgMjgsXG4vLyBUSUxFX0ZMT09SX0VER0VfVFJCOiAgIDI5LFxuLy8gVElMRV9GTE9PUl9FREdFX1JCTDogICAzMCxcbi8vIFRJTEVfRkxPT1JfRURHRV9CTFQ6ICAgMzEsXG4vLyBUSUxFX0ZMT09SX0VER0VfTFI6ICAgIDMyLFxuLy8gVElMRV9GTE9PUl9FREdFX1RCOiAgICAzMyxcbi8vIFRJTEVfRkxPT1JfQ09STkVSX0xUOiAgMzQsXG4vLyBUSUxFX0ZMT09SX0NPUk5FUl9UUjogIDM1LFxuLy8gVElMRV9GTE9PUl9DT1JORVJfUkI6ICAzNixcbi8vIFRJTEVfRkxPT1JfQ09STkVSX0JMOiAgMzcsXG4vLyBUSUxFX0ZMT09SX0NPUk5FUl9MUjogIDM5LFxuICAgIFNwcml0ZS50aWxlc1tDLlRJTEVfV0FMTDFdID0gYXdhaXQgdGhpcy5pbml0U3ByaXRlKFNQUklURVNIRUVUX1VSSSwgU3ByaXRlU2hlZXQudGlsZXNldF8xKTtcbiAgICBTcHJpdGUudGlsZXNbQy5USUxFX1dBTEwyXSA9IGF3YWl0IHRoaXMuaW5pdFNwcml0ZShTUFJJVEVTSEVFVF9VUkksIFNwcml0ZVNoZWV0LnRpbGVzZXRfMik7XG4gICAgKi9cbiAgfTtcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIHNwcml0ZSBieSBsb2FkaW5nIGl0IGZyb20gYSBwYXJ0aWN1bGFyIHNsaWNlIG9mIHRoZSBnaXZlbiBpbWFnZS4gUHJvdmlkZXNcbiAgICogXCJzZW5zaWJsZVwiIGRlZmF1bHRzIGZvciBib3VuZGluZyBib3ggYW5kIGFuY2hvciBwb2ludCBpZiBub3QgcHJvdmlkZWQuXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgaW5pdFNwcml0ZSh1cmksIGRhdGEsIG9wdHMpIHtcbiAgICByZXR1cm4gdGhpcy5pbml0RHluYW1pY1Nwcml0ZShhd2FpdCB0aGlzLmxvYWRTbGljZSh1cmksIGRhdGEueCwgZGF0YS55LCBkYXRhLncsIGRhdGEuaCksIG9wdHMpO1xuICB9XG5cbiAgc3RhdGljIHJvdGF0ZUltYWdlKHNvdXJjZSwgcmFkKSB7XG4gICAgbGV0IGNhbnZhcyA9IG5ldyBDYW52YXMoc291cmNlLndpZHRoLCBzb3VyY2UuaGVpZ2h0KTtcbiAgICBjYW52YXMuY3R4LnRyYW5zbGF0ZShzb3VyY2Uud2lkdGggLyAyLCBzb3VyY2UuaGVpZ2h0IC8gMik7XG4gICAgY2FudmFzLmN0eC5yb3RhdGUocmFkKTtcbiAgICBjYW52YXMuY3R4LnRyYW5zbGF0ZSgtc291cmNlLndpZHRoIC8gMiwgLXNvdXJjZS5oZWlnaHQgLyAyKTtcbiAgICBjYW52YXMuY3R4LmRyYXdJbWFnZShzb3VyY2UsIDAsIDApO1xuICAgIHJldHVybiBjYW52YXMuY2FudmFzO1xuICB9XG5cbiAgc3RhdGljIG92ZXJsYXkoLi4uc291cmNlcykge1xuICAgIGxldCBjYW52YXMgPSBuZXcgQ2FudmFzKHNvdXJjZXNbMF0ud2lkdGgsIHNvdXJjZXNbMF0uaGVpZ2h0KTtcbiAgICBmb3IgKGxldCBzb3VyY2Ugb2Ygc291cmNlcykge1xuICAgICAgY2FudmFzLmN0eC5kcmF3SW1hZ2Uoc291cmNlLCAwLCAwKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhbnZhcy5jYW52YXM7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIHNwcml0ZSBieSBwYXNzaW5nIGl0IGEgcHJlLWRlZmluZWQgaW1hZ2Ugc291cmNlIChwcm9iYWJseSBnZW5lcmF0ZWQgZHluYW1pY2FsbHkpLlxuICAgKiBQcm92aWRlcyBcInNlbnNpYmxlXCIgZGVmYXVsdHMgZm9yIGJvdW5kaW5nIGJveCBhbmQgYW5jaG9yIHBvaW50IGlmIG5vdCBwcm92aWRlZC5cbiAgICovXG4gIHN0YXRpYyBpbml0RHluYW1pY1Nwcml0ZShzb3VyY2UsIG9wdHMpIHtcbiAgICBsZXQgdyA9IHNvdXJjZS53aWR0aCwgaCA9IHNvdXJjZS5oZWlnaHQ7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaW1nOiBzb3VyY2UsXG4gICAgICBhbmNob3I6IChvcHRzICYmIG9wdHMuYW5jaG9yKSB8fCB7IHg6IE1hdGguZmxvb3IodyAvIDIpLCB5OiBNYXRoLmZsb29yKGggLyAyKSB9LFxuICAgICAgYmJveDogKG9wdHMgJiYgb3B0cy5iYm94KSB8fCBbe3g6IDAsIHk6IDAgfSwgeyB4OiB3LCB5OiBoIH1dLFxuICAgICAgaGJveDogb3B0cyAmJiBvcHRzLmhib3hcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaGVscGVyIG1ldGhvZCByZXRyaWV2ZXMgYSBjYWNoZWQgaW1hZ2UsIGN1dHMgdGhlIHNwZWNpZmllZCBzbGljZSBvdXQgb2YgaXQsIGFuZCByZXR1cm5zIGl0LlxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGxvYWRTbGljZSh1cmksIHgsIHksIHcsIGgpIHtcbiAgICBjb25zdCBzb3VyY2UgPSBhd2FpdCB0aGlzLmxvYWRJbWFnZSh1cmkpO1xuICAgIGNvbnN0IHNsaWNlQ2FudmFzID0gbmV3IENhbnZhcyh3LCBoKTtcbiAgICBzbGljZUNhbnZhcy5jdHguZHJhd0ltYWdlKHNvdXJjZSwgeCwgeSwgdywgaCwgMCwgMCwgdywgaCk7XG4gICAgcmV0dXJuIHNsaWNlQ2FudmFzLmNhbnZhcztcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIHRoZSBpbWFnZSBmcm9tIHRoZSBnaXZlbiBVUkkgYW5kIGNhY2hlIGl0LlxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGxvYWRJbWFnZSh1cmkpIHtcbiAgICBpZiAodGhpcy5pbWFnZXNbdXJpXSkgcmV0dXJuIHRoaXMuaW1hZ2VzW3VyaV07XG5cbiAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICBpbWFnZS5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKGltYWdlKTtcbiAgICAgIGltYWdlLm9uZXJyb3IgPSAoZXJyKSA9PiByZWplY3QoZXJyKTtcbiAgICAgIGltYWdlLnNyYyA9IHVyaTtcbiAgICAgIHRoaXMuaW1hZ2VzW3VyaV0gPSBpbWFnZTtcbiAgICB9KTtcbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gJy4vSW5wdXQnO1xuXG4vLyBBIGZldyBxdWljayBjb25zdGFudHMgKDAqLCA0NSosIDkwKilcbmNvbnN0IEEwMCA9IDA7XG5jb25zdCBBNDUgPSAwLjcwNzEwNjc4MTE4NjU0NzU7XG5jb25zdCBBOTAgPSAxO1xuXG4vKipcbiAqIEtleWJvYXJkQWRhcHRlclxuICpcbiAqIE1hcHMga2V5Ym9hcmQgaW5wdXRzIHRvIGdhbWUgaW5wdXRzLlxuICovXG5leHBvcnQgY2xhc3MgS2V5Ym9hcmRBZGFwdGVyIHtcbiAgY29uc3RydWN0b3IoaGFuZGxlcikge1xuICAgIHRoaXMuaGFuZGxlciA9IGhhbmRsZXI7XG5cbiAgICAvLyBLZXkgTWFwcGluZzogICAgICBBQ1RJT04gICAgICAgICAgICAvLyBLZXlcbiAgICB0aGlzLm1hcCA9IFtdO1xuICAgIHRoaXMubWFwWzg4XSA9IElucHV0LkFjdGlvbi5BVFRBQ0s7ICAgIC8vIFtYXVxuICAgIHRoaXMubWFwWzkwXSA9IElucHV0LkFjdGlvbi5ERUZMRUNUOyAgIC8vIFtaXVxuICAgIHRoaXMubWFwWzY3XSA9IElucHV0LkFjdGlvbi5ET0RHRTsgICAgIC8vIFtDXVxuICAgIHRoaXMubWFwWzMyXSA9IElucHV0LkFjdGlvbi5TVVBFUjsgICAgIC8vIFtTUEFDRUJBUl1cbiAgICB0aGlzLm1hcFszOF0gPSBJbnB1dC5BY3Rpb24uVVA7ICAgICAgICAvLyBbVXBBcnJvd11cbiAgICB0aGlzLm1hcFs0MF0gPSBJbnB1dC5BY3Rpb24uRE9XTjsgICAgICAvLyBbRG93bkFycm93XVxuICAgIHRoaXMubWFwWzM3XSA9IElucHV0LkFjdGlvbi5MRUZUOyAgICAgIC8vIFtMZWZ0QXJyb3ddXG4gICAgdGhpcy5tYXBbMzldID0gSW5wdXQuQWN0aW9uLlJJR0hUOyAgICAgLy8gW1JpZ2h0QXJyb3ddXG4gICAgdGhpcy5tYXBbODddID0gSW5wdXQuQWN0aW9uLlVQOyAgICAgICAgLy8gW1ddXG4gICAgdGhpcy5tYXBbODNdID0gSW5wdXQuQWN0aW9uLkRPV047ICAgICAgLy8gW1NdXG4gICAgdGhpcy5tYXBbNjVdID0gSW5wdXQuQWN0aW9uLkxFRlQ7ICAgICAgLy8gW0FdXG4gICAgdGhpcy5tYXBbNjhdID0gSW5wdXQuQWN0aW9uLlJJR0hUOyAgICAgLy8gW0RdXG4gICAgdGhpcy5tYXBbMjddID0gSW5wdXQuQWN0aW9uLk1FTlU7ICAgICAgLy8gW0VTQ11cbiAgICB0aGlzLm1hcFs3N10gPSBJbnB1dC5BY3Rpb24uTVVURTsgICAgICAvLyBbTV1cbiAgICB0aGlzLm1hcFs3MF0gPSBJbnB1dC5BY3Rpb24uRlJFRVpFOyAgICAvLyBbRl1cbiAgICB0aGlzLm1hcFs4MF0gPSBJbnB1dC5BY3Rpb24uRlJFRVpFOyAgICAvLyBbUF1cblxuICAgIC8vIEZvciBrZXlib2FyZCwgd2Ugc3VwcG9ydCA4LXBvaW50IG1vdmVtZW50IChTLCBFLCBTRSwgZXRjLilcbiAgICB0aGlzLmFycm93RGlyZWN0aW9ucyA9IFtcbiAgICAgIHsgeDogIEEwMCwgeTogIEEwMCwgbTogMCB9LFxuICAgICAgeyB4OiAgQTAwLCB5OiAtQTkwLCBtOiAxIH0sXG4gICAgICB7IHg6ICBBMDAsIHk6ICBBOTAsIG06IDEgfSxcbiAgICAgIHsgeDogIEEwMCwgeTogIEEwMCwgbTogMCB9LFxuICAgICAgeyB4OiAtQTkwLCB5OiAgQTAwLCBtOiAxIH0sXG4gICAgICB7IHg6IC1BNDUsIHk6IC1BNDUsIG06IDEgfSxcbiAgICAgIHsgeDogLUE0NSwgeTogIEE0NSwgbTogMSB9LFxuICAgICAgeyB4OiAtQTkwLCB5OiAgQTAwLCBtOiAxIH0sXG4gICAgICB7IHg6ICBBOTAsIHk6ICBBMDAsIG06IDEgfSxcbiAgICAgIHsgeDogIEE0NSwgeTogLUE0NSwgbTogMSB9LFxuICAgICAgeyB4OiAgQTQ1LCB5OiAgQTQ1LCBtOiAxIH0sXG4gICAgICB7IHg6ICBBOTAsIHk6ICBBMDAsIG06IDEgfSxcbiAgICAgIHsgeDogIEEwMCwgeTogIEEwMCwgbTogMCB9LFxuICAgICAgeyB4OiAgQTAwLCB5OiAtQTkwLCBtOiAxIH0sXG4gICAgICB7IHg6ICBBMDAsIHk6ICBBOTAsIG06IDEgfSxcbiAgICAgIHsgeDogIEEwMCwgeTogIEEwMCwgbTogMCB9XG4gICAgXTtcblxuICAgIHRoaXMuaGVsZCA9IFtdO1xuXG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG5cbiAgYXN5bmMgaW5pdCgpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGV2ZW50ID0+IHtcbiAgICAgIGxldCBrID0gdGhpcy5tYXBbZXZlbnQua2V5Q29kZV07XG4gICAgICBjb25zb2xlLmxvZyhldmVudC5rZXlDb2RlKTtcbiAgICAgIGlmIChrKSB7XG4gICAgICAgIHRoaXMuaGVsZFtrXSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIC8vIEhhY2sgLSBmaXJzdCBrZXkgcHJlc3NlZCBpbiB3aW5kb3cgd2lsbCBpbml0aWFsaXplIHRoZSBhdWRpby5cbiAgICAgIC8vZ2FtZS5hdWRpby5pbml0KCk7XG4gICAgfSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBldmVudCA9PiB7XG4gICAgICBsZXQgayA9IHRoaXMubWFwW2V2ZW50LmtleUNvZGVdO1xuICAgICAgaWYgKGspIHtcbiAgICAgICAgdGhpcy5oZWxkW2tdID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgLy8gRm9yIGtleWJvYXJkcywgd2Ugd2FudCB0byBjb252ZXJ0IHRoZSBzdGF0ZSBvZiB0aGUgdmFyaW91cyBhcnJvdyBrZXlzIGJlaW5nIGhlbGQgZG93blxuICAgIC8vIGludG8gYSBkaXJlY3Rpb25hbCB2ZWN0b3IuIFdlIHVzZSB0aGUgYnJvd3NlcidzIGV2ZW50IHRvIGhhbmRsZSB0aGUgaGVsZCBzdGF0ZSBvZlxuICAgIC8vIHRoZSBvdGhlciBhY3Rpb24gYnV0dG9ucywgc28gd2UgZG9uJ3QgbmVlZCB0byBwcm9jZXNzIHRoZW0gaGVyZS5cbiAgICBsZXQgc3RhdGUgPSAodGhpcy5oZWxkW0lucHV0LkFjdGlvbi5VUF0gPyAxIDogMCkgK1xuICAgICAgICAgICAgICAgICh0aGlzLmhlbGRbSW5wdXQuQWN0aW9uLkRPV05dID8gMiA6IDApICtcbiAgICAgICAgICAgICAgICAodGhpcy5oZWxkW0lucHV0LkFjdGlvbi5MRUZUXSA/IDQgOiAwKSArXG4gICAgICAgICAgICAgICAgKHRoaXMuaGVsZFtJbnB1dC5BY3Rpb24uUklHSFRdID8gOCA6IDApO1xuXG4gICAgdGhpcy5kaXJlY3Rpb24gPSB0aGlzLmFycm93RGlyZWN0aW9uc1tzdGF0ZV07XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLmRpcmVjdGlvbiA9IHRoaXMuYXJyb3dEaXJlY3Rpb25zWzBdO1xuICAgIGZvciAobGV0IGFjdGlvbiBvZiBPYmplY3QudmFsdWVzKElucHV0LkFjdGlvbikpIHtcbiAgICAgIHRoaXMuaGVsZFthY3Rpb25dID0gZmFsc2U7XG4gICAgfVxuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IEdBTUVfV0lEVEggPSA0ODA7XG5jb25zdCBHQU1FX0hFSUdIVCA9IDI3MDtcblxuLyoqXG4qIFZpZXdwb3J0XG4qXG4qIFJlcHJlc2VudHMgdGhlIGdhbWUgZGlzcGxheSAoZm9yIHVzLCBhIGNhbnZhcykuXG4qL1xuZXhwb3J0IGNsYXNzIFZpZXdwb3J0IHtcbiAgYXN5bmMgaW5pdCgpIHtcbiAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKTtcbiAgICB0aGlzLmN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgdGhpcy5yZXNpemUodHJ1ZSk7XG4gIH1cblxuICAvLyBSZXNpemUgdGhlIGNhbnZhcyB0byBnaXZlIHVzIGFwcHJveGltYXRlbHkgb3VyIGRlc2lyZWQgZ2FtZSBkaXNwbGF5IHNpemUuXG4gIC8vXG4gIC8vIFJhdGhlciB0aGFuIGF0dGVtcHQgdG8gZXhwbGFpbiBpdCwgaGVyZSdzIGEgY29uY3JldGUgZXhhbXBsZTpcbiAgLy9cbiAgLy8gICAgIHdlIHN0YXJ0IHdpdGggYSBkZXNpcmVkIGdhbWUgZGltZW5zaW9uOiAgIDQ4MHgyNzBweFxuICAvLyAgICAgICAgICBnZXQgdGhlIGFjdHVhbCBicm93c2VyIGRpbWVuc2lvbnM6ICAxMzA5eDQ2OHB4XG4gIC8vICAgICAgICAgIGZhY3RvciBpbiB0aGUgZGlzcGxheSdzIERQSSByYXRpbzogIDI2MTh4OTM2cHhcbiAgLy8gICAgICAgICBub3cgY2FsY3VsYXRlIHRoZSBob3Jpem9udGFsIHNjYWxlOiAgICAgICA1LjQ1eFxuICAvLyAgICAgICAgICAgICAgICAgICAgIGFuZCB0aGUgdmVydGljYWwgc2NhbGU6ICAgICAgIDMuNDZ4XG4gIC8vICAgICAgICAgICAgb3VyIG5ldyBvZmZpY2FsIGdhbWUgc2NhbGluZyBpczogICAgICAgIDUuNHhcbiAgLy8gICAgICAgYW5kIG91ciBvZmZpY2lhbCB2aWV3cG9ydCBkaW1lbnNpb25zOiAgIDQ4NHgxNzNweFxuICAvL1xuICAvLyBUaGlzIGFwcHJvYWNoIGVtcGhhc2l6ZXMgY29ycmVjdCBhc3BlY3QgcmF0aW8gYW5kIG1haW50YWlucyBmdWxsLXdpbmRvdyByZW5kZXJpbmcsIGF0XG4gIC8vIHRoZSBwb3RlbnRpYWwgY29zdCBvZiBsaW1pdGluZyB2aXNpYmlsaXR5IG9mIHRoZSBnYW1lIGl0c2VsZiBpbiBlaXRoZXIgdGhlIFggb3IgWSBheGlzLlxuICAvLyBJZiB5b3UgdXNlIHRoaXMgYXBwcm9hY2gsIG1ha2Ugc3VyZSB5b3VyIEdVSSBjYW4gXCJmbG9hdFwiIChvdGhlcndpc2UgdGhlcmUgbWF5IGJlIHdob2xlXG4gIC8vIFVJIGVsZW1lbnRzIHRoZSBwbGF5ZXIgY2Fubm90IHNlZSEpLlxuICByZXNpemUoZm9yY2UpIHtcbiAgICBsZXQgZHBpID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgbGV0IHdpZHRoID0gdGhpcy5jYW52YXMuY2xpZW50V2lkdGg7XG4gICAgbGV0IGhlaWdodCA9IHRoaXMuY2FudmFzLmNsaWVudEhlaWdodDtcbiAgICBsZXQgZHBpV2lkdGggPSB3aWR0aCAqIGRwaTtcbiAgICBsZXQgZHBpSGVpZ2h0ID0gaGVpZ2h0ICogZHBpO1xuXG4gICAgaWYgKGZvcmNlIHx8IHRoaXMuY2FudmFzLndpZHRoICE9PSBkcGlXaWR0aCB8fCB0aGlzLmNhbnZhcy5oZWlnaHQgIT09IGRwaUhlaWdodCkge1xuICAgICAgdGhpcy5jYW52YXMud2lkdGggPSBkcGlXaWR0aDtcbiAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IGRwaUhlaWdodDtcblxuICAgICAgdGhpcy5zY2FsZSA9IChNYXRoLmZsb29yKE1hdGgubWF4KGRwaVdpZHRoIC8gR0FNRV9XSURUSCwgZHBpSGVpZ2h0IC8gR0FNRV9IRUlHSFQpICogMTApIC8gMTApO1xuICAgICAgdGhpcy53aWR0aCA9IE1hdGguY2VpbCh0aGlzLmNhbnZhcy53aWR0aCAvIHRoaXMuc2NhbGUpO1xuICAgICAgdGhpcy5oZWlnaHQgPSBNYXRoLmNlaWwodGhpcy5jYW52YXMuaGVpZ2h0IC8gdGhpcy5zY2FsZSk7XG4gICAgICB0aGlzLmNlbnRlciA9IHsgdTogTWF0aC5mbG9vcih0aGlzLndpZHRoIC8gMiksIHY6IE1hdGguZmxvb3IodGhpcy5oZWlnaHQgLyAyKSB9O1xuICAgICAgdGhpcy5jbGllbnRXaWR0aCA9IHdpZHRoO1xuICAgICAgdGhpcy5jbGllbnRIZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgICAgIC8vIE5vdGU6IHNtb290aGluZyBmbGFnIGdldHMgcmVzZXQgb24gZXZlcnkgcmVzaXplIGJ5IHNvbWUgYnJvd3NlcnMsIHdoaWNoIGlzIHdoeVxuICAgICAgICAgICAgLy8gd2UgZG8gaXQgaGVyZS5cbiAgICAgICAgICAgIHRoaXMuY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICB2aWV3cG9ydC5jYW52YXMuc3R5bGUuY3Vyc29yID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBTaW5nbGV0b25cbmV4cG9ydCBjb25zdCB2aWV3cG9ydCA9IG5ldyBWaWV3cG9ydCgpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gJy4vSW5wdXQnO1xuaW1wb3J0IHsgdmlld3BvcnQgfSBmcm9tICcuLi9WaWV3cG9ydCc7XG5cbi8qKlxuICogTW91c2VBZGFwdGVyXG4gKlxuICogTWFwcyBtb3VzZSBpbnB1dHMgdG8gZ2FtZSBpbnB1dHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBNb3VzZUFkYXB0ZXIge1xuICBjb25zdHJ1Y3RvcihoYW5kbGVyKSB7XG4gICAgdGhpcy5oYW5kbGVyID0gaGFuZGxlcjtcblxuICAgIC8vIEtleSBNYXBwaW5nOiAgICAgIEFDVElPTiAgICAgICAgICAgIC8vIElucHV0XG4gICAgdGhpcy5tYXAgPSBbXTtcbiAgICB0aGlzLm1hcFswXSAgPSBJbnB1dC5BY3Rpb24uQVRUQUNLOyAgICAvLyBMTUJcbiAgICB0aGlzLm1hcFsyXSAgPSBJbnB1dC5BY3Rpb24uUkVMT0FEOyAgICAvLyBSTUJcblxuICAgIHRoaXMuaGVsZCA9IFtdO1xuXG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG5cbiAgYXN5bmMgaW5pdCgpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZXZlbnQgPT4ge1xuICAgICAgaWYgKCF0aGlzLnBvaW50ZXIpIHRoaXMucG9pbnRlciA9IHt9O1xuICAgICAgLy90aGlzLmhhbmRsZXJzWydtb3VzZW1vdmUnXShldmVudC5tb3ZlbWVudFgsIGV2ZW50Lm1vdmVtZW50WSwgZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XG4gICAgICB0aGlzLnBvaW50ZXIudSA9IE1hdGguZmxvb3IoKGV2ZW50LmNsaWVudFggKiB2aWV3cG9ydC53aWR0aCkgLyB2aWV3cG9ydC5jbGllbnRXaWR0aCk7XG4gICAgICB0aGlzLnBvaW50ZXIudiA9IE1hdGguZmxvb3IoKGV2ZW50LmNsaWVudFkgKiB2aWV3cG9ydC5oZWlnaHQpIC8gdmlld3BvcnQuY2xpZW50SGVpZ2h0KTtcbiAgICB9KTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgIHRoaXMucG9pbnRlciA9IHVuZGVmaW5lZDtcbiAgICB9KTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBldmVudCA9PiB7XG4gICAgICBsZXQgayA9IHRoaXMubWFwW2V2ZW50LmJ1dHRvbl07XG4gICAgICBpZiAoaykgdGhpcy5oZWxkW2tdID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZXZlbnQgPT4ge1xuICAgICAgbGV0IGsgPSB0aGlzLm1hcFtldmVudC5idXR0b25dO1xuICAgICAgaWYgKGspIHRoaXMuaGVsZFtrXSA9IGZhbHNlO1xuICAgIH0pO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXZlbnQgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGV2ZW50ID0+IHtcbiAgICAgIGxldCBrID0gdGhpcy5tYXBbZXZlbnQuYnV0dG9uXTtcbiAgICAgIGNvbnNvbGUubG9nKGV2ZW50LmJ1dHRvbik7XG4gICAgICBpZiAoaykgdGhpcy5oZWxkW2tdID0gdHJ1ZTtcbiAgICAgIHRoaXMucmVsZWFzZVJNQlRpY2sgPSAyO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIC8vIEhhY2tzOiBpZGVhbGx5IHdlIGNvdWxkIHVzZSBtb3VzZWRvd24gYW5kIG1vdXNldXAgZm9yIGFsbCBjbGlja3MgYW5kIHByZXZlbnREZWZhdWx0IHRvXG4gICAgLy8gYXZvaWQgb3BlbmluZyB0aGUgYnJvd3NlcidzIGNvbnRleHQgbWVudS4gVGhpcyBoYXNuJ3Qgd29ya2VkIGZvciBtZSBzbyBmYXIgd2hlbiBjbGlja2luZ1xuICAgIC8vIG9uIGEgY2FudmFzLCBzbyBJIG5lZWQgdG8gdXNlIHRoZSBjb250ZXh0IG1lbnUgZXZlbnQgdG8gY2FwdHVyZSBhIHJpZ2h0IG1vdXNlIGNsaWNrIGluc3RlYWQuXG4gICAgLy9cbiAgICAvLyBXZSBmYWtlIGEgZG93bi91cCBmb3IgUk1CIGNsaWNrcywgd2hpY2ggbWVhbnMgd2UgY2FuJ3QgZGV0ZXJtaW5lIGhvdyBsb25nIHRoZSBSTUIgaXMgaGVsZFxuICAgIC8vIChidXQgbHVja2lseSB3ZSBkb24ndCBuZWVkIHRvIGZvciB0aGlzIGdhbWUpLlxuICAgIGlmICh0aGlzLnJlbGVhc2VSTUJUaWNrKSB7XG4gICAgICB0aGlzLnJlbGVhc2VSTUJUaWNrLS07XG4gICAgICBpZiAodGhpcy5yZWxlYXNlUk1CVGljayA9PT0gMCkge1xuICAgICAgICB0aGlzLmhlbGRbSW5wdXQuQWN0aW9uLlJFTE9BRF0gPSBmYWxzZTtcbiAgICAgICAgY29uc29sZS5sb2coJ3JlbGVhc2VkJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5wb2ludGVyID0gdW5kZWZpbmVkO1xuICAgIGZvciAobGV0IGFjdGlvbiBvZiBPYmplY3QudmFsdWVzKElucHV0LkFjdGlvbikpIHtcbiAgICAgIHRoaXMuaGVsZFthY3Rpb25dID0gZmFsc2U7XG4gICAgfVxuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IEtleWJvYXJkQWRhcHRlciB9IGZyb20gJy4vS2V5Ym9hcmRBZGFwdGVyJztcbmltcG9ydCB7IE1vdXNlQWRhcHRlciB9IGZyb20gJy4vTW91c2VBZGFwdGVyJztcblxuLy9pbXBvcnQgeyBHYW1lcGFkQWRhcHRlciB9IGZyb20gJy4vR2FtZXBhZEFkYXB0ZXInO1xuLy9pbXBvcnQgeyBOb3JtYWxWZWN0b3IgfSBmcm9tICcuL0dlb21ldHJ5JztcblxuLyoqXG4gKiBUaGlzIGlzIG91ciBhYnN0cmFjdCBnYW1lIGlucHV0IGhhbmRsZXIuXG4gKlxuICogRWFjaCBmcmFtZSwgd2UnbGwgY29sbGVjdCBpbnB1dCBkYXRhIGZyb20gYWxsIG9mIG91ciBzdXBwb3J0ZWQgaW5wdXQgYWRhcHRlcnMsXG4gKiBhbmQgdHVybiBpdCBpbnRvIGdhbWUgaW5wdXQuIFRoaXMgZ2FtZSBpbnB1dCBjYW4gdGhlbiBiZSB1c2VkIGJ5IHRoZSBnYW1lXG4gKiB1cGRhdGUgZm9yIHRoZSBmcmFtZS5cbiAqXG4gKiBUaGUgaW5wdXQgYWRhcHRlcnMgZ2l2ZSB1cyBkYXRhIGxpa2UgXCJrZXkgWCBwcmVzc2VkXCIsIG9yIFwicmlnaHQgbW91c2UgYnV0dG9uXG4gKiBjbGlja2VkXCIsIG9yIFwiYnV0dG9uIEJcIiBwcmVzc2VkLCBhbmQgdGhlc2UgYXJlIHRyYW5zbGF0ZWQgaW50byBhIGdhbWUgaW5wdXRcbiAqIGxpa2UgXCJkb2RnZVwiLlxuICovXG5leHBvcnQgY2xhc3MgSW5wdXQge1xuICAgIGFzeW5jIGluaXQoKSB7XG4gICAgICAgIC8vIEEgdmVjdG9yIHJlcHJlc2VudGluZyB0aGUgZGlyZWN0aW9uIHRoZSB1c2VyIGlzIHByZXNzaW5nL2ZhY2luZyxcbiAgICAgICAgLy8gc2VwYXJhdGUgZnJvbSBwcmVzc2luZyBhbmQgcmVsZWFzaW5nIGlucHV0cy4gVHJlYXRpbmcgXCJkaXJlY3Rpb25cIlxuICAgICAgICAvLyBzZXBhcmF0ZWx5IG1ha2VzIGl0IGVhc2llciB0byBoYW5kbGUgZ2FtZXBhZCBzdGlja3MuXG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0geyB4OiAwLCB5OiAwLCBtOiAwIH07XG5cbiAgICAgICAgLy8gXCJQcmVzc2VkXCIgbWVhbnMgYW4gaW5wdXQgd2FzIHByZXNzZWQgVEhJUyBGUkFNRS5cbiAgICAgICAgdGhpcy5wcmVzc2VkID0ge307XG5cbiAgICAgICAgLy8gXCJSZWxlYXNlZFwiIG1lYW5zIGFuIGlucHV0IHdhcyByZWxlYXNlZCBUSElTIEZSQU1FLlxuICAgICAgICB0aGlzLnJlbGVhc2VkID0ge307XG5cbiAgICAgICAgLy8gXCJIZWxkXCIgbWVhbnMgYW4gaW5wdXQgaXMgaGVsZCBkb3duLiBUaGUgaW5wdXQgd2FzIFwiUHJlc3NlZFwiIGVpdGhlclxuICAgICAgICAvLyB0aGlzIGZyYW1lIG9yIGluIGEgcGFzdCBmcmFtZSwgYW5kIGhhcyBub3QgYmVlbiBcIlJlbGVhc2VkXCIgeWV0LlxuICAgICAgICB0aGlzLmhlbGQgPSB7fTtcblxuICAgICAgICAvLyBIb3cgbWFueSBmcmFtZXMgd2FzIHRoaXMgaW5wdXQgaGVsZCBkb3duIGJ5IHRoZSBwbGF5ZXIuIElmIFtoZWxkXVxuICAgICAgICAvLyBpcyBmYWxzZSwgaXQgcmVwcmVzZW50cyBob3cgbG9uZyB0aGUgaW5wdXQgd2FzIGxhc3QgaGVsZCBkb3duLlxuICAgICAgICB0aGlzLmZyYW1lc0hlbGQgPSB7fTtcblxuICAgICAgICB0aGlzLmtleWJvYXJkID0gbmV3IEtleWJvYXJkQWRhcHRlcih0aGlzKTtcbiAgICAgICAgYXdhaXQgdGhpcy5rZXlib2FyZC5pbml0KCk7XG5cbiAgICAgICAgdGhpcy5tb3VzZSA9IG5ldyBNb3VzZUFkYXB0ZXIodGhpcyk7XG4gICAgICAgIGF3YWl0IHRoaXMubW91c2UuaW5pdCgpO1xuXG4gICAgICAgIC8vdGhpcy5nYW1lcGFkID0gbmV3IEdhbWVwYWRBZGFwdGVyKHRoaXMpO1xuICAgICAgICAvL2F3YWl0IHRoaXMuZ2FtZXBhZC5pbml0KCk7XG4gICAgfVxuXG4gICAgdXBkYXRlKCkge1xuICAgICAgICAvLyBXZSBjb3VsZCBoYXZlIHNvbWUga2luZCBvZiBcImlucHV0IGFkYXB0ZXIgdG9nZ2xlXCIsIGJ1dCBpdCdzIGVhc2llciB0byBqdXN0IHRyZWF0IGFsbCBpbnB1dHNcbiAgICAgICAgLy8gYXMgdmFsaWQgLS0gaWYgeW91J3JlIHByZXNzaW5nIHRoZSBcImF0dGFja1wiIGJ1dHRvbiBvbiBlaXRoZXIgZ2FtZXBhZCBvciBrZXlib2FyZCwgdGhlbiB5b3UncmVcbiAgICAgICAgLy8gYXR0YWNraW5nLiBGb3IgZGlyZWN0aW9uYWwgaW5wdXQsIHdlIGluc3RlYWQgY2hlY2sgd2hldGhlciB0aGVyZSdzIG1vdmVtZW50IG9uIHRoZSB0aHVtYnN0aWNrLFxuICAgICAgICAvLyBhbmQgd2UgdXNlIGl0IGlmIHRoZXJlIGlzIC0tIG90aGVyd2lzZSB3ZSB0cnkgdG8gZXh0cmFjdCBtb3ZlbWVudCBmcm9tIHRoZSBrZXlib2FyZCBpbnN0ZWFkLlxuXG4gICAgICAgIHRoaXMua2V5Ym9hcmQudXBkYXRlKCk7XG4gICAgICAgIHRoaXMubW91c2UudXBkYXRlKCk7XG4gICAgICAgIC8vdGhpcy5nYW1lcGFkLnVwZGF0ZSgpO1xuXG4gICAgICAgIGZvciAobGV0IGFjdGlvbiBvZiBPYmplY3QudmFsdWVzKElucHV0LkFjdGlvbikpIHtcbiAgICAgICAgICAgIGxldCBoZWxkID0gdGhpcy5tb3VzZS5oZWxkW2FjdGlvbl0gfHwgdGhpcy5rZXlib2FyZC5oZWxkW2FjdGlvbl07XG4gICAgICAgICAgICAvL2xldCBoZWxkID0gdGhpcy5nYW1lcGFkLmhlbGRbYWN0aW9uXSB8fCB0aGlzLmtleWJvYXJkLmhlbGRbYWN0aW9uXTtcbiAgICAgICAgICAgIHRoaXMucHJlc3NlZFthY3Rpb25dID0gIXRoaXMuaGVsZFthY3Rpb25dICYmIGhlbGQ7XG4gICAgICAgICAgICB0aGlzLnJlbGVhc2VkW2FjdGlvbl0gPSB0aGlzLmhlbGRbYWN0aW9uXSAmJiAhaGVsZDtcblxuICAgICAgICAgICAgaWYgKHRoaXMucHJlc3NlZFthY3Rpb25dKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcmFtZXNIZWxkW2FjdGlvbl0gPSAxO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmhlbGRbYWN0aW9uXSAmJiBoZWxkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcmFtZXNIZWxkW2FjdGlvbl0rKztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5oZWxkW2FjdGlvbl0gPSBoZWxkO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wb2ludGVyID0gdGhpcy5tb3VzZS5wb2ludGVyO1xuXG4gICAgICAgIC8vdGhpcy5kaXJlY3Rpb24gPSB0aGlzLmdhbWVwYWQuZGlyZWN0aW9uLm0gPiAwID8gdGhpcy5nYW1lcGFkLmRpcmVjdGlvbiA6IHRoaXMua2V5Ym9hcmQuZGlyZWN0aW9uO1xuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IHRoaXMua2V5Ym9hcmQuZGlyZWN0aW9uO1xuICAgIH1cblxuICAgIG9uRG93bihhY3Rpb24pIHtcbiAgICB9XG5cbiAgICBvblVwKGFjdGlvbikge1xuICAgIH1cbn1cblxuLy8gR2FtZSBJbnB1dHNcbi8vXG4vLyBOb3RlIHRoYXQgbW92aW5nIHRoZSBwbGF5ZXIgYXJvdW5kIGlzIGFjdHVhbGx5IG5vdCBjb25zaWRlcmVkIGFuIGFjdGlvbjsgaXQnc1xuLy8gYSBzZXBhcmF0ZSBub24tYWN0aW9uIGlucHV0IGNhbGxlZCBcImRpcmVjdGlvblwiLiBJdCBqdXN0IHNvIGhhcHBlbnMgdGhhdCBvblxuLy8ga2V5Ym9hcmQsIGZvciBleGFtcGxlLCBwcmVzc2luZyB0aGUgXCJkb3duIGFycm93XCIga2V5IGlzIGNvbnNpZGVyZWQgYm90aCBhXG4vLyBwcmVzcyBvZiB0aGUgaW4tZ2FtZSBET1dOIGFjdGlvbiBhbmQgYSBkaXJlY3Rpb25hbCBpbnB1dC4gSXQncyB1cCB0byB0aGUgaW5wdXRcbi8vIGNvbnN1bWVyIHRvIGRlY2lkZSB3aGljaCBpbnB1dCBpcyByZWxldmFudCAoaWYgYW55KS4gRm9yIGV4YW1wbGUsIG9uIGEgbWVudSxcbi8vIHdlIG1heSBjb25zdW1lIHRoZSBET1dOL1VQIGFjdGlvbnMgdG8gbmF2aWdhdGUgdGhlIG1lbnUsIGJ1dCBpZ25vcmUgZGlyZWN0aW9uYWxcbi8vIGlucHV0cy5cbi8vXG5JbnB1dC5BY3Rpb24gPSB7XG4gIFVQOiAgICAgIDExLFxuICBET1dOOiAgICAxMixcbiAgTEVGVDogICAgMTMsXG4gIFJJR0hUOiAgIDE0LFxuICBBVFRBQ0s6ICAyMSxcbiAgUkVMT0FEOiAgMzAsXG4gIERFRkxFQ1Q6IDIyLFxuICBET0RHRTogICAyMyxcbiAgU1VQRVI6ICAgMjQsXG4gIE1FTlU6ICAgIDk2LFxuICBNVVRFOiAgICA5NyxcbiAgRlJFRVpFOiAgOThcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IENvbnN0YW50cyBhcyBDIH0gZnJvbSAnLi9Db25zdGFudHMnXG5pbXBvcnQgeyBnYW1lIH0gZnJvbSAnLi9HYW1lJztcbmltcG9ydCB7IHZpZXdwb3J0IH0gZnJvbSAnLi9WaWV3cG9ydCc7XG5cbi8qKlxuICogR2VvbWV0cnlcbiAqXG4gKiBBIGhvcnJpYmxlIGdyYWIgYmFnIG9mIG1hdGgtcmVsYXRlZCBub25zZW5zZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEdlb21ldHJ5ID0ge1xuICBSQUQ6ICgoKSA9PiB7XG4gICAgbGV0IHJhZGlhblRhYmxlID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gMzYwOyBpKyspIHtcbiAgICAgIHJhZGlhblRhYmxlW2ldID0gTWF0aC5QSSAqIDIgKiBpIC8gMzYwO1xuICAgIH1cbiAgICByZXR1cm4gcmFkaWFuVGFibGU7XG4gIH0pKCksXG5cbiAgbm9ybWFsaXplVmVjdG9yKHApIHtcbiAgICBsZXQgbSA9IE1hdGguc3FydChwLnggKiBwLnggKyBwLnkgKiBwLnkpO1xuICAgIHJldHVybiAobSA9PT0gMCkgPyB7IHg6IDAsIHk6IDAsIG06IDAgfSA6IHsgeDogcC54IC8gbSwgeTogcC55IC8gbSwgbSB9O1xuICB9LFxuXG4gIHZlY3RvckJldHdlZW4ocDEsIHAyKSB7XG4gICAgcmV0dXJuIEdlb21ldHJ5Lm5vcm1hbGl6ZVZlY3Rvcih7IHg6IHAyLnggLSBwMS54LCB5OiBwMi55IC0gcDEueSB9KTtcbiAgfSxcblxuICBhbmdsZTJ2ZWN0b3IociwgbSkge1xuICAgIHJldHVybiB7IHg6IE1hdGguY29zKHIpLCB5OiBNYXRoLnNpbihyKSwgbTogbSB8fCAxIH07XG4gIH0sXG5cbiAgdmVjdG9yMmFuZ2xlKHYpIHtcbiAgICBsZXQgYW5nbGUgPSBNYXRoLmF0YW4yKHYueSwgdi54KTtcbiAgICBpZiAoYW5nbGUgPCAwKSBhbmdsZSArPSBHZW9tZXRyeS5SQURbMzYwXTtcbiAgICByZXR1cm4gYW5nbGU7XG4gIH0sXG5cbiAgdmVjdG9yMnBvaW50KHYpIHtcbiAgICByZXR1cm4geyB4OiB2LnggKiAodi5tIHx8IDEpLCB5OiB2LnkgKiAodi5tIHx8IDEpIH07XG4gIH0sXG5cbiAgZG90KGEsIGIpIHtcbiAgICBbYSwgYl0gPSBbR2VvbWV0cnkudmVjdG9yMnBvaW50KGEpLCBHZW9tZXRyeS52ZWN0b3IycG9pbnQoYildO1xuICAgIHJldHVybiBhLnggKiBiLnggKyBhLnkgKiBiLnk7XG4gIH0sXG5cbiAgLy8gVGFrZXMgYSBzZXJpZXMgb2YgdmVjdG9ycyBhbmQgZGVub3JtYWxpemVzIHRoZW0gYW5kIGFkZHMgdGhlbSB0b2dldGhlciwgdXN1YWxseSByZXN1bHRpbmdcbiAgLy8gaW4gYSBwb2ludCBpbiBzcGFjZS4gV3JhcCBpbiBub3JtYWxpemVWZWN0b3IgdG8gZ2V0IGEgbm9ybWFsaXplZCB2ZWN0b3IgYWdhaW4sIGlmIGRlc2lyZWQuXG4gIHZlY3RvckFkZCguLi52ZWN0b3JzKSB7XG4gICAgbGV0IHYgPSB7IHg6IDAsIHk6IDAsIG06IDEgfTtcbiAgICBmb3IgKGxldCB2ZWN0b3Igb2YgdmVjdG9ycykge1xuICAgICAgdi54ICs9IHZlY3Rvci54ICogKHZlY3Rvci5tIHx8IDEpO1xuICAgICAgdi55ICs9IHZlY3Rvci55ICogKHZlY3Rvci5tIHx8IDEpO1xuICAgIH1cbiAgICByZXR1cm4gdjtcbiAgfSxcblxuICBhbmdsZUJldHdlZW4oYW5nbGUsIG1pbiwgbWF4KSB7XG4gICAgaWYgKG1pbiA+IG1heCkgW21pbiwgbWF4XSA9IFttYXgsIG1pbl07XG4gICAgd2hpbGUgKGFuZ2xlID49IG1heCArIEdlb21ldHJ5LlJBRFszNjBdKSBhbmdsZSAtPSBHZW9tZXRyeS5SQURbMzYwXTtcbiAgICB3aGlsZSAoYW5nbGUgPD0gbWluIC0gR2VvbWV0cnkuUkFEWzM2MF0pIGFuZ2xlICs9IEdlb21ldHJ5LlJBRFszNjBdO1xuICAgIHJldHVybiAoYW5nbGUgPj0gbWluICYmIGFuZ2xlIDwgbWF4KTtcbiAgfSxcblxuICBhcmNPdmVybGFwKGFuZ2xlQTEsIGFuZ2xlQTIsIGFuZ2xlQjEsIGFuZ2xlQjIpIHtcbiAgICBjb25zb2xlLmxvZyhbYW5nbGVBMSwgYW5nbGVBMiwgYW5nbGVCMSwgYW5nbGVCMl0ubWFwKHggPT4geCAqIDM2MCAvIChNYXRoLlBJICogMikpKTtcbiAgICBpZiAoYW5nbGVBMSA+IGFuZ2xlQTIpIFthbmdsZUExLCBhbmdsZUEyXSA9IFthbmdsZUEyLCBhbmdsZUExXTtcbiAgICBpZiAoYW5nbGVCMSA+IGFuZ2xlQjIpIFthbmdsZUIxLCBhbmdsZUIyXSA9IFthbmdsZUIyLCBhbmdsZUIxXTtcbiAgICAvL3doaWxlIChhbmdsZUExIDwgMCkgYW5nbGVBMSArPSBHZW9tZXRyeS5SQURbMzYwXTtcblxuICAgIHdoaWxlIChhbmdsZUIyID49IGFuZ2xlQTIgKyBHZW9tZXRyeS5SQURbMzYwXSkge1xuICAgICAgYW5nbGVCMiAtPSBHZW9tZXRyeS5SQURbMzYwXTtcbiAgICAgIGFuZ2xlQjEgLT0gR2VvbWV0cnkuUkFEWzM2MF07XG4gICAgfVxuICAgIHdoaWxlIChhbmdsZUIxIDw9IGFuZ2xlQTEgLSBHZW9tZXRyeS5SQURbMzYwXSkge1xuICAgICAgYW5nbGVCMSArPSBHZW9tZXRyeS5SQURbMzYwXTtcbiAgICAgIGFuZ2xlQjIgKz0gR2VvbWV0cnkuUkFEWzM2MF07XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gW01hdGgubWF4KGFuZ2xlQTEsIGFuZ2xlQjEpLCBNYXRoLm1pbihhbmdsZUEyLCBhbmdsZUIyKV07XG4gICAgY29uc29sZS5sb2coW2FuZ2xlQTEsIGFuZ2xlQTIsIGFuZ2xlQjEsIGFuZ2xlQjIsIC4uLnJlc3VsdF0ubWFwKHggPT4geCAqIDM2MCAvIChNYXRoLlBJICogMikpKTtcbiAgICByZXR1cm4gcmVzdWx0WzBdID4gcmVzdWx0WzFdID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICB9LFxuXG4gIHh5MnFyKHBvcykge1xuICAgIHJldHVybiB7IHE6IChwb3MueCAvIEMuVElMRV9XSURUSCkgfCAwLCByOiAocG9zLnkgLyBDLlRJTEVfSEVJR0hUKSB8IDAgfTtcbiAgfSxcblxuICBxcjJ4eShwb3MpIHtcbiAgICByZXR1cm4geyB4OiBwb3MucSAqIEMuVElMRV9XSURUSCwgeTogcG9zLnIgKiBDLlRJTEVfSEVJR0hUIH07XG4gIH0sXG5cbiAgeHkydXYocG9zKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHU6IHBvcy54ICsgdmlld3BvcnQuY2VudGVyLnUgLSBnYW1lLmNhbWVyYS5wb3MueCxcbiAgICAgIHY6IHBvcy55ICsgdmlld3BvcnQuY2VudGVyLnYgLSBnYW1lLmNhbWVyYS5wb3MueVxuICAgIH07XG4gIH0sXG5cbiAgY2xhbXAodmFsdWUsIG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIHZhbHVlIDwgbWluID8gbWluIDogKHZhbHVlID4gbWF4ID8gbWF4IDogdmFsdWUpO1xuICB9LFxuXG4gIC8vIFRoZSBwYXJhbWV0ZXJzIHRvIHRoaXMgZnVuY3Rpb24gYXJlIChRLCBRKSBvciAoUiwgUikgLSBpLmUuIGhvcml6b250YWwgb3JcbiAgLy8gdmVydGljYWwgY29vcmRpbmF0ZXMgaW4gdGlsZSBzcGFjZS5cbiAgY2FsY3VsYXRlUmF5SW50ZXJzZWN0aW9uQW5kU3RlcChzdGFydFBvcywgZW5kUG9zKSB7XG4gICAgbGV0IG5leHQsIHN0ZXAsIGRpZmYgPSBlbmRQb3MgLSBzdGFydFBvcztcblxuICAgIGlmIChkaWZmID09PSAwKSB7XG4gICAgICAgIHN0ZXAgPSBOYU47XG4gICAgICAgIG5leHQgPSArSW5maW5pdHk7XG4gICAgfSBlbHNlIGlmIChkaWZmID4gMCkge1xuICAgICAgICBzdGVwID0gMSAvIGRpZmY7XG4gICAgICAgIG5leHQgPSAoMSAtIChzdGFydFBvcyAtIE1hdGguZmxvb3Ioc3RhcnRQb3MpKSkgKiBzdGVwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHN0ZXAgPSAtMSAvIGRpZmY7XG4gICAgICAgIG5leHQgPSAoc3RhcnRQb3MgLSBNYXRoLmZsb29yKHN0YXJ0UG9zKSkgKiBzdGVwO1xuICAgIH1cblxuICAgIHJldHVybiB7IG5leHQsIHN0ZXAgfTtcbiAgfSxcblxuICAvLyBodHRwczovL3d3dy5nZW5lcmljZ2FtZWRldi5jb20vZ2VuZXJhbC9zaG9vdGluZy1yYXlzLXRocm91Z2gtdGlsZW1hcHMvXG4gICp0aWxlc0hpdEJldHdlZW4ocDEsIHAyKSB7XG4gICAgbGV0IHN0YXJ0USA9IHAxLnggLyBDLlRJTEVfV0lEVEgsIHN0YXJ0UiA9IHAxLnkgLyBDLlRJTEVfSEVJR0hUO1xuICAgIGxldCBlbmRRID0gcDIueCAvIEMuVElMRV9XSURUSCwgZW5kUiA9IHAyLnkgLyBDLlRJTEVfSEVJR0hUO1xuICAgIGxldCB0aWxlQ291bnQgPSBNYXRoLmFicyhNYXRoLmZsb29yKHN0YXJ0USkgLSBNYXRoLmZsb29yKGVuZFEpKSArIE1hdGguYWJzKE1hdGguZmxvb3Ioc3RhcnRSKSAtIE1hdGguZmxvb3IoZW5kUikpO1xuXG4gICAgeWllbGQgeyBxOiBzdGFydFEgfCAwLCByOiBzdGFydFIgfCAwLCBtOiAwIH07XG5cbiAgICAvLyBJZiB0aGVyZSdzIG9ubHkgMSBvciAyIGhpdCB0aWxlcywgd2UgZG9uJ3QgbmVlZCB0aGUgbWF0aCB0byBjb21wdXRlIHRoZSBtaWRkbGUuXG4gICAgaWYgKHRpbGVDb3VudCA+IDEpIHtcbiAgICAgIGxldCBxID0gc3RhcnRRLCByID0gc3RhcnRSLCBtID0gMDtcbiAgICAgIGxldCBzdGVwUSA9IE1hdGguc2lnbihlbmRRIC0gc3RhcnRRKTtcbiAgICAgIGxldCBzdGVwUiA9IE1hdGguc2lnbihlbmRSIC0gc3RhcnRSKTtcbiAgICAgIGxldCBpbnRlcnNlY3Rpb25RID0gR2VvbWV0cnkuY2FsY3VsYXRlUmF5SW50ZXJzZWN0aW9uQW5kU3RlcChzdGFydFEsIGVuZFEpO1xuICAgICAgbGV0IGludGVyc2VjdGlvblIgPSBHZW9tZXRyeS5jYWxjdWxhdGVSYXlJbnRlcnNlY3Rpb25BbmRTdGVwKHN0YXJ0UiwgZW5kUik7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGlsZUNvdW50IC0gMTsgaSsrKSB7XG4gICAgICAgIGlmIChpbnRlcnNlY3Rpb25RLm5leHQgPCBpbnRlcnNlY3Rpb25SLm5leHQpIHtcbiAgICAgICAgICBxICs9IHN0ZXBRO1xuICAgICAgICAgIG0gKz0gc3RlcFE7XG4gICAgICAgICAgaW50ZXJzZWN0aW9uUS5uZXh0ICs9IGludGVyc2VjdGlvblEuc3RlcDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByICs9IHN0ZXBSO1xuICAgICAgICAgIG0gKz0gc3RlcFI7XG4gICAgICAgICAgaW50ZXJzZWN0aW9uUi5uZXh0ICs9IGludGVyc2VjdGlvblIuc3RlcDtcbiAgICAgICAgfVxuICAgICAgICB5aWVsZCB7IHE6IHEgfCAwLCByOiByIHwgMCwgbSB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aWxlQ291bnQgPiAwKSB7XG4gICAgICB5aWVsZCB7IHE6IGVuZFEgfCAwLCByOiBlbmRSIHwgMCwgbTogMSB9O1xuICAgIH1cbiAgfSxcblxuICAqdGlsZXNIaXRCeShwLCB2KSB7XG4gICAgeWllbGQgKkdlb21ldHJ5LnRpbGVzSGl0QmV0d2VlbihwLCBHZW9tZXRyeS52ZWN0b3JBZGQocCwgdikpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1hZW119IGJvdW5kcyAgdGhlIHVwcGVyLWxlZnQgYW5kIGxvd2VyLXJpZ2h0IGJvdW5kc1xuICAgKiBAeWllbGRzIHtRUn1cbiAgICovXG4gICp0aWxlc0hpdEluQm91bmRzKGJvdW5kcykge1xuICAgIGZvciAobGV0IHIgPSBNYXRoLmZsb29yKGJvdW5kc1swXS55IC8gQy5USUxFX0hFSUdIVCk7IHIgKiBDLlRJTEVfSEVJR0hUIDwgYm91bmRzWzFdLnk7IHIrKykge1xuICAgICAgZm9yIChsZXQgcSA9IE1hdGguZmxvb3IoYm91bmRzWzBdLnggLyBDLlRJTEVfV0lEVEgpOyBxICogQy5USUxFX1dJRFRIIDwgYm91bmRzWzFdLng7IHErKykge1xuICAgICAgICB5aWVsZCB7IHEsIHIgfTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7WFl9IHAxICB0aGUgc3RhcnRpbmcgcG9zaXRpb25cbiAgICogQHBhcmFtIHtYWX0gcDIgIHRoZSBlbmRpbmcgcG9zaXRpb25cbiAgICogQHBhcmFtIHtudW1iZXJ9IHIgIHRoZSByYWRpdXMgb2YgdGhlIG1vdmluZyBjaXJjbGVcbiAgICogQHlpZWxkcyB7UVJ9XG4gICAqL1xuICAqdGlsZXNIaXRCZXR3ZWVuQ2lyY2xlKHAxLCBwMiwgcikge1xuICAgIGxldCBib3VuZHMgPSBbXG4gICAgICB7IHg6IE1hdGgubWluKHAxLngsIHAyLngpIC0gciwgeTogTWF0aC5taW4ocDEueSwgcDIueSkgLSByIH0sXG4gICAgICB7IHg6IE1hdGgubWF4KHAxLngsIHAyLngpICsgciwgeTogTWF0aC5tYXgocDEueSwgcDIueSkgKyByIH1cbiAgICBdO1xuICAgIHlpZWxkICpHZW9tZXRyeS50aWxlc0hpdEluQm91bmRzKGJvdW5kcyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7WFl9IHAgIHRoZSBzdGFydGluZyBwb3NpdGlvblxuICAgKiBAcGFyYW0ge1hZfSB2ICB0aGUgdmVsb2NpdHkgKG1vdmVtZW50KVxuICAgKiBAcGFyYW0ge251bWJlcn0gciAgdGhlIHJhZGl1cyBvZiB0aGUgbW92aW5nIGNpcmNsZVxuICAgKiBAeWllbGRzIHtRUn1cbiAgICovXG4gICp0aWxlc0hpdEJ5Q2lyY2xlKHAsIHYsIHIpIHtcbiAgICB5aWVsZCAqR2VvbWV0cnkudGlsZXNIaXRCZXR3ZWVuQ2lyY2xlKHAsIHsgeDogcC54ICsgdi54LCB5OiBwLnkgKyB2LnkgfSwgcik7XG4gIH0sXG5cbiAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE4NzkwMzg5LzgwNjMwXG4gIGludGVyc2VjdENpcmNsZVJlY3RhbmdsZShwMSwgcDIsIHIsIGJvdW5kcykge1xuICAgIC8vIElmIHRoZSBib3VuZGluZyBib3ggYXJvdW5kIHRoZSBzdGFydCBhbmQgZW5kIHBvaW50cyAoK3JhZGl1cyBvbiBhbGxcbiAgICAvLyBzaWRlcykgZG9lcyBub3QgaW50ZXJzZWN0IHdpdGggdGhlIHJlY3RhbmdsZSwgZGVmaW5pdGVseSBub3QgYW5cbiAgICAvLyBpbnRlcnNlY3Rpb25cbiAgICBpZiAoTWF0aC5tYXgocDEueCwgcDIueCkgKyByIDwgYm91bmRzWzBdLnggfHxcbiAgICAgICAgTWF0aC5taW4ocDEueCwgcDIueCkgLSByID4gYm91bmRzWzFdLnggfHxcbiAgICAgICAgTWF0aC5tYXgocDEueSwgcDIueSkgKyByIDwgYm91bmRzWzBdLnkgfHxcbiAgICAgICAgTWF0aC5taW4ocDEueSwgcDIueSkgLSByID4gYm91bmRzWzFdLnkpXG4gICAgICByZXR1cm47XG5cbiAgICBsZXQgZHggPSBwMi54IC0gcDEueDtcbiAgICBsZXQgZHkgPSBwMi55IC0gcDEueTtcbiAgICBsZXQgaW52ZHggPSAoZHggPT09IDAgPyAwIDogMSAvIGR4KTtcbiAgICBsZXQgaW52ZHkgPSAoZHkgPT09IDAgPyAwIDogMSAvIGR5KTtcbiAgICBsZXQgY29ybmVyWCA9IEluZmluaXR5O1xuICAgIGxldCBjb3JuZXJZID0gSW5maW5pdHk7XG5cbiAgICAvLyBDaGVjayBlYWNoIHNpZGUgb2YgdGhlIHJlY3RhbmdsZSBmb3IgYSBzaW5nbGUtc2lkZSBpbnRlcnNlY3Rpb25cbiAgICAvLyBMZWZ0IFNpZGVcbiAgICBpZiAocDEueCAtIHIgPCBib3VuZHNbMF0ueCAmJiBwMi54ICsgciA+IGJvdW5kc1swXS54KSB7XG4gICAgICBsZXQgbHRpbWUgPSAoKGJvdW5kc1swXS54IC0gcikgLSBwMS54KSAqIGludmR4O1xuICAgICAgaWYgKGx0aW1lID49IDAgJiYgbHRpbWUgPD0gMSkge1xuICAgICAgICBsZXQgbHkgPSBkeSAqIGx0aW1lICsgcDEueTtcbiAgICAgICAgaWYgKGx5ID49IGJvdW5kc1swXS55ICYmIGx5IDw9IGJvdW5kc1sxXS55KSB7XG4gICAgICAgICAgcmV0dXJuIHsgeDogZHggKiBsdGltZSArIHAxLngsIHk6IGx5LCB0OiBsdGltZSwgbng6IC0xLCBueTogMCwgaXg6IGJvdW5kc1swXS54LCBpeTogbHkgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29ybmVyWCA9IGJvdW5kc1swXS54O1xuICAgIH1cbiAgICAvLyBSaWdodCBTaWRlXG4gICAgaWYgKHAxLnggKyByID4gYm91bmRzWzFdLnggJiYgcDIueCAtIHIgPCBib3VuZHNbMV0ueCkge1xuICAgICAgbGV0IHJ0aW1lID0gKHAxLnggLSAoYm91bmRzWzFdLnggKyByKSkgKiAtaW52ZHg7XG4gICAgICBpZiAocnRpbWUgPj0gMCAmJiBydGltZSA8PSAxKSB7XG4gICAgICAgIGxldCByeSA9IGR5ICogcnRpbWUgKyBwMi55O1xuICAgICAgICBpZiAocnkgPj0gYm91bmRzWzBdLnkgJiYgcnkgPD0gYm91bmRzWzFdLnkpIHtcbiAgICAgICAgICByZXR1cm4geyB4OiBkeCAqIHJ0aW1lICsgcDEueCwgeTogcnksIHQ6IHJ0aW1lLCBueDogMSwgbnk6IDAsIGl4OiBib3VuZHNbMV0ueCwgaXk6IHJ5IH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvcm5lclggPSBib3VuZHNbMV0ueDtcbiAgICB9XG4gICAgLy8gVG9wIFNpZGVcbiAgICBpZiAocDEueSAtIHIgPCBib3VuZHNbMF0ueSAmJiBwMi55ICsgciA+IGJvdW5kc1swXS55KSB7XG4gICAgICBsZXQgdHRpbWUgPSAoKGJvdW5kc1swXS55IC0gcikgLSBwMS55KSAqIGludmR5O1xuICAgICAgaWYgKHR0aW1lID49IDAgJiYgdHRpbWUgPD0gMSkge1xuICAgICAgICBsZXQgdHggPSBkeCAqIHR0aW1lICsgcDEueDtcbiAgICAgICAgaWYgKHR4ID49IGJvdW5kc1swXS54ICYmIHR4IDw9IGJvdW5kc1sxXS54KSB7XG4gICAgICAgICAgcmV0dXJuIHsgeDogdHgsIHk6IGR5ICogdHRpbWUgKyBwMS55LCB0OiB0dGltZSwgbng6IDAsIG55OiAtMSwgaXg6IHR4LCBpeTogYm91bmRzWzBdLnkgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29ybmVyWSA9IGJvdW5kc1swXS55O1xuICAgIH1cbiAgICAvLyBCb3R0b20gU2lkZVxuICAgIGlmIChwMS55ICsgciA+IGJvdW5kc1sxXS55ICYmIHAyLnkgLSByIDwgYm91bmRzWzFdLnkpIHtcbiAgICAgIGxldCBidGltZSA9IChwMS55IC0gKGJvdW5kc1sxXS55ICsgcikpICogLWludmR5O1xuICAgICAgaWYgKGJ0aW1lID49IDAgJiYgYnRpbWUgPD0gMSkge1xuICAgICAgICBsZXQgYnggPSBkeCAqIGJ0aW1lICsgcDEueDtcbiAgICAgICAgaWYgKGJ4ID49IGJvdW5kc1swXS54ICYmIGJ4IDw9IGJvdW5kc1sxXS54KSB7XG4gICAgICAgICAgcmV0dXJuIHsgeDogYngsIHk6IGR5ICogYnRpbWUgKyBwMS55LCB0OiBidGltZSwgbng6IDAsIG55OiAxLCBpeDogYngsIGl5OiBib3VuZHNbMF0ueSB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb3JuZXJZID0gYm91bmRzWzFdLnk7XG4gICAgfVxuXG4gICAgLy8gSWYgd2UgaGF2ZW4ndCB0b3VjaGVkIGFueXRoaW5nLCB0aGVyZSBpcyBubyBjb2xsaXNpb25cbiAgICBpZiAoY29ybmVyWCA9PT0gSW5maW5pdHkgJiYgY29ybmVyWSA9PT0gSW5maW5pdHkpIHJldHVybjtcblxuICAgIC8vIFdlIGRpZG4ndCBwYXNzIHRocm91Z2ggYSBzaWRlIGJ1dCBtYXkgYmUgaGl0dGluZyB0aGUgY29ybmVyXG4gICAgaWYgKGNvcm5lclggIT09IEluZmluaXR5ICYmIGNvcm5lclkgPT09IEluZmluaXR5KSB7XG4gICAgICBjb3JuZXJZID0gZHkgPiAwID8gYm91bmRzWzFdLnkgOiBib3VuZHNbMF0ueTtcbiAgICB9XG4gICAgaWYgKGNvcm5lclkgIT09IEluZmluaXR5ICYmIGNvcm5lclggPT09IEluZmluaXR5KSB7XG4gICAgICBjb3JuZXJYID0gZHggPiAwID8gYm91bmRzWzFdLnggOiBib3VuZHNbMF0ueDtcbiAgICB9XG5cbiAgICAvKiBTb2x2ZSB0aGUgdHJpYW5nbGUgYmV0d2VlbiB0aGUgc3RhcnQsIGNvcm5lciwgYW5kIGludGVyc2VjdGlvbiBwb2ludC5cbiAgICAgKlxuICAgICAqICAgICAgICAgICArLS0tLS0tLS0tLS1ULS0tLS0tLS0tLS0rXG4gICAgICogICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiAgICAgICAgICBMfCAgICAgICAgICAgICAgICAgICAgICAgfFJcbiAgICAgKiAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqICAgICAgICAgICBDLS0tLS0tLS0tLS1CLS0tLS0tLS0tLS0rXG4gICAgICogICAgICAgICAgLyBcXFxuICAgICAqICAgICAgICAgLyAgIFxcciAgICAgXy4tRVxuICAgICAqICAgICAgICAvICAgICBcXCBfLi0nXG4gICAgICogICAgICAgLyAgICBfLi1JXG4gICAgICogICAgICAvIF8uLSdcbiAgICAgKiAgICAgUy0nXG4gICAgICpcbiAgICAgKiBTID0gc3RhcnQgb2YgY2lyY2xlJ3MgcGF0aFxuICAgICAqIEUgPSBlbmQgb2YgY2lyY2xlJ3MgcGF0aFxuICAgICAqIExUUkIgPSBzaWRlcyBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogSSA9IHtpeCwgaVl9ID0gcG9pbnQgYXQgd2hpY2ggdGhlIGNpcmNsZSBpbnRlcnNlY3RzIHdpdGggdGhlIHJlY3RhbmdsZVxuICAgICAqIEMgPSBjb3JuZXIgb2YgaW50ZXJzZWN0aW9uIChhbmQgY29sbGlzaW9uIHBvaW50KVxuICAgICAqIEM9PkkgKHIpID0ge254LCBueX0gPSByYWRpdXMgYW5kIGludGVyc2VjdGlvbiBub3JtYWxcbiAgICAgKiBTPT5DID0gY29ybmVyZGlzdFxuICAgICAqIFM9PkkgPSBpbnRlcnNlY3Rpb25EaXN0YW5jZVxuICAgICAqIFM9PkUgPSBsaW5lTGVuZ3RoXG4gICAgICogPFMgPSBpbm5lckFuZ2xlXG4gICAgICogPEkgPSBhbmdsZTFcbiAgICAgKiA8QyA9IGFuZ2xlMlxuICAgICAqL1xuICAgIGxldCBpbnZlcnNlUmFkaXVzID0gMSAvIHI7XG4gICAgbGV0IGxpbmVMZW5ndGggPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICAgIGxldCBjb3JuZXJkeCA9IGNvcm5lclggLSBwMS54O1xuICAgIGxldCBjb3JuZXJkeSA9IGNvcm5lclkgLSBwMS55O1xuICAgIGxldCBjb3JuZXJEaXN0YW5jZSA9IE1hdGguc3FydChjb3JuZXJkeCAqIGNvcm5lcmR4ICsgY29ybmVyZHkgKiBjb3JuZXJkeSk7XG4gICAgbGV0IGlubmVyQW5nbGUgPSBNYXRoLmFjb3MoKGNvcm5lcmR4ICogZHggKyBjb3JuZXJkeSAqIGR5KSAvIChsaW5lTGVuZ3RoICogY29ybmVyRGlzdGFuY2UpKTtcblxuICAgIC8vIElmIHRoZSBjaXJjbGUgaXMgdG9vIGNsb3NlLCBubyBpbnRlcnNlY3Rpb25cbiAgICBpZiAoY29ybmVyRGlzdGFuY2UgPCByKSByZXR1cm47XG5cbiAgICAvLyBJZiBpbm5lciBhbmdsZSBpcyB6ZXJvLCBpdCdzIGdvaW5nIHRvIGhpdCB0aGUgY29ybmVyIHN0cmFpZ2h0IG9uLlxuICAgIGlmIChpbm5lckFuZ2xlID09PSAwKSB7XG4gICAgICBsZXQgdGltZSA9IChjb3JuZXJEaXN0YW5jZSAtIHIpIC8gbGluZUxlbmd0aDtcblxuICAgICAgICAvLyBJZ25vcmUgaWYgdGltZSBpcyBvdXRzaWRlIGJvdW5kYXJpZXMgb2YgKHAxLCBwMilcbiAgICAgICAgaWYgKHRpbWUgPiAxIHx8IHRpbWUgPCAwKSByZXR1cm47XG5cbiAgICAgICAgbGV0IGl4ID0gdGltZSAqIGR4ICsgcDEueDtcbiAgICAgICAgbGV0IGl5ID0gdGltZSAqIGR5ICsgcDEueTtcbiAgICAgICAgbGV0IG54ID0gY29ybmVyZHggLyBjb3JuZXJEaXN0YW5jZTtcbiAgICAgICAgbGV0IG55ID0gY29ybmVyZHkgLyBjb3JuZXJEaXN0YW5jZTtcblxuICAgICAgICByZXR1cm4gaXNOYU4oaXgpID8gdW5kZWZpbmVkIDogeyB4OiBpeCwgeTogaXksIHQ6IHRpbWUsIG54LCBueSwgaXg6IGNvcm5lclgsIGl5OiBjb3JuZXJZIH07XG4gICAgfVxuXG4gICAgbGV0IGlubmVyQW5nbGVTaW4gPSBNYXRoLnNpbihpbm5lckFuZ2xlKTtcbiAgICBsZXQgYW5nbGUxU2luID0gaW5uZXJBbmdsZVNpbiAqIGNvcm5lckRpc3RhbmNlICogaW52ZXJzZVJhZGl1cztcblxuICAgIC8vIElmIHRoZSBhbmdsZSBpcyB0b28gbGFyZ2UsIHRoZXJlIGlzIG5vIGNvbGxpc2lvblxuICAgIGlmIChNYXRoLmFicyhhbmdsZTFTaW4pID4gMSkgcmV0dXJuO1xuXG4gICAgbGV0IGFuZ2xlMSA9IE1hdGguUEkgLSBNYXRoLmFzaW4oYW5nbGUxU2luKTtcbiAgICBsZXQgYW5nbGUyID0gTWF0aC5QSSAtIGlubmVyQW5nbGUgLSBhbmdsZTE7XG4gICAgbGV0IGludGVyc2VjdGlvbkRpc3RhbmNlID0gciAqIE1hdGguc2luKGFuZ2xlMikgLyBpbm5lckFuZ2xlU2luO1xuICAgIGxldCB0aW1lID0gaW50ZXJzZWN0aW9uRGlzdGFuY2UgLyBsaW5lTGVuZ3RoO1xuXG4gICAgLy8gSWdub3JlIGlmIHRpbWUgaXMgb3V0c2lkZSBib3VuZGFyaWVzIG9mIChwMSwgcDIpXG4gICAgaWYgKHRpbWUgPiAxIHx8IHRpbWUgPCAwKSByZXR1cm47XG5cbiAgICBsZXQgaXggPSB0aW1lICogZHggKyBwMS54O1xuICAgIGxldCBpeSA9IHRpbWUgKiBkeSArIHAyLnk7XG4gICAgbGV0IG54ID0gKGl4IC0gY29ybmVyWCkgKiBpbnZlcnNlUmFkaXVzO1xuICAgIGxldCBueSA9IChpeSAtIGNvcm5lclkpICogaW52ZXJzZVJhZGl1cztcblxuICAgIHJldHVybiBpc05hTihpeCkgPyB1bmRlZmluZWQgOiB7IHg6IGl4LCB5OiBpeSwgdDogdGltZSwgbngsIG55LCBpeDogY29ybmVyWCwgaXk6IGNvcm5lclkgfTtcbiAgfSxcblxuICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xODY4MzE3OS9ob3ctdG8tZml4LWNpcmNsZXMtb3ZlcmxhcC1pbi1jb2xsaXNpb24tcmVzcG9uc2VcbiAgLy9cbiAgLy8gVGhpcyBpcyBhbiBpbmNyZWRpYmx5IHNpbXBsZSBpbXBsZW1lbnRhdGlvbiB0aGF0IEFTU1VNRVMgdmVyeSBzbWFsbCB2ZWxvY2l0aWVzLiBJdCBkb2Vzbid0IGF0dGVtcHRcbiAgLy8gdG8gYW5zd2VyIHRoZSBxdWVzdGlvbiBhYm91dCBcIndoZW5cIiB0aGUgaW50ZXJzZWN0aW9uIGhhcHBlbmVkIGxpa2UgdGhlIG1ldGhvZCBhYm92ZSAtIG1heVxuICAvLyBmaXggdGhhdCBpbiBmdXR1cmUuXG4gIGludGVyc2VjdENpcmNsZUNpcmNsZTIocDEsIHIxLCB2MSwgcDIsIHIyLCB2Mikge1xuICAgIFt2MSwgdjJdID0gW0dlb21ldHJ5LnZlY3RvcjJwb2ludCh2MSksIEdlb21ldHJ5LnZlY3RvcjJwb2ludCh2MildO1xuICAgIGxldCBhMSA9IHsgeDogcDEueCArIHYxLngsIHk6IHAxLnkgKyB2MS55IH07XG4gICAgbGV0IGEyID0geyB4OiBwMi54ICsgdjIueCwgeTogcDIueSArIHYyLnkgfTtcbiAgICBsZXQgZGVsdGEgPSBHZW9tZXRyeS52ZWN0b3JCZXR3ZWVuKGExLCBhMik7XG4gICAgaWYgKGRlbHRhLm0gPCByMSArIHIyKSB7XG4gICAgICByZXR1cm4geyBueDogZGVsdGEueCwgbnk6IGRlbHRhLnksIG06IHIxICsgcjIgLSBkZWx0YS5tIH07XG4gICAgfVxuICB9LFxuXG4gIGZsb29kKG1hemUsIHBvcykge1xuICAgIGxldCByZXN1bHQgPSBHZW9tZXRyeS5hcnJheTJkKG1hemVbMF0ubGVuZ3RoLCBtYXplLmxlbmd0aCwgMTAwKTtcbiAgICBjb25zb2xlLmxvZyhyZXN1bHRbMF1bMF0pO1xuICAgIGxldCBzdGFjayA9IFt7IC4uLnBvcywgY29zdDogMCB9XTtcbiAgICB3aGlsZSAoc3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgbGV0IHsgcSwgciwgY29zdCB9ID0gc3RhY2suc2hpZnQoKTtcbiAgICAgIGlmIChyZXN1bHRbcl1bcV0gPD0gY29zdCkgY29udGludWU7XG4gICAgICByZXN1bHRbcl1bcV0gPSBjb3N0Kys7XG4gICAgICBpZiAobWF6ZVtyXVtxICsgMV0gJiYgcmVzdWx0W3JdW3EgKyAxXSA+IGNvc3QpIHN0YWNrLnB1c2goeyBxOiBxICsgMSwgciwgY29zdCB9KTtcbiAgICAgIGlmIChtYXplW3JdW3EgLSAxXSAmJiByZXN1bHRbcl1bcSAtIDFdID4gY29zdCkgc3RhY2sucHVzaCh7IHE6IHEgLSAxLCByLCBjb3N0IH0pO1xuICAgICAgaWYgKG1hemVbciArIDFdW3FdICYmIHJlc3VsdFtyICsgMV1bcV0gPiBjb3N0KSBzdGFjay5wdXNoKHsgcSwgcjogciArIDEsIGNvc3QgfSk7XG4gICAgICBpZiAobWF6ZVtyIC0gMV1bcV0gJiYgcmVzdWx0W3IgLSAxXVtxXSA+IGNvc3QpIHN0YWNrLnB1c2goeyBxLCByOiByIC0gMSwgY29zdCB9KTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coW1wiLS0tXCIsIHJlc3VsdCwgXCItLS1cIl0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sXG5cbiAgYXJyYXkyZCh3aWR0aCwgaGVpZ2h0LCB2YWx1ZSkge1xuICAgIGxldCBmbiA9IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyA/IHZhbHVlIDogKCkgPT4gdmFsdWU7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oeyBsZW5ndGg6IGhlaWdodCB9LCAoKSA9PiBBcnJheS5mcm9tKHsgbGVuZ3RoOiB3aWR0aCB9LCBmbikpO1xuICB9LFxuXG4gIHRpbGVJc1Bhc3NhYmxlKHEsIHIpIHtcbiAgICByZXR1cm4gISFnYW1lLm1hemUubWF6ZVtyXVtxXTtcbiAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTZWVkZWQgcmFuZG9tIG51bWJlciBnZW5lcmF0b3IsIHVzaW5nIFNpbXBsZUZhc3RDb3VudGVyIGZvciBnZW5lcmF0b3IgYW5kXG4gKiB4bXVyMyBmb3IgaGFzaGluZy5cbiAqXG4gKiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy81MjEyOTUvc2VlZGluZy10aGUtcmFuZG9tLW51bWJlci1nZW5lcmF0b3ItaW4tamF2YXNjcmlwdFxuICovXG5leHBvcnQgY29uc3QgUmFuZG9tID0ge1xuICAgIHNmYzMyKGEsIGIsIGMsIGQpIHtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGEgPj4+PSAwOyBiID4+Pj0gMDsgYyA+Pj49IDA7IGQgPj4+PSAwO1xuICAgICAgICAgICAgbGV0IHQgPSAoYSArIGIpIHwgMDtcbiAgICAgICAgICAgIGEgPSBiIF4gYiA+Pj4gOTtcbiAgICAgICAgICAgIGIgPSBjICsgKGMgPDwgMykgfCAwO1xuICAgICAgICAgICAgYyA9IChjIDw8IDIxIHwgYyA+Pj4gMTEpO1xuICAgICAgICAgICAgZCA9IGQgKyAxIHwgMDtcbiAgICAgICAgICAgIHQgPSB0ICsgZCB8IDA7XG4gICAgICAgICAgICBjID0gYyArIHQgfCAwO1xuICAgICAgICAgICAgcmV0dXJuICh0ID4+PiAwKSAvIDQyOTQ5NjcyOTY7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgeG11cjMoc3RyKSB7XG4gICAgICAgIGxldCBpLCBoO1xuICAgICAgICBmb3IgKGkgPSAwLCBoID0gMTc3OTAzMzcwMyBeIHN0ci5sZW5ndGg7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGggPSBNYXRoLmltdWwoaCBeIHN0ci5jaGFyQ29kZUF0KGkpLCAzNDMyOTE4MzUzKTtcbiAgICAgICAgICAgIGggPSBoIDw8IDEzIHwgaCA+Pj4gMTk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgaCA9IE1hdGguaW11bChoIF4gaCA+Pj4gMTYsIDIyNDY4MjI1MDcpO1xuICAgICAgICAgICAgaCA9IE1hdGguaW11bChoIF4gaCA+Pj4gMTMsIDMyNjY0ODk5MDkpO1xuICAgICAgICAgICAgcmV0dXJuIChoIF49IGggPj4+IDE2KSA+Pj4gMDtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBzZWVkKHN0cikge1xuICAgICAgICBsZXQgc2VlZGZuID0gdGhpcy54bXVyMyhzdHIpO1xuICAgICAgICBsZXQgcmFuZGZuID0gdGhpcy5zZmMzMihzZWVkZm4oKSwgc2VlZGZuKCksIHNlZWRmbigpLCBzZWVkZm4oKSk7XG5cbiAgICAgICAgLy8gSWYgbWluL21heCBhcmUgbm90IHN1cHBsaWVkLCByZXR1cm5zIGEgcmFuZG9tIGZsb2F0aW5nIHBvaW50IHZhbHVlXG4gICAgICAgIC8vICg+PTAgJiYgPDEpLiBJZiB0aGV5IGFyZSBzdXBwbGllZCwgcmV0dXJucyBhIHJhbmRvbSBpbnRlZ2VyIHZhbHVlXG4gICAgICAgIC8vICg+PW1pbiAmJiA8bWF4KS5cbiAgICAgICAgcmV0dXJuIChtaW4sIG1heCkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBtaW4gPT09IFwibnVtYmVyXCIgJiYgdHlwZW9mIG1heCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLmZsb29yKHJhbmRmbigpICogKG1heCAtIG1pbikpICsgbWluO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmFuZGZuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLy8gaHR0cHM6Ly9qb3VybmFsLnN0dWZmd2l0aHN0dWZmLmNvbS8yMDE0LzEyLzIxL3Jvb21zLWFuZC1tYXplcy9cblxuXG5pbXBvcnQgeyBDb25zdGFudHMgYXMgQyB9IGZyb20gJy4vQ29uc3RhbnRzJztcbmltcG9ydCB7IEdlb21ldHJ5IGFzIEcgfSBmcm9tICcuL0dlb21ldHJ5JztcbmltcG9ydCB7IFJhbmRvbSB9IGZyb20gJy4vUmFuZG9tJztcblxuY29uc3QgQ1JPU1MgPSBbXG4gICAgeyBxOiAwLCByOiAwIH0sXG4gICAgeyBxOiAwLCByOiAtMSB9LFxuICAgIHsgcTogMCwgcjogMSB9LFxuICAgIHsgcTogLTEsIHI6IDAgfSxcbiAgICB7IHE6IDEsIHI6IDAgfVxuXTtcblxuY29uc3QgQ0FSRElOQUxTID0gW1xuICAgIHsgcTogMCwgcjogLTEgfSxcbiAgICB7IHE6IDAsIHI6IDEgfSxcbiAgICB7IHE6IC0xLCByOiAwIH0sXG4gICAgeyBxOiAxLCByOiAwIH1cbl07XG5cbi8vIE1hemUgR2VuZXJhdG9yIC0gVE9ET1xuLy9cbi8vXG5leHBvcnQgY29uc3QgTWF6ZUdlbmVyYXRvciA9IHtcbiAgICBvcGVuQ3Jvc3NDZWxscyhtYXplLCBxLCByKSB7XG4gICAgICAgIHJldHVybiBDUk9TUy5maWx0ZXIoZGlyID0+IHtcbiAgICAgICAgICAgIGxldCBbY3EsIGNyXSA9IFtxICsgZGlyLnEsIHIgKyBkaXIucl07XG4gICAgICAgICAgICByZXR1cm4gY3IgPj0gMCAmJiBjciA8IG1hemUubGVuZ3RoICYmIGNxID49IDAgJiYgY3EgPCBtYXplWzBdLmxlbmd0aCAmJiAhbWF6ZVtjcl1bY3FdO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgYXR0ZW1wdFJvb21QbGFjZW1lbnQobWF6ZSwgcmFuZCwgYm91bmRzLCB3aWR0aCwgaGVpZ2h0LCByb29tTnVtYmVyKSB7XG4gICAgICAgIGxldCBxID0gcmFuZCgwLCAoYm91bmRzWzFdLnEgLSB3aWR0aCkgLyAyKSAqIDIgKyAxO1xuICAgICAgICBsZXQgciA9IHJhbmQoMCwgKGJvdW5kc1sxXS5yIC0gaGVpZ2h0KSAvIDIpICogMiArIDE7XG4gICAgICAgIGxldCBmb3VuZCA9IHVuZGVmaW5lZDtcblxuICAgICAgICAvL1xuICAgICAgICAvLyBUVU5FQUJMRVxuICAgICAgICAvL1xuICAgICAgICAvLyBZb3UgY2FuIG5ldmVyIFwidG91Y2hcIiB0aGUgc3Bhd24gcm9vbSAoUm9vbSAjMSkuIElmIHlvdSB0b3VjaCBhbm90aGVyIHJvb20sXG4gICAgICAgIC8vIHRoZXJlJ3MgYSA5JSBjaGFuY2UgZm9yIGVhY2ggYXR0ZW1wdCB0byBhbGxvdyB0aGUgcm9vbSB0byBiZSBidWlsdCwgcG90ZW50aWFsbHlcbiAgICAgICAgLy8gb3ZlcmxhcHBpbmcvaW50ZXJzZWN0aW5nLCBvciBldmVuIGNvbXBsZXRlbHkgZWNsaXBzaW5nIHRoZSBwcmV2aW91cyByb29tXG4gICAgICAgIC8vIGlmIHRoaXMgcm9vbSBpcyBsYXJnZXIuXG4gICAgICAgIC8vXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaGVpZ2h0OyBqKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd2lkdGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChtYXplW3Iral1bcStpXSkgcm9vbU51bWJlciA9IGZvdW5kID0gbWF6ZVtyK2pdW3EraV07XG4gICAgICAgICAgICAgICAgaWYgKG1hemVbcitqXVtxK2ldPT09MSkgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChmb3VuZCAmJiByYW5kKCkgPiAwLjAxKSByZXR1cm47XG5cbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBoZWlnaHQ7IGorKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3aWR0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbWF6ZVtyK2pdW3EraV0gPSByb29tTnVtYmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHsgcSwgciwgd2lkdGgsIGhlaWdodCwgcm9vbU51bWJlciB9O1xuICAgIH0sXG5cbiAgICBjYXJ2ZU1hemUobWF6ZSwgcmFuZCwgc3RhcnRRLCBzdGFydFIsIHJvb21OdW1iZXIpIHtcbiAgICAgICAgbGV0IGNlbGxzID0gW3sgcTogc3RhcnRRLCByOiBzdGFydFIgfV07XG4gICAgICAgIG1hemVbc3RhcnRSXVtzdGFydFFdID0gcm9vbU51bWJlcjtcblxuICAgICAgICB3aGlsZSAoY2VsbHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFRVTkVBQkxFXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gV2hlbiBjYXJ2aW5nLCB3ZSBjYW4gYXR0ZW1wdCB0byBjYXJ2ZSBvZmYgYW55IGNlbGwgaW4gb3VyIGNvbGxlY3RlZCBsaXN0LiBGb3JcbiAgICAgICAgICAgIC8vIHRoaXMgZ2FtZSwgd2UgY2hvb3NlIDc1JSB0byBrZWVwIGNhcnZpbmcgb2ZmIHRoZSBsYXN0IGNlbGwgd2UgY2FydmVkICh3aW5keSBwYXNzYWdlKSxcbiAgICAgICAgICAgIC8vIGFuZCAyNSUgdG8gY2FydmUgc29tZXdoZXJlIGVsc2UgKGJyYW5jaCkuIElmIHdlIGNob29zZSB0byBicmFuY2gsIHRoYXQncyB0aGVcbiAgICAgICAgICAgIC8vIG5ldyB3aW5keSBwYXNzYWdlLCBsZWF2aW5nIHRoZSBvbGQgb25lIGZvciBsYXRlci5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICBsZXQgaWR4ID0gcmFuZCgpIDwgMC4yNSA/IHJhbmQoMCwgY2VsbHMubGVuZ3RoKSA6IGNlbGxzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IGNlbGxzW2lkeF07XG4gICAgICAgICAgICBpZiAoaWR4ICE9PSBjZWxscy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgY2VsbHMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgY2VsbHMucHVzaChjZWxsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHBvc3NpYmxlID0gQ0FSRElOQUxTLmZpbHRlcihkaXIgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBNYXplR2VuZXJhdG9yLm9wZW5Dcm9zc0NlbGxzKG1hemUsIGNlbGwucSArIGRpci5xLCBjZWxsLnIgKyBkaXIucikubGVuZ3RoID09PSA0O1xuICAgICAgICAgICAgfSk7XG4vKlxuICAgICAgICAgICAgbGV0IHBvc3NpYmxlID0gQ0FSRElOQUxTLmZpbHRlcihkaXIgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNlbGwuciArIGRpci5yLCBjZWxsLnEgKyBkaXIucSk7XG4gICAgICAgICAgICAgICAgaWYgKGNlbGwuciArIGRpci5yIDwgMCB8fCBjZWxsLnIgKyBkaXIuciA+PSBtYXplLmxlbmd0aCB8fCBjZWxsLnEgKyBkaXIucSA8IDAgfHwgY2VsbC5xICsgZGlyLnEgPj0gbWF6ZVswXS5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAobWF6ZVtjZWxsLnIgKyBkaXIucl1bY2VsbC5xICsgZGlyLnFdKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBsZXQgb3BlbkNlbGxzID0gQ0FSRElOQUxTLmZpbHRlcihkaXIyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IFtjcSwgY3JdID0gW2NlbGwucSArIGRpci5xICsgZGlyMi5xLCBjZWxsLnIgKyBkaXIuciArIGRpcjIucl07XG4gICAgICAgICAgICAgICAgICAgIGlmIChjciA8IDAgfHwgY3IgPj0gbWF6ZS5sZW5ndGggfHwgY3EgPCAwIHx8IGNxID49IG1hemVbMF0ubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhbWF6ZVtjcl1bY3FdO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFtkaXIucSwgZGlyLnIsIG9wZW5DZWxscy5sZW5ndGhdKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBvcGVuQ2VsbHMubGVuZ3RoID09PSAzO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwb3NzaWJsZSk7XG4gICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICBpZiAocG9zc2libGUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY2VsbHMuc3BsaWNlKGNlbGxzLmluZGV4T2YoY2VsbCksIDEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgY2hvaWNlID0gcG9zc2libGVbcmFuZCgwLCBwb3NzaWJsZS5sZW5ndGgpXTtcbiAgICAgICAgICAgICAgICBtYXplW2NlbGwuciArIGNob2ljZS5yXVtjZWxsLnEgKyBjaG9pY2UucV0gPSByb29tTnVtYmVyO1xuICAgICAgICAgICAgICAgIGNlbGxzLnB1c2goeyBxOiBjZWxsLnEgKyBjaG9pY2UucSwgcjogY2VsbC5yICsgY2hvaWNlLnIgfSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2VsbHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGNhcnZlQ29ubmVjdG9ycyhtYXplLCByYW5kKSB7XG4gICAgICAgIGxldCBjb25uZWN0b3JzID0gW107XG4gICAgICAgIGxldCByb29tcyA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IHIgPSAxOyByIDwgbWF6ZS5sZW5ndGggLSAxOyByKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHEgPSAxOyBxIDwgbWF6ZS5sZW5ndGggLSAxOyBxKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgcm9vbTEsIHJvb20yO1xuXG4gICAgICAgICAgICAgICAgbGV0IFt1cCwgZG93biwgbGVmdCwgcmlnaHRdID0gW1xuICAgICAgICAgICAgICAgICAgICBtYXplW3IgLSAxXVtxXSxcbiAgICAgICAgICAgICAgICAgICAgbWF6ZVtyICsgMV1bcV0sXG4gICAgICAgICAgICAgICAgICAgIG1hemVbcl1bcSAtIDFdLFxuICAgICAgICAgICAgICAgICAgICBtYXplW3JdW3EgKyAxXVxuICAgICAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgICAgICBpZiAodXAgJiYgZG93biAmJiB1cCAhPT0gZG93bikge1xuICAgICAgICAgICAgICAgICAgICByb29tMSA9IHVwLCByb29tMiA9IGRvd247XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsZWZ0ICYmIHJpZ2h0ICYmIGxlZnQgIT09IHJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJvb20xID0gbGVmdCwgcm9vbTIgPSByaWdodDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocm9vbTEgJiYgcm9vbTIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvb20xID4gcm9vbTIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFtyb29tMSwgcm9vbTJdID0gW3Jvb20yLCByb29tMV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9ycy5wdXNoKHsgcSwgciwgcm9vbTEsIHJvb20yIH0pO1xuICAgICAgICAgICAgICAgICAgICByb29tcy5wdXNoKHJvb20xLCByb29tMik7XG4gICAgICAgICAgICAgICAgICAgIC8vY29ubmVjdG9ycy5wdXNoKHsgcSwgciwgcm9vbTE6IHJvb20yLCByb29tMjogcm9vbTEgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8qY29ubmVjdG9yc1tyb29tMV0gPSBjb25uZWN0b3JzW3Jvb20xXSB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yc1tyb29tMV1bcm9vbTJdID0gY29ubmVjdG9yc1tyb29tMV1bcm9vbTJdIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3JzW3Jvb20xXVtyb29tMl0ucHVzaCh7IHEsIHIgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvcnNbcm9vbTJdID0gY29ubmVjdG9yc1tyb29tMl0gfHwgW107XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvcnNbcm9vbTJdW3Jvb20xXSA9IGNvbm5lY3RvcnNbcm9vbTJdW3Jvb20xXSB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yc1tyb29tMl1bcm9vbTFdLnB1c2goeyBxLCByIH0pOyovXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGdyb3VwcyA9IFsuLi5uZXcgU2V0KHJvb21zKV0ubWFwKGEgPT4gW2FdKTtcbiAgICAgICAgY29uc29sZS5sb2coZ3JvdXBzKTtcblxuICAgICAgICB3aGlsZSAoY29ubmVjdG9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgaWR4ID0gcmFuZCgwLCBjb25uZWN0b3JzLmxlbmd0aCk7XG4gICAgICAgICAgICBsZXQgY2hvaWNlID0gY29ubmVjdG9ycy5zcGxpY2UoaWR4LCAxKVswXTtcbiAgICAgICAgICAgIG1hemVbY2hvaWNlLnJdW2Nob2ljZS5xXSA9IGNob2ljZS5yb29tMTtcblxuICAgICAgICAgICAgbGV0IGdyb3VwMSA9IGdyb3Vwcy5maW5kKGdyb3VwID0+IGdyb3VwLmluY2x1ZGVzKGNob2ljZS5yb29tMSkpO1xuICAgICAgICAgICAgbGV0IGdyb3VwMiA9IGdyb3Vwcy5maW5kKGdyb3VwID0+IGdyb3VwLmluY2x1ZGVzKGNob2ljZS5yb29tMikpO1xuXG4gICAgICAgICAgICBpZiAocmFuZCgpID4gMC4yKSB7XG4gICAgICAgICAgICAgICAgY29ubmVjdG9ycyA9IGNvbm5lY3RvcnMuZmlsdGVyKGMgPT4gIShcbiAgICAgICAgICAgICAgICAgICAgKGdyb3VwMS5pbmNsdWRlcyhjLnJvb20xKSAmJiBncm91cDIuaW5jbHVkZXMoYy5yb29tMikpIHx8XG4gICAgICAgICAgICAgICAgICAgIChncm91cDIuaW5jbHVkZXMoYy5yb29tMSkgJiYgZ3JvdXAxLmluY2x1ZGVzKGMucm9vbTIpKVxuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZ3JvdXAxICE9PSBncm91cDIpIHtcbiAgICAgICAgICAgICAgICBncm91cHMuc3BsaWNlKGdyb3Vwcy5pbmRleE9mKGdyb3VwMiksIDEpO1xuICAgICAgICAgICAgICAgIGdyb3VwMS5wdXNoKC4uLmdyb3VwMik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbi8qXG4gICAgICAgIHdoaWxlIChncm91cHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgbGV0IGEgPSByYW5kKDAsIGdyb3Vwcy5sZW5ndGgpO1xuICAgICAgICAgICAgbGV0IGIgPSAoYSArIDEpICUgZ3JvdXBzLmxlbmd0aDtcbiAgICAgICAgICAgIGxldCBwb3NzaWJsZSA9IGNvbm5lY3RvcnMuZmlsdGVyKHBhaXIgPT4gZ3JvdXBzW2FdLmluY2x1ZGVzKHBhaXIucm9vbTEpICYmIGdyb3Vwc1tiXS5pbmNsdWRlcyhwYWlyLnJvb20yKSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwb3NzaWJsZSk7XG4gICAgICAgICAgICBsZXQgY2hvaWNlID0gcG9zc2libGVbcmFuZCgwLCBwb3NzaWJsZS5sZW5ndGgpXTtcblxuICAgICAgICAgICAgbWF6ZVtjaG9pY2Uucl1bY2hvaWNlLnFdID0gcGFpci5yb29tMTtcbiAgICAgICAgICAgIGdyb3Vwcy5zcGxpY2UoYiwgMSk7XG4gICAgICAgICAgICBncm91cHNbYV0gPSBncm91cHNbYV0uY29uY2F0KGdyb3Vwc1tiXSk7XG4gICAgICAgIH1cbiAgICAgICAgKi9cblxuICAgICAgICAvKmZvciAobGV0IHBhaXIgb2YgT2JqZWN0LmtleXMoY29ubmVjdG9ycykpIHtcbiAgICAgICAgICAgIGxldCBjaG9pY2UgPSBjb25uZWN0b3JzW3BhaXJdW3JhbmQoMCwgY29ubmVjdG9yc1twYWlyXS5sZW5ndGgpXTtcbiAgICAgICAgICAgIG1hemVbY2hvaWNlLnJdW2Nob2ljZS5xXSA9IDI7XG4gICAgICAgIH0qL1xuICAgIH0sXG5cbiAgICBwcnVuZURlYWRFbmRzKG1hemUsIHJhbmQpIHtcbiAgICAgICAgbGV0IGRlYWRFbmRzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgciA9IDA7IHIgPCBtYXplLmxlbmd0aDsgcisrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBxID0gMDsgcSA8IG1hemVbMF0ubGVuZ3RoOyBxKyspIHtcbiAgICAgICAgICAgICAgICBpZiAobWF6ZVtyXVtxXSAmJiBNYXplR2VuZXJhdG9yLm9wZW5Dcm9zc0NlbGxzKG1hemUsIHEsIHIpLmxlbmd0aCA+PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlYWRFbmRzLnB1c2goeyBxLCByIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlIChkZWFkRW5kcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgaWR4ID0gcmFuZCgwLCBkZWFkRW5kcy5sZW5ndGgpO1xuICAgICAgICAgICAgbGV0IGNlbGwgPSBkZWFkRW5kcy5zcGxpY2UoaWR4LCAxKVswXTtcblxuICAgICAgICAgICAgaWYgKHJhbmQoKSA8IDAuNDUpIHtcbiAgICAgICAgICAgICAgICBsZXQgcG9zc2libGUgPSBDQVJESU5BTFMuZmlsdGVyKGRpciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXplR2VuZXJhdG9yLm9wZW5Dcm9zc0NlbGxzKG1hemUsIGNlbGwucSArIGRpci5xLCBjZWxsLnIgKyBkaXIucikubGVuZ3RoIDw9IDIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoY2VsbC5xK2Rpci5xKSA+PSAwICYmIChjZWxsLnErZGlyLnEpIDwgbWF6ZVswXS5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICAgICAgICAoY2VsbC5yK2Rpci5yKSA+PSAwICYmIChjZWxsLnIrZGlyLnIpIDwgbWF6ZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbGV0IGNob2ljZSA9IHBvc3NpYmxlW3JhbmQoMCwgcG9zc2libGUubGVuZ3RoKV07XG4gICAgICAgICAgICAgICAgaWYgKGNob2ljZSkge1xuICAgICAgICAgICAgICAgICAgICBtYXplW2NlbGwuciArIGNob2ljZS5yXVtjZWxsLnEgKyBjaG9pY2UucV0gPSBtYXplW2NlbGwucl1bY2VsbC5xXTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmFuZCgpID4gMC4wNSkge1xuICAgICAgICAgICAgICAgIG1hemVbY2VsbC5yXVtjZWxsLnFdID0gMDtcbiAgICAgICAgICAgICAgICBDQVJESU5BTFMuZm9yRWFjaChkaXIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgW2NxLCBjcl0gPSBbY2VsbC5xICsgZGlyLnEsIGNlbGwuciArIGRpci5yXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hemVbY3JdW2NxXSAmJiBNYXplR2VuZXJhdG9yLm9wZW5Dcm9zc0NlbGxzKG1hemUsIGNxLCBjcikubGVuZ3RoID49IDMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNxID49IDAgJiYgY3EgPCBtYXplWzBdLmxlbmd0aCAmJiBjciA+PSAwICYmIGNyIDwgbWF6ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYWRFbmRzLnB1c2goeyBxOiBjcSwgcjogY3IgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBjcmVhdGVSb29tTG9va3VwKHJvb21zKSB7XG4gICAgICAgIHJldHVybiByb29tcy5yZWR1Y2UoKGhhc2gsIHJvb20pID0+IHtcbiAgICAgICAgICAgIGhhc2hbcm9vbS5yb29tTnVtYmVyXSA9IGhhc2hbcm9vbS5yb29tTnVtYmVyXSB8fCBbXTtcbiAgICAgICAgICAgIGhhc2hbcm9vbS5yb29tTnVtYmVyXS5wdXNoKHJvb20pO1xuICAgICAgICAgICAgcmV0dXJuIGhhc2g7XG4gICAgICAgIH0sIHt9KTtcbiAgICB9LFxuXG4gICAgY3JlYXRlVGlsZXMobWF6ZSwgcmFuZCkge1xuICAgICAgICBsZXQgdGlsZXMgPSBHLmFycmF5MmQobWF6ZVswXS5sZW5ndGgsIG1hemUubGVuZ3RoLCAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKHJhbmQoKSA8IDAuMSA/IEMuVElMRV9XQUxMMiA6IEMuVElMRV9XQUxMMSkgKyAoMGIwMDBfMDEwXzAwMCA8PCA0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAobGV0IHIgPSAwOyByIDwgdGlsZXMubGVuZ3RoOyByKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHEgPSAwOyBxIDwgdGlsZXNbMF0ubGVuZ3RoOyBxKyspIHtcbiAgICAgICAgICAgICAgICBpZiAobWF6ZVtyXVtxXSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQga2V5ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIChtYXplW3IgLSAxXVtxIC0gMV0gPyAwIDogMGIxMDBfMDAwXzAwMCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgKG1hemVbciAtIDFdW3FdICAgICA/IDAgOiAwYjAxMF8wMDBfMDAwKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAobWF6ZVtyIC0gMV1bcSArIDFdID8gMCA6IDBiMDAxXzAwMF8wMDApICtcbiAgICAgICAgICAgICAgICAgICAgICAgIChtYXplW3JdW3EgLSAxXSAgICAgPyAwIDogMGIwMDBfMTAwXzAwMCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgKG1hemVbcl1bcV0gICAgICAgICA/IDAgOiAwYjAwMF8wMTBfMDAwKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAobWF6ZVtyXVtxICsgMV0gICAgID8gMCA6IDBiMDAwXzAwMV8wMDApICtcbiAgICAgICAgICAgICAgICAgICAgICAgIChtYXplW3IgKyAxXVtxIC0gMV0gPyAwIDogMGIwMDBfMDAwXzEwMCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgKG1hemVbciArIDFdW3FdICAgICA/IDAgOiAwYjAwMF8wMDBfMDEwKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAobWF6ZVtyICsgMV1bcSArIDFdID8gMCA6IDBiMDAwXzAwMF8wMDEpO1xuICAgICAgICAgICAgICAgICAgICB0aWxlc1tyXVtxXSA9IChrZXkgPDwgNCkgKyBDLlRJTEVfRkxPT1IxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGlsZXM7XG4gICAgfSxcblxuICAgIGdlbmVyYXRlKHNlZWQpIHtcbiAgICAgICAgbGV0IG1hemUgPSBHLmFycmF5MmQoOTksIDk5LCAwKTtcbiAgICAgICAgLy9sZXQgcmFuZCA9IFJhbmRvbS5zZWVkKFwiYXBwbGVzXCIpO1xuICAgICAgICBsZXQgcmFuZCA9IFJhbmRvbS5zZWVkKHNlZWQpO1xuXG4gICAgICAgIGxldCByb29tTnVtYmVyID0gMTtcblxuICAgICAgICBsZXQgcmVzdWx0ID0gTWF6ZUdlbmVyYXRvci5hdHRlbXB0Um9vbVBsYWNlbWVudChtYXplLCByYW5kLCBbeyBxOiAwLCByOiAwIH0sIHsgcTogOTksIHI6IDk5IH1dLCAxMSwgOSwgcm9vbU51bWJlcisrKTtcbiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgICAgbGV0IHJvb21zID0gW3Jlc3VsdF07XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7IGkrKykge1xuICAgICAgICAgICAgbGV0IHcgPSByYW5kKDMsIDQpICogMiArIDE7XG4gICAgICAgICAgICBsZXQgaCA9IHJhbmQoMywgNCkgKiAyICsgMTtcbiAgICAgICAgICAgIHJlc3VsdCA9IE1hemVHZW5lcmF0b3IuYXR0ZW1wdFJvb21QbGFjZW1lbnQobWF6ZSwgcmFuZCwgW3sgcTogMCwgcjogMCB9LCB7IHE6IDk5LCByOiA5OSB9XSwgdywgaCwgcm9vbU51bWJlcik7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSByb29tcy5wdXNoKHJlc3VsdCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5yb29tTnVtYmVyID09PSByb29tTnVtYmVyKSByb29tTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7IGkrKykge1xuICAgICAgICAgICAgbGV0IHcgPSByYW5kKDIsIDQpICogMiArIDE7XG4gICAgICAgICAgICBsZXQgaCA9IHJhbmQoMiwgNCkgKiAyICsgMTtcbiAgICAgICAgICAgIHJlc3VsdCA9IE1hemVHZW5lcmF0b3IuYXR0ZW1wdFJvb21QbGFjZW1lbnQobWF6ZSwgcmFuZCwgW3sgcTogMCwgcjogMCB9LCB7IHE6IDk5LCByOiA5OSB9XSwgdywgaCwgcm9vbU51bWJlcik7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSByb29tcy5wdXNoKHJlc3VsdCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5yb29tTnVtYmVyID09PSByb29tTnVtYmVyKSByb29tTnVtYmVyKys7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7IGkrKykge1xuICAgICAgICAgICAgbGV0IHcgPSByYW5kKDEsIDQpICogMiArIDE7XG4gICAgICAgICAgICBsZXQgaCA9IHJhbmQoMSwgNCkgKiAyICsgMTtcbiAgICAgICAgICAgIHJlc3VsdCA9IE1hemVHZW5lcmF0b3IuYXR0ZW1wdFJvb21QbGFjZW1lbnQobWF6ZSwgcmFuZCwgW3sgcTogMCwgcjogMCB9LCB7IHE6IDk5LCByOiA5OSB9XSwgdywgaCwgcm9vbU51bWJlcik7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSByb29tcy5wdXNoKHJlc3VsdCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5yb29tTnVtYmVyID09PSByb29tTnVtYmVyKSByb29tTnVtYmVyKys7XG4gICAgICAgIH1cblxuICAgICAgICAvKlxuICAgICAgICByYW5kb20gcm9vbSBwbGFjZW1lbnRcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDkwMDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdyA9IHJhbmQoMSwgNCkgKiAyICsgMTtcbiAgICAgICAgICAgIGxldCBoID0gcmFuZCgxLCA0KSAqIDIgKyAxO1xuICAgICAgICAgICAgcmVzdWx0ID0gTWF6ZUdlbmVyYXRvci5hdHRlbXB0Um9vbVBsYWNlbWVudChtYXplLCByYW5kLCBbeyBxOiAwLCByOiAwIH0sIHsgcTogOTksIHI6IDk5IH1dLCB3LCBoLCByb29tTnVtYmVyKyspO1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICAqL1xuXG4gICAgICAgIGZvciAobGV0IHIgPSAxOyByIDwgOTk7IHIgKz0gMikge1xuICAgICAgICAgICAgZm9yIChsZXQgcSA9IDE7IHEgPCA5OTsgcSArPSAyKSB7XG4gICAgICAgICAgICAgICAgaWYgKE1hemVHZW5lcmF0b3Iub3BlbkNyb3NzQ2VsbHMobWF6ZSwgcSwgcikubGVuZ3RoID09PSA1KSB7XG4gICAgICAgICAgICAgICAgICAgIE1hemVHZW5lcmF0b3IuY2FydmVNYXplKG1hemUsIHJhbmQsIHEsIHIsIHJvb21OdW1iZXIrKyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgTWF6ZUdlbmVyYXRvci5jYXJ2ZUNvbm5lY3RvcnMobWF6ZSwgcmFuZCk7XG5cbiAgICAgICAgTWF6ZUdlbmVyYXRvci5wcnVuZURlYWRFbmRzKG1hemUsIHJhbmQpO1xuXG4gICAgICAgIGxldCBob21lZmxvdyA9IEcuZmxvb2QobWF6ZSwgcm9vbXNbMF0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWF6ZSxcbiAgICAgICAgICAgIHRpbGVzOiBNYXplR2VuZXJhdG9yLmNyZWF0ZVRpbGVzKG1hemUsIHJhbmQpLFxuICAgICAgICAgICAgcmFuZCxcbiAgICAgICAgICAgIHJvb21zOiB0aGlzLmNyZWF0ZVJvb21Mb29rdXAocm9vbXMpLFxuICAgICAgICAgICAgZmxvd2hvbWU6IGhvbWVmbG93XG4gICAgICAgIH07XG4gICAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnLi9Bc3NldHMnO1xuaW1wb3J0IHsgQ2FudmFzIH0gZnJvbSAnLi9DYW52YXMnO1xuXG5jb25zdCBDX1dJRFRIID0gMztcbmNvbnN0IENfSEVJR0hUID0gNTtcblxuLy8gVmVyeSBzaW1wbGUgdmFyaWFibGUtd2lkdGggZm9udCBpbXBsZW1lbnRhdGlvbi4gVGhlIGNoYXJhY3RlcnMgaW4gdGhlIGZvbnQgc3RyaXBcbi8vIGFyZSBsZWZ0LWFsaWduZWQgaW4gdGhlaXIgM3g1IHBpeGVsIGJveGVzLCBzbyBpbiBvcmRlciB0byBoYXZlIHZhcmlhYmxlIHdpZHRoLFxuLy8gd2UganVzdCBuZWVkIHRvIG5vdGUgdGhlIGNoYXJhY3RlcnMgdGhhdCBBUkVOJ1QgZnVsbCB3aWR0aC4gQW55dGhpbmcgbm90IGluXG4vLyB0aGlzIGxpc3QgaGFzIGZ1bGwgc2hpZnQgKDMrMSA9IDQgcGl4ZWxzKS5cbmNvbnN0IENfU0hJRlQgPSB7XG4gICAgMzI6IDMsICAgICAgICAgIC8vIFNwYWNlXG4gICAgNDQ6IDMsICAgICAgICAgIC8vIENvbW1hXG4gICAgNDY6IDMsICAgICAgICAgIC8vIFBlcmlvZFxuICAgIDczOiAyICAgICAgICAgICAvLyBJXG59O1xuXG4vKipcbiAqIFRleHRcbiAqXG4gKiBVdGlsaXRpZXMgZm9yIGRyYXdpbmcgdGV4dCB1c2luZyBpbi1nYW1lIHBpeGVsIGZvbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBUZXh0ID0ge1xuICAgIGFzeW5jIGluaXQoKSB7XG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IFNwcml0ZS5mb250LmltZztcbiAgICAgICAgdGhpcy5maXJlID0gdGhpcy5yZWNvbG9yKHRoaXMuZGVmYXVsdCwgY3R4ID0+IHtcbiAgICAgICAgICAgIGxldCBncmFkaWVudCA9IGN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLCAwLCAwLCB0aGlzLmRlZmF1bHQuaGVpZ2h0KTtcbiAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgwLCAncmdiYSgyNDAsMTM0LDUxLDEpJyk7XG4gICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoMSwgJ3JnYmEoMjUwLDIyMCw3NCwxKScpO1xuICAgICAgICAgICAgcmV0dXJuIGdyYWRpZW50O1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zaGFkb3cgPSB0aGlzLnJlY29sb3IodGhpcy5kZWZhdWx0LCAncmdiYSgyNDAsIDI0MCwgMjU1LCAwLjI1KScpO1xuICAgIH0sXG5cbiAgICBkcmF3VGV4dChjdHgsIHRleHQsIHUsIHYsIGZvbnQgPSB0aGlzLmRlZmF1bHQsIHNjYWxlID0gMSkge1xuICAgICAgICB0ZXh0ID0gdGV4dC50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCB0ZXh0Lmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGxldCBjID0gdGV4dC5jaGFyQ29kZUF0KGlkeCk7XG4gICAgICAgICAgICBjdHguZHJhd0ltYWdlKFxuICAgICAgICAgICAgICAgIGZvbnQsXG4gICAgICAgICAgICAgICAgKGMgLSAzMikgKiAoQ19XSURUSCArIDEpLCAwLCBDX1dJRFRILCBDX0hFSUdIVCxcbiAgICAgICAgICAgICAgICB1LCB2LCBDX1dJRFRIICogc2NhbGUsIENfSEVJR0hUICogc2NhbGVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB1ICs9IChDX1NISUZUW2NdIHx8IChDX1dJRFRIICsgMSkpICogc2NhbGU7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgZHJhd1JpZ2h0VGV4dChjdHgsIHRleHQsIHUsIHYsIGZvbnQgPSB0aGlzLmRlZmF1bHQsIHNjYWxlID0gMSkge1xuICAgICAgICB0ZXh0ID0gdGV4dC50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB1IC09IHRoaXMubWVhc3VyZVdpZHRoKHRleHQsIHNjYWxlKTtcbiAgICAgICAgdGhpcy5kcmF3VGV4dChjdHgsIHRleHQsIHUsIHYsIGZvbnQsIHNjYWxlKTtcbiAgICB9LFxuXG4gICAgZHJhd1BhcmFncmFwaChjdHgsIHRleHQsIHUsIHYsIHcsIGgsIGZvbnQgPSB0aGlzLmRlZmF1bHQsIHNjYWxlID0gMSkge1xuICAgICAgICBsZXQgY3UgPSB1LCBjdiA9IHYsIHBocmFzZXMgPSB0ZXh0LnRvVXBwZXJDYXNlKCkuc3BsaXQoJyAnKTtcblxuICAgICAgICBmb3IgKGxldCBwaHJhc2Ugb2YgcGhyYXNlcykge1xuICAgICAgICAgICAgbGV0IHBocmFzZVdpZHRoID0gdGhpcy5tZWFzdXJlV2lkdGgocGhyYXNlLCBzY2FsZSk7XG4gICAgICAgICAgICBpZiAoY3UgKyBwaHJhc2VXaWR0aCAtIHUgPiB3KSB7XG4gICAgICAgICAgICAgICAgY3UgPSB1O1xuICAgICAgICAgICAgICAgIGN2ICs9IChDX0hFSUdIVCArIDIpICogc2NhbGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRyYXdUZXh0KGN0eCwgcGhyYXNlLCBjdSwgY3YsIGZvbnQsIHNjYWxlKTtcbiAgICAgICAgICAgIGN1ICs9IHBocmFzZVdpZHRoICsgKENfU0hJRlRbMzJdIHx8IDQpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIG1lYXN1cmVXaWR0aCh0ZXh0LCBzY2FsZSkge1xuICAgICAgICByZXR1cm4gdGV4dC5zcGxpdCgnJykucmVkdWNlKChzdW0sIGMpID0+IHN1bSArIChDX1NISUZUW2MuY2hhckNvZGVBdCgwKV0gfHwgNCksIDApICogc2NhbGU7XG4gICAgfSxcblxuICAgIHJlY29sb3IoZm9udCwgY29sb3IpIHtcbiAgICAgICAgbGV0IGNhbnZhcyA9IG5ldyBDYW52YXMoZm9udC53aWR0aCwgZm9udC5oZWlnaHQpO1xuICAgICAgICBjYW52YXMuY3R4LmZpbGxTdHlsZSA9IHR5cGVvZiBjb2xvciA9PT0gXCJmdW5jdGlvblwiID8gY29sb3IoY2FudmFzLmN0eCkgOiBjb2xvcjtcbiAgICAgICAgY2FudmFzLmN0eC5maWxsUmVjdCgwLCAwLCBmb250LndpZHRoLCBmb250LmhlaWdodCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGZvbnQud2lkdGgsIGZvbnQuaGVpZ2h0LCBjb2xvciwgY2FudmFzKTtcbiAgICAgICAgY2FudmFzLmN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnZGVzdGluYXRpb24taW4nO1xuICAgICAgICBjYW52YXMuY3R4LmRyYXdJbWFnZShmb250LCAwLCAwKTtcbiAgICAgICAgcmV0dXJuIGNhbnZhcy5jYW52YXM7XG4gICAgfSxcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IGdhbWUgfSBmcm9tICcuL0dhbWUnO1xuaW1wb3J0IHsgR2VvbWV0cnkgYXMgRyB9IGZyb20gJy4vR2VvbWV0cnknO1xuaW1wb3J0IHsgQ29uc3RhbnRzIGFzIEMgfSBmcm9tICcuL0NvbnN0YW50cyc7XG5cbi8qKlxuICogRGV0ZWN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBEZXRlY3Rpb24gPSB7XG4gIGxpbmVPZlNpZ2h0KGEsIGIpIHtcbiAgICAgIC8vIHRvZG86IHRoaXMgY2hlY2tzIGNlbnRlciBtYXNzXG4gICAgICBmb3IgKGxldCB0aWxlIG9mIEcudGlsZXNIaXRCZXR3ZWVuKGEucG9zLCBiLnBvcykpIHtcbiAgICAgICAgaWYgKCFHLnRpbGVJc1Bhc3NhYmxlKHRpbGUucSwgdGlsZS5yKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyB0b2RvOiBkaXN0YW5jZSBhd2F5XG4gICAgICAvLyB0b2RvOiBmYWNpbmcgY2hlY2tcbiAgICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEJlaGF2aW9yXG4gKi9cbmV4cG9ydCBjb25zdCBCZWhhdmlvciA9IHtcbiAgSURMRTogICAxMDEsXG4gIFdBTkRFUjogMTAyLFxuICBDSEFTRTogIDEwMyxcbiAgSFVOVDogICAxMDQsXG4gIEZMRUU6ICAgMTA1LFxuICBERUFEOiAgIDEwNixcblxuICBBVFRBQ0s6IDIwMSxcbiAgUkVMT0FEOiAyMDIsXG5cbiAgYXBwbHkoZW50aXRpZXMpIHtcbiAgICBmb3IgKGxldCBlbnRpdHkgb2YgZW50aXRpZXMpIHtcbiAgICAgIGlmIChlbnRpdHkudGhpbmspIGVudGl0eS50aGluaygpO1xuICAgIH1cbiAgfVxufTtcbiIsImltcG9ydCB7IGdhbWUgfSBmcm9tICcuL0dhbWUnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnLi9Bc3NldHMnO1xuaW1wb3J0IHsgSW5wdXQgfSBmcm9tICcuL2lucHV0L0lucHV0JztcbmltcG9ydCB7IEdlb21ldHJ5IGFzIEcgfSBmcm9tICcuL0dlb21ldHJ5JztcbmltcG9ydCB7IERldGVjdGlvbiB9IGZyb20gJy4vRGV0ZWN0aW9uJztcbmltcG9ydCB7IEJlaGF2aW9yIH0gZnJvbSAnLi9zeXN0ZW1zL0JlaGF2aW9yJztcblxuLyoqXG4gKiBNb25zdGVyXG4gKi9cbmV4cG9ydCBjbGFzcyBNb25zdGVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5wb3MgPSB7IHg6IDAsIHk6IDAgfTtcbiAgICB0aGlzLnZlbCA9IHsgeDogMCwgeTogMCB9O1xuICAgIHRoaXMuZmFjaW5nID0geyB4OiAwLCB5OiAtMSwgbTogMCB9O1xuICAgIHRoaXMuaHAgPSAxMDA7XG4gICAgdGhpcy5kYW1hZ2UgPSBbXTtcbiAgICB0aGlzLnJhZGl1cyA9IDExO1xuXG4gICAgdGhpcy5tYXNzID0gMC41O1xuICB9XG5cbiAgdGhpbmsoKSB7XG4gICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICBjYXNlIEJlaGF2aW9yLklETEU6XG4gICAgICAgIGlmIChEZXRlY3Rpb24ubGluZU9mU2lnaHQodGhpcywgZ2FtZS5wbGF5ZXIpKSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZSA9IEJlaGF2aW9yLkNIQVNFO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBCZWhhdmlvci5DSEFTRTpcbiAgICAgICAgbGV0IGRpZmYgPSBHLnZlY3RvckJldHdlZW4odGhpcy5wb3MsIGdhbWUucGxheWVyLnBvcyk7XG4gICAgICAgIGRpZmYubSA9IEcuY2xhbXAoZGlmZi5tLCAwLCAxKTtcbiAgICAgICAgdGhpcy52ZWwgPSB7IHg6IGRpZmYueCAqIGRpZmYubSwgeTogZGlmZi55ICogZGlmZi5tIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBCZWhhdmlvci5ERUFEOlxuICAgICAgICB0aGlzLnZlbCA9IHsgeDogMCwgeTogMCwgbTogMCB9O1xuICAgICAgICBpZiAoIXRoaXMuY3VsbHQpIHRoaXMuY3VsbHQgPSAxNTtcbiAgICAgICAgdGhpcy5jdWxsdC0tO1xuICAgICAgICBpZiAodGhpcy5jdWxsdCA8IDEpIHRoaXMuY3VsbCA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy5zdGF0ZSA9IEJlaGF2aW9yLklETEU7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGRyYXcodmlld3BvcnQpIHtcbiAgICAvLyBUT0RPXG4gICAgaWYgKHRoaXMuc3RhdGUgPT09IEJlaGF2aW9yLkRFQUQpIHtcbiAgICAgIFNwcml0ZS5kcmF3Vmlld3BvcnRTcHJpdGUodmlld3BvcnQsIFNwcml0ZS5tb25zdGVyX2RlYWQsIHRoaXMucG9zLCBnYW1lLmNhbWVyYS5wb3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICBTcHJpdGUuZHJhd1ZpZXdwb3J0U3ByaXRlKHZpZXdwb3J0LCBTcHJpdGUubW9uc3RlciwgdGhpcy5wb3MsIGdhbWUuY2FtZXJhLnBvcyk7XG4gICAgfVxuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IGdhbWUgfSBmcm9tICcuL0dhbWUnO1xuaW1wb3J0IHsgTW9uc3RlciB9IGZyb20gJy4vTW9uc3Rlcic7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICcuL0Fzc2V0cyc7XG5pbXBvcnQgeyBHZW9tZXRyeSBhcyBHIH0gZnJvbSAnLi9HZW9tZXRyeSc7XG5pbXBvcnQgeyB2aWV3cG9ydCB9IGZyb20gJy4vVmlld3BvcnQnO1xuXG5leHBvcnQgY2xhc3MgU2hvdGd1bkJsYXN0IHtcbiAgY29uc3RydWN0b3IocG9zLCBhbmdsZSkge1xuICAgIHRoaXMucG9zID0geyAuLi5wb3MgfTtcbiAgICB0aGlzLmFuZ2xlID0gYW5nbGU7XG4gICAgdGhpcy5zcHJlYWQgPSBHLlJBRFs3MF07XG4gICAgdGhpcy5yYW5nZSA9IDU1O1xuICB9XG5cbiAgdGhpbmsoKSB7XG4gICAgdGhpcy50ID0gKHRoaXMudCB8fCAwKSArIDE7XG5cbiAgICBpZiAodGhpcy50ID09PSAzKSB7XG4gICAgICBsZXQgZW50aXRpZXMgPSBnYW1lLmVudGl0aWVzLmZpbHRlcihlbnRpdHkgPT4gZW50aXR5IGluc3RhbmNlb2YgTW9uc3Rlcik7XG4gICAgICBmb3IgKGxldCBlbnRpdHkgb2YgZW50aXRpZXMpIHtcbiAgICAgICAgbGV0IHZlY3QgPSBHLnZlY3RvckJldHdlZW4odGhpcy5wb3MsIGVudGl0eS5wb3MpO1xuICAgICAgICBpZiAodmVjdC5tID49IHRoaXMucmFuZ2UgKyBlbnRpdHkucmFkaXVzKSBjb250aW51ZTtcblxuICAgICAgICBsZXQgZG90MSA9IEcudmVjdG9yQmV0d2VlbihcbiAgICAgICAgICB0aGlzLnBvcyxcbiAgICAgICAgICB7IHg6IGVudGl0eS5wb3MueCAtIHZlY3QueSAqIGVudGl0eS5yYWRpdXMsIHk6IGVudGl0eS5wb3MueSArIHZlY3QueCAqIGVudGl0eS5yYWRpdXMgfVxuICAgICAgICApO1xuICAgICAgICBsZXQgZG90MiA9IEcudmVjdG9yQmV0d2VlbihcbiAgICAgICAgICB0aGlzLnBvcyxcbiAgICAgICAgICB7IHg6IGVudGl0eS5wb3MueCArIHZlY3QueSAqIGVudGl0eS5yYWRpdXMsIHk6IGVudGl0eS5wb3MueSAtIHZlY3QueCAqIGVudGl0eS5yYWRpdXMgfVxuICAgICAgICApO1xuICAgICAgICBsZXQgc2lkZXMgPSBbRy52ZWN0b3IyYW5nbGUoZG90MSksIEcudmVjdG9yMmFuZ2xlKGRvdDIpXTtcbiAgICAgICAgbGV0IG92ZXJsYXAgPSBHLmFyY092ZXJsYXAoc2lkZXNbMF0sIHNpZGVzWzFdLCB0aGlzLmFuZ2xlIC0gdGhpcy5zcHJlYWQgLyAyLCB0aGlzLmFuZ2xlICsgdGhpcy5zcHJlYWQgLyAyKTtcbiAgICAgICAgaWYgKCFvdmVybGFwKSBjb250aW51ZTtcblxuICAgICAgICBsZXQgd2FsbEhpdCA9IFtdO1xuICAgICAgICBsZXQgayA9IEcudmVjdG9yQWRkKHRoaXMucG9zLCBHLmFuZ2xlMnZlY3RvcihzaWRlc1swXSwgdmVjdC5tKSk7XG4gICAgICAgIGZvciAobGV0IHRpbGUgb2YgRy50aWxlc0hpdEJ5KHRoaXMucG9zLCBHLmFuZ2xlMnZlY3RvcihzaWRlc1swXSwgdmVjdC5tKSkpIHtcbiAgICAgICAgICBpZiAoIUcudGlsZUlzUGFzc2FibGUodGlsZS5xLCB0aWxlLnIpKSB7XG4gICAgICAgICAgICB3YWxsSGl0LnB1c2godGlsZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgdGlsZSBvZiBHLnRpbGVzSGl0QnkodGhpcy5wb3MsIEcuYW5nbGUydmVjdG9yKHNpZGVzWzFdLCB2ZWN0Lm0pKSkge1xuICAgICAgICAgIGlmICghRy50aWxlSXNQYXNzYWJsZSh0aWxlLnEsIHRpbGUucikpIHtcbiAgICAgICAgICAgIHdhbGxIaXQucHVzaCh0aWxlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh3YWxsSGl0Lmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAvLyBoaXRcbiAgICAgICAgICBlbnRpdHkuZGFtYWdlLnB1c2goeyBhbW91bnQ6IDI1LCB2ZWN0b3I6IHZlY3QgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy50ID4gNikgdGhpcy5jdWxsID0gdHJ1ZTtcbiAgfVxuXG4gIGRyYXcodmlld3BvcnQpIHtcbiAgICAvLyBUT0RPXG4gICAgLy9TcHJpdGUuZHJhd1ZpZXdwb3J0U3ByaXRlKHZpZXdwb3J0LCBTcHJpdGUubW9uc3RlciwgdGhpcy5wb3MsIGdhbWUuY2FtZXJhLnBvcyk7XG4gICAgbGV0IHV2ID0gRy54eTJ1dih0aGlzLnBvcyk7XG4gICAgdmlld3BvcnQuY3R4LmJlZ2luUGF0aCgpO1xuICAgIHZpZXdwb3J0LmN0eC5hcmModXYudSwgdXYudiwgdGhpcy5yYW5nZSwgdGhpcy5hbmdsZSAtIHRoaXMuc3ByZWFkIC8gMiwgdGhpcy5hbmdsZSArIHRoaXMuc3ByZWFkIC8gMik7XG4gICAgdmlld3BvcnQuY3R4LmxpbmVUbyh1di51LCB1di52KTtcbiAgICB2aWV3cG9ydC5jdHguY2xvc2VQYXRoKCk7XG4gICAgdmlld3BvcnQuY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwgMCwgMCwgMC41KSdcbiAgICB2aWV3cG9ydC5jdHguZmlsbCgpO1xuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IGdhbWUgfSBmcm9tICcuL0dhbWUnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnLi9Bc3NldHMnO1xuaW1wb3J0IHsgR2VvbWV0cnkgYXMgRyB9IGZyb20gJy4vR2VvbWV0cnknO1xuXG5leHBvcnQgY2xhc3MgUmVsb2FkQW5pbWF0aW9uIHtcbiAgY29uc3RydWN0b3IoZnJhbWVzKSB7XG4gICAgdGhpcy50ID0gMDtcbiAgICB0aGlzLmQgPSBmcmFtZXM7XG4gIH1cblxuICB0aGluaygpIHtcbiAgICBpZiAoKyt0aGlzLnQgPT09IHRoaXMuZCkgdGhpcy5jdWxsID0gdHJ1ZTtcbiAgfVxuXG4gIGRyYXcodmlld3BvcnQpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdhbWUucGxheWVyLnNoZWxsc01heDsgaSsrKSB7XG4gICAgICBsZXQgZW5kID0gaSAqIHRoaXMuZCAvIGdhbWUucGxheWVyLnNoZWxsc01heDtcbiAgICAgIGxldCBzdGFydCA9IGVuZCAtIDM7XG5cbiAgICAgIGlmICh0aGlzLnQgPj0gc3RhcnQpIHtcbiAgICAgICAgbGV0IHkgPSBNYXRoLm1pbigxMCwgMTAgKyB0aGlzLnQgLSBlbmQpO1xuICAgICAgICB2aWV3cG9ydC5jdHguZHJhd0ltYWdlKFNwcml0ZS5odWRfc2hlbGxzX2Z1bGwuaW1nLCAxNSArIDYgKiBpLCB5KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IGdhbWUgfSBmcm9tICcuL0dhbWUnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnLi9Bc3NldHMnO1xuaW1wb3J0IHsgSW5wdXQgfSBmcm9tICcuL2lucHV0L0lucHV0JztcbmltcG9ydCB7IEdlb21ldHJ5IGFzIEcgfSBmcm9tICcuL0dlb21ldHJ5JztcbmltcG9ydCB7IEJ1bGxldCB9IGZyb20gJy4vQnVsbGV0JztcbmltcG9ydCB7IFNob3RndW5CbGFzdCB9IGZyb20gJy4vU2hvdGd1bkJsYXN0JztcbmltcG9ydCB7IENvbnN0YW50cyBhcyBDIH0gZnJvbSAnLi9Db25zdGFudHMnO1xuaW1wb3J0IHsgQmVoYXZpb3IgfSBmcm9tICcuL3N5c3RlbXMvQmVoYXZpb3InO1xuaW1wb3J0IHsgUmVsb2FkQW5pbWF0aW9uIH0gZnJvbSAnLi9SZWxvYWRBbmltYXRpb24nO1xuXG4vKipcbiAqIFBsYXllclxuICovXG5leHBvcnQgY2xhc3MgUGxheWVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5wb3MgPSB7IHg6IDAsIHk6IDAgfTtcbiAgICB0aGlzLnZlbCA9IHsgeDogMCwgeTogMCB9O1xuICAgIHRoaXMuZmFjaW5nID0geyB4OiAwLCB5OiAtMSwgbTogMCB9O1xuICAgIHRoaXMuaHAgPSAxMDA7XG4gICAgdGhpcy5kYW1hZ2UgPSBbXTtcbiAgICB0aGlzLnJhZGl1cyA9IDEyO1xuXG4gICAgdGhpcy5zaGVsbHNMZWZ0ID0gNDtcbiAgICB0aGlzLnNoZWxsc01heCA9IDQ7XG5cbiAgICB0aGlzLm1hc3MgPSAzO1xuICB9XG5cbiAgdGhpbmsoKSB7XG4gICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICBjYXNlIEJlaGF2aW9yLkhVTlQ6XG4gICAgICAgIHRoaXMuZGVmYXVsdE1vdmVtZW50KDEpO1xuXG4gICAgICAgIGlmIChnYW1lLmlucHV0LnByZXNzZWRbSW5wdXQuQWN0aW9uLkFUVEFDS10pIHtcbiAgICAgICAgICBpZiAodGhpcy5zaGVsbHNMZWZ0ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnJlbG9hZCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2FtZS5pbnB1dC5wcmVzc2VkW0lucHV0LkFjdGlvbi5SRUxPQURdKSB7XG4gICAgICAgICAgdGhpcy5yZWxvYWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBCZWhhdmlvci5BVFRBQ0s6XG4gICAgICAgIHRoaXMuZGVmYXVsdE1vdmVtZW50KDEpO1xuICAgICAgICBpZiAoLS10aGlzLmZyYW1lcyA8PSAwKSB0aGlzLnN0YXRlID0gQmVoYXZpb3IuSFVOVDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEJlaGF2aW9yLlJFTE9BRDpcbiAgICAgICAgdGhpcy5kZWZhdWx0TW92ZW1lbnQoMi41KTtcbiAgICAgICAgaWYgKC0tdGhpcy5mcmFtZXMgPD0gMCkge1xuICAgICAgICAgIHRoaXMuc2hlbGxzTGVmdCA9IHRoaXMuc2hlbGxzTWF4O1xuICAgICAgICAgIHRoaXMuc3RhdGUgPSBCZWhhdmlvci5IVU5UO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy5zdGF0ZSA9IEJlaGF2aW9yLkhVTlQ7XG4gICAgICAgIHRoaXMuZnJhbWVzID0gMDtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgZGVmYXVsdE1vdmVtZW50KHZlbG9jaXR5QWRqKSB7XG4gICAgaWYgKGdhbWUucG9pbnRlclhZKCkpIHtcbiAgICAgIHRoaXMuZmFjaW5nID0gRy52ZWN0b3JCZXR3ZWVuKHRoaXMucG9zLCBnYW1lLnBvaW50ZXJYWSgpKTtcbiAgICB9XG5cbiAgICBsZXQgdiA9IHtcbiAgICAgIHg6IGdhbWUuaW5wdXQuZGlyZWN0aW9uLnggKiBnYW1lLmlucHV0LmRpcmVjdGlvbi5tICogMS44ICogdmVsb2NpdHlBZGosXG4gICAgICB5OiBnYW1lLmlucHV0LmRpcmVjdGlvbi55ICogZ2FtZS5pbnB1dC5kaXJlY3Rpb24ubSAqIDEuOCAqIHZlbG9jaXR5QWRqXG4gICAgfTtcblxuICAgIHRoaXMudmVsLnggPSAodGhpcy52ZWwueCArIHYueCkgLyAyO1xuICAgIHRoaXMudmVsLnkgPSAodGhpcy52ZWwueSArIHYueSkgLyAyO1xuICB9XG5cbiAgZHJhdyh2aWV3cG9ydCkge1xuICAgIFNwcml0ZS5kcmF3Vmlld3BvcnRTcHJpdGUodmlld3BvcnQsIFNwcml0ZS5wbGF5ZXIsIHRoaXMucG9zLCBnYW1lLmNhbWVyYS5wb3MpO1xuXG4gICAgdmlld3BvcnQuY3R4LnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LCAyNTUsIDY0LCAwLjMpJztcbiAgICB2aWV3cG9ydC5jdHguYmVnaW5QYXRoKCk7XG4gICAgbGV0IHV2ID0gZ2FtZS54eTJ1dih0aGlzLnBvcyk7XG4gICAgdmlld3BvcnQuY3R4LmFyYyh1di51LCB1di52LCBDLlBMQVlFUl9CT1VORF9SQURJVVMsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICB2aWV3cG9ydC5jdHguc2V0TGluZURhc2goWzIsIDFdKTtcbiAgICB2aWV3cG9ydC5jdHguc3Ryb2tlKCk7XG4gICAgdmlld3BvcnQuY3R4LnNldExpbmVEYXNoKFtdKTtcbiAgfVxuXG4gIGZpcmUoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IEJlaGF2aW9yLkFUVEFDSztcbiAgICB0aGlzLmZyYW1lcyA9IDY7XG4gICAgdGhpcy5zaGVsbHNMZWZ0LS07XG5cbiAgICBsZXQgYW5nbGUgPSBHLnZlY3RvcjJhbmdsZSh0aGlzLmZhY2luZyk7XG4gICAgZ2FtZS5lbnRpdGllcy5wdXNoKG5ldyBTaG90Z3VuQmxhc3QodGhpcy5wb3MsIGFuZ2xlKSk7XG5cbiAgICB0aGlzLnZlbCA9IEcubm9ybWFsaXplVmVjdG9yKHRoaXMuZmFjaW5nKTtcbiAgICB0aGlzLnZlbC5tID0gMTtcblxuICAgIC8qXG4gICAgbGV0IHNwcmVhZCA9IEcuUkFEWzYwXTtcbiAgICBsZXQgcGVsbGV0cyA9IDEyO1xuICAgIC8vIHNob3RndW46IDYwLCAxMiwgMTBcbiAgICAvLyBzbmlwZXI6IDUsIDEyLCA0MFxuXG4gICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgcGVsbGV0czsgaWR4KyspIHtcbiAgICAgIGxldCBwZWxsZXRBbmdsZSA9IChpZHggKiBzcHJlYWQgLyAocGVsbGV0cyAtIDEpKSArIGFuZ2xlIC0gc3ByZWFkIC8gMjtcbiAgICAgIGxldCBwZWxsZXRWZWN0b3IgPSBHLmFuZ2xlMnZlY3RvcihwZWxsZXRBbmdsZSk7XG4gICAgICBsZXQgYnVsbGV0ID0gbmV3IEJ1bGxldCgpO1xuICAgICAgYnVsbGV0LnBvcyA9IHsgLi4udGhpcy5wb3MgfTtcbiAgICAgIGJ1bGxldC52ZWwgPSB7IHg6IHBlbGxldFZlY3Rvci54ICogMTAsIHk6IHBlbGxldFZlY3Rvci55ICogMTAgfTtcbiAgICAgIGdhbWUuZW50aXRpZXMucHVzaChidWxsZXQpO1xuICAgIH1cbiAgICAqL1xuXG4gIH1cblxuICByZWxvYWQoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IEJlaGF2aW9yLlJFTE9BRDtcbiAgICB0aGlzLmZyYW1lcyA9IDEyO1xuICAgIGdhbWUuZW50aXRpZXMucHVzaChuZXcgUmVsb2FkQW5pbWF0aW9uKDEyKSk7XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgVGV4dCB9IGZyb20gJy4vVGV4dCc7XG5cbmV4cG9ydCBjb25zdCBNZW51ID0ge1xuICAgIGRyYXcodmlld3BvcnQpIHtcblxuICAgICAgICByZXR1cm47XG4gICAgICAgIHZpZXdwb3J0LmN0eC5maWxsU3R5bGUgPSAnIzM5Mzk5NCc7XG4gICAgICAgIHZpZXdwb3J0LmN0eC5maWxsUmVjdCg0MCwgNDAsIDE0MCwgODApO1xuXG5cbiAgICAgICAgbGV0IG9wdGlvbnMgPSBbXG4gICAgICAgICAgICB7IG5hbWU6ICdBYm9taW5hYmxlIFNub3dtYW4nLCBjb3N0OiA1MDAgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ1N3b3JkcyB0byBQbG93c2hhcmVzJywgY29zdDogNjAwIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdTb21ldGhpbmcnLCBjb3N0OiAyNTAgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ1Bsb3dzaGFyZXMnLCBjb3N0OiAzMDAgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ1dpbGwgMScsIGNvc3Q6IDQwMCB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnV2lsbCAxJywgY29zdDogMjQwIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdFbHBlZ2FudCcsIGNvc3Q6IDMwMCB9XG4gICAgICAgIF07XG5cbiAgICAgICAgZm9yIChsZXQgaWR4ID0gMDsgaWR4IDwgb3B0aW9ucy5sZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgICAgICBsZXQgb3B0aW9uID0gb3B0aW9uc1tpZHhdO1xuICAgICAgICAgICAgVGV4dC5kcmF3VGV4dCh2aWV3cG9ydC5jdHgsIG9wdGlvbi5uYW1lLCA0MywgNDAgKyAyICsgaWR4ICogOSwgVGV4dC5zaGFkb3cpO1xuICAgICAgICAgICAgVGV4dC5kcmF3VGV4dCh2aWV3cG9ydC5jdHgsIG9wdGlvbi5uYW1lLCA0MiwgNDAgKyAyICsgaWR4ICogOSk7XG5cbiAgICAgICAgICAgIFRleHQuZHJhd1JpZ2h0VGV4dCh2aWV3cG9ydC5jdHgsIFN0cmluZyhvcHRpb24uY29zdCksIDE4MCAtIDEsIDQwICsgMiArIGlkeCAqIDksIFRleHQuc2hhZG93KTtcbiAgICAgICAgICAgIFRleHQuZHJhd1JpZ2h0VGV4dCh2aWV3cG9ydC5jdHgsIFN0cmluZyhvcHRpb24uY29zdCksIDE4MCAtIDIsIDQwICsgMiArIGlkeCAqIDkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLypcbiAgICAgICAgVGV4dC5kcmF3VGV4dChjdHgsIFwiQWJvbWluYWJsZSBTbm93bWFuXCIsIDEyMCwgNTApO1xuICAgICAgICBUZXh0LmRyYXdUZXh0KGN0eCwgXCJBYm9taW5hYmxlIFNub3dtYW5cIiwgMTIxLCA1MCwgVGV4dC5zaGFkb3cpO1xuICAgICAgICBUZXh0LmRyYXdSaWdodFRleHQoY3R4LCBcIjUwMFwiLCAxMjAsIDcwKTtcbiAgICAgICAgVGV4dC5kcmF3UmlnaHRUZXh0KGN0eCwgXCIxLDIwMFwiLCAxMjAsIDgwKTtcbiAgICAgICAgVGV4dC5kcmF3UmlnaHRUZXh0KGN0eCwgXCI1LDAwMFwiLCAxMjAsIDkwKTtcbiAgICAgICAgVGV4dC5kcmF3UmlnaHRUZXh0KGN0eCwgXCI1LDAwMFwiLCAxMjEsIDkxLCBUZXh0LnNoYWRvdyk7XG5cblxuICAgICAgICA1cHggN3B4IDlweFxuXG4gICAgICAgIGRyYXcodmlld3BvcnQpIHtcbiAgICAgICAgICAgIFNwcml0ZS5kcmF3Vmlld3BvcnRTcHJpdGUodmlld3BvcnQsIFNwcml0ZS5wbGF5ZXIsIHRoaXMucG9zLCBnYW1lLmNhbWVyYS5wb3MpO1xuXG4gICAgICAgICAgICB2aWV3cG9ydC5jdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsIDI1NSwgNjQsIDAuMyknO1xuICAgICAgICAgICAgdmlld3BvcnQuY3R4LmJlZ2luUGF0aCgpOyovXG5cbiAgICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBnYW1lIH0gZnJvbSAnLi4vR2FtZSc7XG5pbXBvcnQgeyBHZW9tZXRyeSBhcyBHIH0gZnJvbSAnLi4vR2VvbWV0cnknO1xuaW1wb3J0IHsgQ29uc3RhbnRzIGFzIEMgfSBmcm9tICcuLi9Db25zdGFudHMnO1xuXG4vKipcbiAqIE1vdmVtZW50XG4gKi9cbmV4cG9ydCBjb25zdCBNb3ZlbWVudCA9IHtcbiAgYXBwbHkoZW50aXRpZXMpIHtcbiAgICAvLyBNb3ZlbWVudCBvbmx5IGFwcGxpZXMgdG8gYWN0aXZlIGVudGl0aWVzIHdpdGggcG9zaXRpb25zIGFuZCB2ZWxvY2l0aWVzXG4gICAgbGV0IG1vdmVycyA9IGVudGl0aWVzLmZpbHRlcihlbnRpdHkgPT4gZW50aXR5LnBvcyAmJiBlbnRpdHkudmVsICYmICFlbnRpdHkuY3VsbCk7XG5cbiAgICAvLyBWZXJ5IGJhc2ljIFwicm91bmRzXCIgb2YgY29sbGlzaW9uIHJlc29sdXRpb24sIHNpbmNlIHdlIGhhdmUgbm8gcmVhbCBwaHlzaWNzLlxuICAgIC8vIChBcyB1c3VhbCwgXCJkZXRlY3RpbmdcIiBhIGNvbGxpc2lvbiBpcyBub3QgdGhlIGhhcmQgcGFydC4uLiB3ZSBuZWVkIHRvIHJlc29sdmVcbiAgICAvLyB0aGVtIHRvbyEpXG4gICAgZm9yIChsZXQgcm91bmRzID0gMDsgcm91bmRzIDwgNTsgcm91bmRzKyspIHtcbiAgICAgIC8vIEVhY2ggcGFpciBvZiBlbnRpdGllcyBvbmx5IG5lZWRzIHRvIGludGVyYWN0IG9uY2UuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vdmVycy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgbW92ZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgdGhpcy5jbGlwVmVsb2NpdHlFbnRpdHlWc0VudGl0eShtb3ZlcnNbaV0sIG1vdmVyc1tqXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yIChsZXQgZW50aXR5IG9mIG1vdmVycykge1xuICAgICAgICB0aGlzLmNsaXBWZWxvY2l0eUFnYWluc3RXYWxscyhlbnRpdHkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE5vdyB3ZSBhcHBseSBhbGwgbW92ZW1lbnQsIGV2ZW4gaWYgaXQncyBub3QgZ29pbmcgdG8gYmUgcGVyZmVjdC5cbiAgICBmb3IgKGxldCBlbnRpdHkgb2YgbW92ZXJzKSB7XG4gICAgICBlbnRpdHkucG9zLnggKz0gZW50aXR5LnZlbC54O1xuICAgICAgZW50aXR5LnBvcy55ICs9IGVudGl0eS52ZWwueTtcbiAgICB9XG4gIH0sXG5cbiAgY2xpcFZlbG9jaXR5RW50aXR5VnNFbnRpdHkoZW50aXR5LCBvdGhlcikge1xuICAgIGxldCBoaXQgPSBHLmludGVyc2VjdENpcmNsZUNpcmNsZTIoXG4gICAgICBlbnRpdHkucG9zLCBlbnRpdHkucmFkaXVzLCBlbnRpdHkudmVsLFxuICAgICAgb3RoZXIucG9zLCBvdGhlci5yYWRpdXMsIG90aGVyLnZlbFxuICAgICk7XG4gICAgaWYgKGhpdCkge1xuICAgICAgLy8gTm90IGEgYnVnOiB3ZSBcImFkZFwiIHRoZSBtYXNzIG9mIHRoZSBvcHBvc2luZyBlbnRpdHkgdG8gb3VyIG93biB2ZWxvY2l0eSB3aGVuIGRlY2lkaW5nIHdob1xuICAgICAgLy8gaXMgYXQgZmF1bHQgZm9yIHRoZSBjb2xsaXNpb24uIEVudGl0eSB2ZWxvY2l0aWVzIGFkanVzdCBpbiByZWxhdGlvbiB0byB0aGVpciBmYXVsdCBsZXZlbC5cbiAgICAgIGxldCBlbnRpdHlNID0gRy5ub3JtYWxpemVWZWN0b3IoZW50aXR5LnZlbCkubSArIG90aGVyLm1hc3M7XG4gICAgICBsZXQgb3RoZXJNID0gRy5ub3JtYWxpemVWZWN0b3Iob3RoZXIudmVsKS5tICsgZW50aXR5Lm1hc3M7XG4gICAgICBlbnRpdHkudmVsLnggLT0gaGl0Lm54ICogaGl0Lm0gKiBlbnRpdHlNIC8gKGVudGl0eU0gKyBvdGhlck0pO1xuICAgICAgZW50aXR5LnZlbC55IC09IGhpdC5ueSAqIGhpdC5tICogZW50aXR5TSAvIChlbnRpdHlNICsgb3RoZXJNKTtcbiAgICAgIG90aGVyLnZlbC54ICs9IGhpdC5ueCAqIGhpdC5tICogb3RoZXJNIC8gKGVudGl0eU0gKyBvdGhlck0pO1xuICAgICAgb3RoZXIudmVsLnkgKz0gaGl0Lm55ICogaGl0Lm0gKiBvdGhlck0gLyAoZW50aXR5TSArIG90aGVyTSk7XG4gICAgfVxuICB9LFxuXG4gIGNsaXBWZWxvY2l0eUFnYWluc3RXYWxscyhlbnRpdHkpIHtcbiAgICBmb3IgKGxldCB0aWxlIG9mIEcudGlsZXNIaXRCeUNpcmNsZShlbnRpdHkucG9zLCBlbnRpdHkudmVsLCBDLlBMQVlFUl9CT1VORF9SQURJVVMpKSB7XG4gICAgICBpZiAoIUcudGlsZUlzUGFzc2FibGUodGlsZS5xLCB0aWxlLnIpKSB7XG4gICAgICAgIGxldCBib3VuZHMgPSBbRy5xcjJ4eSh0aWxlKSwgRy5xcjJ4eSh7IHE6IHRpbGUucSArIDEsIHI6IHRpbGUuciArIDEgfSldO1xuICAgICAgICBsZXQgaGl0ID0gRy5pbnRlcnNlY3RDaXJjbGVSZWN0YW5nbGUoXG4gICAgICAgICAgZW50aXR5LnBvcyxcbiAgICAgICAgICB7IHg6IGVudGl0eS5wb3MueCArIGVudGl0eS52ZWwueCwgeTogZW50aXR5LnBvcy55ICsgZW50aXR5LnZlbC55IH0sXG4gICAgICAgICAgQy5QTEFZRVJfQk9VTkRfUkFESVVTLFxuICAgICAgICAgIGJvdW5kc1xuICAgICAgICApO1xuXG4gICAgICAgIC8vIFRoZSBcIm1hdGhcIiBwYXJ0IG9mIGRldGVjdGluZyBjb2xsaXNpb24gd2l0aCB3YWxscyBpcyBidXJpZWQgaW4gdGhlIGdlb21ldHJ5IGZ1bmN0aW9uc1xuICAgICAgICAvLyBhYm92ZSwgYnV0IGl0J3Mgbm90IHRoZSB3aG9sZSBzdG9yeSAtLSBpZiB3ZSBkbyBkZXRlY3QgYSBjb2xsaXNpb24sIHdlIHN0aWxsIG5lZWQgdG9cbiAgICAgICAgLy8gZGVjaWRlIHdoYXQgdG8gZG8gYWJvdXQgaXQuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIElmIHRoZSBub3JtYWwgdmVjdG9yIGlzIGhvcml6b250YWwgb3IgdmVydGljYWwsIHdlIHplcm8gb3V0IHRoZSBwb3J0aW9uIG9mIHRoZSB2ZWN0b3JcbiAgICAgICAgLy8gbW92aW5nIGludG8gdGhlIHdhbGwsIGFsbG93aW5nIGZyaWN0aW9ubGVzcyBzbGlkaW5nIChpZiB3ZSB3YW50ZWQgdG8gYXBwbHkgZnJpY3Rpb24sXG4gICAgICAgIC8vIHdlIGNvdWxkIGFsc28gcmVkdWNlIHRoZSBvdGhlciBheGlzIHNsaWdodGx5KS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gSWYgdGhlIG5vcm1hbCB2ZWN0b3IgaXMgbm90IDkwKiwgd2UgXCJiYWNrIHVwXCIgb2ZmIHRoZSB3YWxsIGJ5IGV4YWN0bHkgdGhlIG5vcm1hbCB2ZWN0b3IuXG4gICAgICAgIC8vIElmIHRoZSBwbGF5ZXIgcnVucyBpbnRvIGEgY29ybmVyIGF0IEVYQUNUTFkgYSA0NSBkZWdyZWUgYW5nbGUsIHRoZXkgd2lsbCBzaW1wbHkgXCJzdGlja1wiXG4gICAgICAgIC8vIG9uIGl0IC0tIGJ1dCBvbmUgZGVncmVlIGxlZnQgb3IgcmlnaHQgYW5kIHRoZXknbGwgc2xpZGUgYXJvdW5kIHRoZSBjb3JuZXIgb250byB0aGUgd2FsbCxcbiAgICAgICAgLy8gd2hpY2ggaXMgdGhlIGRlc2lyZWQgcmVzdWx0LlxuICAgICAgICBpZiAoaGl0KSB7XG4gICAgICAgICAgaWYgKGhpdC5ueCA9PT0gMCkge1xuICAgICAgICAgICAgZW50aXR5LnZlbC55ID0gaGl0LnkgLSBlbnRpdHkucG9zLnk7XG4gICAgICAgICAgfSBlbHNlIGlmIChoaXQubnkgPT09IDApIHtcbiAgICAgICAgICAgIGVudGl0eS52ZWwueCA9IGhpdC54IC0gZW50aXR5LnBvcy54O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbnRpdHkudmVsLnggKz0gaGl0Lm54O1xuICAgICAgICAgICAgZW50aXR5LnZlbC55ICs9IGhpdC5ueTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IEJlaGF2aW9yIH0gZnJvbSAnLi9CZWhhdmlvcic7XG5pbXBvcnQgeyBHZW9tZXRyeSBhcyBHIH0gZnJvbSAnLi4vR2VvbWV0cnknO1xuXG4vKipcbiAqIERhbWFnZVxuICovXG5leHBvcnQgY29uc3QgRGFtYWdlID0ge1xuICBhcHBseShlbnRpdGllcykge1xuICAgIGZvciAobGV0IGVudGl0eSBvZiBlbnRpdGllcykge1xuICAgICAgaWYgKHR5cGVvZiBlbnRpdHkuaHAgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGlmIChlbnRpdHkuZGFtYWdlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBmb3IgKGxldCBkYW1hZ2Ugb2YgZW50aXR5LmRhbWFnZSkge1xuICAgICAgICAgICAgZW50aXR5LmhwIC09IGRhbWFnZS5hbW91bnQ7XG4gICAgICAgICAgICBkYW1hZ2UudmVjdG9yLm0gPSAxMDsgLy8gcHVzaCBiYWNrIGFtb3VudFxuICAgICAgICAgICAgZW50aXR5LnZlbCA9IEcudmVjdG9yQWRkKGVudGl0eS52ZWwsIGRhbWFnZS52ZWN0b3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbnRpdHkuZGFtYWdlID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVudGl0eS5ocCA8PSAwKSBlbnRpdHkuc3RhdGUgPSBCZWhhdmlvci5ERUFEO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbiIsIi8qaW1wb3J0IHsgSW5wdXQgfSBmcm9tICcuL0lucHV0JztcbmltcG9ydCB7IFBsYXllciB9IGZyb20gJy4vUGxheWVyJztcbmltcG9ydCB7IFNjcmVlblNoYWtlIH0gZnJvbSAnLi9TY3JlZW5TaGFrZSc7XG5pbXBvcnQgeyBIdWQgfSBmcm9tICcuL0h1ZCc7XG5pbXBvcnQgeyBNZW51LCBQYXVzZU1lbnUsIEludHJvTWVudUEsIEludHJvTWVudUIsIE91dHJvTWVudSB9IGZyb20gJy4vTWVudSc7XG5pbXBvcnQgeyBBdWRpbyB9IGZyb20gJy4vQXVkaW8nO1xuaW1wb3J0IHsgQXNzZXRzLCBTcHJpdGUsIGRyYXdQb2x5IH0gZnJvbSAnLi9Bc3NldHMnO1xuaW1wb3J0IHsgRGVtb24xIH0gZnJvbSAnLi9EZW1vbjEnO1xuaW1wb3J0IHsgQ2FudmFzIH0gZnJvbSAnLi9DYW52YXMnO1xuaW1wb3J0IHsgUGFydGljbGUsIFBvcnRhbFBhcnRpY2xlLCBTdXBlclBhcnRpY2xlIH0gZnJvbSAnLi9QYXJ0aWNsZSc7XG5pbXBvcnQgeyBIaXZlIH0gZnJvbSAnLi9IaXZlJztcbmltcG9ydCB7IFBvaW50LCBpbnRlcnNlY3RpbmdQb2x5Z29ucywgaW50ZXJzZWN0aW5nQ2lyY2xlcywgUkFELCB2ZWN0b3JGcm9tQW5nbGUsIGRpc3RhbmNlIH0gZnJvbSAnLi9HZW9tZXRyeSc7XG5pbXBvcnQgeyBIRUFSVEJFQVQgfSBmcm9tICcuL0NvbmZpZyc7XG5pbXBvcnQgeyBUd2VlbiB9IGZyb20gJy4vVHdlZW4nO1xuKi9cblxuaW1wb3J0IHsgQXNzZXRzLCBTcHJpdGUgfSBmcm9tICcuL0Fzc2V0cyc7XG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gJy4vaW5wdXQvSW5wdXQnO1xuaW1wb3J0IHsgTWF6ZUdlbmVyYXRvciB9IGZyb20gJy4vTWF6ZUdlbmVyYXRvcic7XG5pbXBvcnQgeyBUZXh0IH0gZnJvbSAnLi9UZXh0JztcbmltcG9ydCB7IFBsYXllcn0gZnJvbSAnLi9QbGF5ZXInO1xuaW1wb3J0IHsgTW9uc3RlciB9IGZyb20gJy4vTW9uc3Rlcic7XG5pbXBvcnQgeyB2aWV3cG9ydCB9IGZyb20gJy4vVmlld3BvcnQnO1xuaW1wb3J0IHsgQ29uc3RhbnRzIGFzIEMgfSBmcm9tICcuL0NvbnN0YW50cyc7XG5pbXBvcnQgeyBHZW9tZXRyeSBhcyBHIH0gZnJvbSAnLi9HZW9tZXRyeSc7XG5pbXBvcnQgeyBNZW51IH0gZnJvbSAnLi9NZW51JztcblxuaW1wb3J0IHsgQmVoYXZpb3IgfSBmcm9tICcuL3N5c3RlbXMvQmVoYXZpb3InO1xuaW1wb3J0IHsgTW92ZW1lbnQgfSBmcm9tICcuL3N5c3RlbXMvTW92ZW1lbnQnO1xuaW1wb3J0IHsgRGFtYWdlIH0gZnJvbSAnLi9zeXN0ZW1zL0RhbWFnZSc7XG5cbi8qKlxuICogR2FtZSBzdGF0ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEdhbWUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgIH1cblxuICAgIGFzeW5jIGluaXQoKSB7XG4gICAgICAgIHZpZXdwb3J0LmluaXQoKTtcblxuICAgICAgICB0aGlzLmlucHV0ID0gbmV3IElucHV0KCk7XG4gICAgICAgIGF3YWl0IHRoaXMuaW5wdXQuaW5pdCgpO1xuXG4gICAgICAgIHRoaXMubWF6ZSA9IE1hemVHZW5lcmF0b3IuZ2VuZXJhdGUoXCJhcHBsZXNcIik7XG4gICAgICAgIHRoaXMuY2FtZXJhID0geyBwb3M6IHsgeDogMSwgeTogMSB9IH07XG5cbiAgICAgICAgYXdhaXQgQXNzZXRzLmluaXQoKTtcbiAgICAgICAgYXdhaXQgVGV4dC5pbml0KCk7XG5cbiAgICAgICAgdGhpcy5lbnRpdGllcyA9IFtdO1xuXG4gICAgICAgIHRoaXMucGxheWVyID0gbmV3IFBsYXllcigpO1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm1hemUucm9vbXMpO1xuICAgICAgICB0aGlzLnBsYXllci5wb3MueCA9ICh0aGlzLm1hemUucm9vbXNbMV1bMF0ucSArIE1hdGguZmxvb3IodGhpcy5tYXplLnJvb21zWzFdWzBdLndpZHRoIC8gMikpICogQy5USUxFX1dJRFRIICsgQy5USUxFX1dJRFRIIC8gMjtcbiAgICAgICAgdGhpcy5wbGF5ZXIucG9zLnkgPSAodGhpcy5tYXplLnJvb21zWzFdWzBdLnIgKyBNYXRoLmZsb29yKHRoaXMubWF6ZS5yb29tc1sxXVswXS5oZWlnaHQgLyAyKSkgKiBDLlRJTEVfV0lEVEggKyBDLlRJTEVfV0lEVEggLyAyO1xuXG4gICAgICAgIHRoaXMuZW50aXRpZXMucHVzaCh0aGlzLnBsYXllcik7XG5cbiAgICAgICAgLypcblxuICAgICAgICBhd2FpdCBBc3NldHMuaW5pdCgpO1xuXG4gICAgICAgIHRoaXMuYXJ0aWZhY3RzID0gW1xuICAgICAgICAgICAgYXdhaXQgQXNzZXRzLmdyYXlzY2FsZU5vaXNlKHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpLFxuICAgICAgICAgICAgYXdhaXQgQXNzZXRzLmdyYXlzY2FsZU5vaXNlKHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpLFxuICAgICAgICAgICAgYXdhaXQgQXNzZXRzLmdyYXlzY2FsZU5vaXNlKHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5pbnB1dCA9IG5ldyBJbnB1dCgpO1xuICAgICAgICBhd2FpdCB0aGlzLmlucHV0LmluaXQoKTtcblxuICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBQbGF5ZXIoKTtcblxuICAgICAgICB0aGlzLmh1ZCA9IG5ldyBIdWQoKTtcblxuICAgICAgICB0aGlzLnBhcnRpY2xlcyA9IFtdO1xuICAgICAgICB0aGlzLnNjcmVlbnNoYWtlcyA9IFtdO1xuICAgICAgICB0aGlzLm1lbnVTdGFjayA9IFtdO1xuXG4gICAgICAgIHRoaXMubW9uc3RlcnMgPSBbXTtcblxuICAgICAgICAvLyBDcmVhdGUsIGJ1dCBkbyBub3QgaW5pdGlhbGl6ZSwgdGhlIGF1ZGlvIG9iamVjdC4gVGhlIGF1ZGlvIG9iamVjdCB3aWxsIGJlXG4gICAgICAgIC8vIGluaXRpYWxpemVkIGFzIHNvb24gYXMgcG9zc2libGUgYnkgdGhlIGZpcnN0IHVzZXIgaW5wdXQgZXZlbnQsIHRvIG1lZXRcbiAgICAgICAgLy8gcmVxdWlyZW1lbnRzIG9mIHRoZSBicm93c2VyLlxuICAgICAgICB0aGlzLmF1ZGlvID0gbmV3IEF1ZGlvKCk7XG5cbiAgICAgICAgdGhpcy5zY29yZSA9IDA7XG5cbiAgICAgICAgdGhpcy5oaXZlID0gbmV3IEhpdmUoKTtcblxuICAgICAgICAqL1xuICAgIH1cblxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLmZyYW1lID0gMDtcblxuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblxuICAgICAgICAvKlxuICAgICAgICB0aGlzLm1lbnVTdGFjay5wdXNoKG5ldyBJbnRyb01lbnVBKHtcbiAgICAgICAgICAgIG9uQ2xvc2U6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1lbnVTdGFjay5wdXNoKG5ldyBJbnRyb01lbnVCKHt9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTsqL1xuXG4gICAgICAgIC8vdGhpcy5mcmFtZW1zID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5vbkZyYW1lKDEpKTtcbiAgICAgICAgLy90aGlzLmZyYW1lID0gMDtcbiAgICB9XG5cbiAgICBvbkZyYW1lKGN1cnJlbnRtcykge1xuICAgICAgICB0aGlzLmZyYW1lKys7XG4gICAgICAgIHZpZXdwb3J0LnJlc2l6ZSgpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLmRyYXcodmlld3BvcnQuY3R4KTtcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLm9uRnJhbWUoY3VycmVudG1zKSk7XG4gICAgfVxuXG4gICAgdXBkYXRlKCkge1xuICAgICAgICAvLyBQdWxsIGluIGZyYW1lIGJ5IGZyYW1lIGJ1dHRvbiBwdXNoZXMgLyBrZXlwcmVzc2VzIC8gbW91c2UgY2xpY2tzXG4gICAgICAgIHRoaXMuaW5wdXQudXBkYXRlKCk7XG5cbiAgICAgICAgLy8gQmVoYXZpb3IgKEFJLCBwbGF5ZXIgaW5wdXQsIGV0Yy4pXG4gICAgICAgIEJlaGF2aW9yLmFwcGx5KHRoaXMuZW50aXRpZXMpO1xuXG4gICAgICAgIERhbWFnZS5hcHBseSh0aGlzLmVudGl0aWVzKTtcblxuICAgICAgICAvLyBNb3ZlbWVudCAoYXBwbHkgZW50aXR5IHZlbG9jaXR5IHRvIHBvc2l0aW9uKVxuICAgICAgICBNb3ZlbWVudC5hcHBseSh0aGlzLmVudGl0aWVzKTtcblxuICAgICAgICAvLyBjYW1lcmEgbG9naWMhIHdoZXJlIGRvZXMgaXQgZ28hIChhbiBlbnRpdHkgcGVyaGFwcz8pXG4gICAgICAgIGxldCBkaWZmID0ge1xuICAgICAgICAgICAgeDogdGhpcy5wbGF5ZXIucG9zLnggLSB0aGlzLmNhbWVyYS5wb3MueCxcbiAgICAgICAgICAgIHk6IHRoaXMucGxheWVyLnBvcy55IC0gdGhpcy5jYW1lcmEucG9zLnlcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jYW1lcmEucG9zLnggKz0gZGlmZi54ICogMC4yO1xuICAgICAgICB0aGlzLmNhbWVyYS5wb3MueSArPSBkaWZmLnkgKiAwLjI7XG5cbiAgICAgICAgdGhpcy5zcGF3bkVuZW15KCk7XG5cbiAgICAgICAgLy8gQ3VsbGluZyBTdGVwXG4gICAgICAgIHRoaXMuZW50aXRpZXMgPSB0aGlzLmVudGl0aWVzLmZpbHRlcihlbnRpdHkgPT4gIWVudGl0eS5jdWxsKTtcbiAgICB9XG5cbiAgICBzcGF3bkVuZW15KCkge1xuICAgICAgICBsZXQgZW5lbWllcyA9IHRoaXMuZW50aXRpZXMuZmlsdGVyKGVudGl0eSA9PiBlbnRpdHkgaW5zdGFuY2VvZiBNb25zdGVyKTtcbiAgICAgICAgaWYgKGVuZW1pZXMubGVuZ3RoIDwgNCAmJiBNYXRoLnJhbmRvbSgpIDwgMC4xKSB7XG4gICAgICAgICAgICBsZXQgcSA9IHRoaXMubWF6ZS5yb29tc1sxXVswXS5xICsgdGhpcy5tYXplLnJhbmQoMCwgdGhpcy5tYXplLnJvb21zWzFdWzBdLndpZHRoKTtcbiAgICAgICAgICAgIGxldCByID0gdGhpcy5tYXplLnJvb21zWzFdWzBdLnIgKyB0aGlzLm1hemUucmFuZCgwLCB0aGlzLm1hemUucm9vbXNbMV1bMF0uaGVpZ2h0KTtcbiAgICAgICAgICAgIGxldCBtb25zdGVyID0gbmV3IE1vbnN0ZXIoKTtcbiAgICAgICAgICAgIG1vbnN0ZXIucG9zID0gRy5xcjJ4eSh7IHEsIHIgfSk7XG4gICAgICAgICAgICB0aGlzLmVudGl0aWVzLnB1c2gobW9uc3Rlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkcmF3KGN0eCkge1xuICAgICAgICBjdHguc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgICAgICBjdHguc2NhbGUodmlld3BvcnQuc2NhbGUsIHZpZXdwb3J0LnNjYWxlKTtcblxuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoNDgsMzIsNDgsMSknO1xuICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgdmlld3BvcnQud2lkdGgsIHZpZXdwb3J0LmhlaWdodCk7XG5cbiAgICAgICAgLypjdHguZmlsbFN0eWxlID0gJ3JnYmEoMTUwLCAxMjgsIDEyOCwgMSknO1xuICAgICAgICBjdHguZmlsbFJlY3QoMTAsIDEwLCAxMDAsIDEwMCk7Ki9cblxuICAgICAgICB0aGlzLmRyYXdNYXplKGN0eCwgdGhpcy5tYXplKTtcblxuICAgICAgICB0aGlzLmRyYXdIdWQoY3R4KTtcblxuICAgICAgICBUZXh0LmRyYXdSaWdodFRleHQoY3R4LCBbdmlld3BvcnQuc2NhbGUsIHZpZXdwb3J0LndpZHRoLCB2aWV3cG9ydC5oZWlnaHRdLmpvaW4oJywgJyksIHZpZXdwb3J0LndpZHRoIC0gNCwgMTApO1xuXG4gICAgICAgIC8qXG4gICAgICAgIFRleHQuZHJhd1BhcmFncmFwaChjdHgsXG4gICAgICAgICAgICBcIkhvbGQgZG93biBmaXJlIGJ1dHRvbiB0byBkZWNyZWFzZSBzcHJlYWQgYW5kIGluY3JlYXNlIHJhbmdlLlwiICtcbiAgICAgICAgICAgIFwiIE1vc3QgY3JpdGljYWwgaGl0cywgd2hlbiB1c2VkLCB3aWxsIGdvIHVwIDE3NSUuXCIsXG4gICAgICAgICAgICAxMjEsIDUwLCAyMjUsIDEwMCwgVGV4dC5zaGFkb3csIDEpO1xuICAgICAgICBUZXh0LmRyYXdQYXJhZ3JhcGgoY3R4LFxuICAgICAgICAgICAgXCJIb2xkIGRvd24gZmlyZSBidXR0b24gdG8gZGVjcmVhc2Ugc3ByZWFkIGFuZCBpbmNyZWFzZSByYW5nZS5cIiArXG4gICAgICAgICAgICBcIiBNb3N0IGNyaXRpY2FsIGhpdHMsIHdoZW4gdXNlZCwgd2lsbCBnbyB1cCAxNzUlLlwiLFxuICAgICAgICAgICAgMTIwLCA1MCwgMjI1LCAxMDAsIFRleHQuZmlyZSwgMSk7XG4gICAgICAgICAgICAqL1xuXG4gICAgICAgIGxldCBwdHIgPSB0aGlzLmlucHV0LnBvaW50ZXI7XG4gICAgICAgIGlmIChwdHIpIHtcbiAgICAgICAgICAgIFRleHQuZHJhd1JpZ2h0VGV4dChjdHgsIEpTT04uc3RyaW5naWZ5KHB0ciksIHZpZXdwb3J0LndpZHRoIC0gNCwgMjApO1xuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwgMTIwLCAxMjAsIDEpJztcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChwdHIudSAtIDEsIHB0ci52IC0gMSwgMywgMyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgdGhpcy5lbnRpdGllcykge1xuICAgICAgICAgICAgZW50aXR5LmRyYXcodmlld3BvcnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ET1xuICAgICAgICAvLyB0aGlzLnRyYWNlKHZpZXdwb3J0KTtcblxuICAgICAgICAvLyB4XG5cbiAgICAgICAgLypcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDE1MCwgMTI4LCAxMjgsIDEpJztcbiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuXG4gICAgICAgIHRoaXMuc2hhZG93LmN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnY29weSc7XG4gICAgICAgIC8vdGhpcy5zaGFkb3cuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5zaGFkb3cuY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsIDAsIDAsIDAuOTkpJztcbiAgICAgICAgdGhpcy5zaGFkb3cuY3R4LmZpbGxSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuXG4gICAgICAgIHRoaXMuc2hhZG93LmN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnZGVzdGluYXRpb24tb3V0JztcbiAgICAgICAgbGV0IGdyZCA9IHRoaXMuc2hhZG93LmN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChnYW1lLnBsYXllci54LCBnYW1lLnBsYXllci55LCAwLCBnYW1lLnBsYXllci54LCBnYW1lLnBsYXllci55LCAyMDApO1xuICAgICAgICBncmQuYWRkQ29sb3JTdG9wKDAsIFwicmdiYSgwLCAwLCAwLCAxKVwiKTtcbiAgICAgICAgZ3JkLmFkZENvbG9yU3RvcCgwLjUsIFwicmdiYSgwLCAwLCAwLCAwLjk1KVwiKTtcbiAgICAgICAgZ3JkLmFkZENvbG9yU3RvcCgxLCBcInJnYmEoMCwgMCwgMCwgMClcIik7XG4gICAgICAgIHRoaXMuc2hhZG93LmN0eC5maWxsU3R5bGUgPSBncmQ7XG4gICAgICAgIHRoaXMuc2hhZG93LmN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgdGhpcy5zaGFkb3cuY3R4LmFyYyhnYW1lLnBsYXllci54LCBnYW1lLnBsYXllci55LCAyMDAsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgICAgdGhpcy5zaGFkb3cuY3R4LmZpbGwoKTtcblxuICAgICAgICBmb3IgKGxldCBwYXJ0aWNsZSBvZiB0aGlzLnBhcnRpY2xlcy5maWx0ZXIocCA9PiBwIGluc3RhbmNlb2YgUG9ydGFsUGFydGljbGUpKSB7XG4gICAgICAgICAgICBsZXQgciA9IChwYXJ0aWNsZSBhcyBQb3J0YWxQYXJ0aWNsZSkuZWZmZWN0aXZlUmFkaXVzKCk7XG4gICAgICAgICAgICB0aGlzLnNoYWRvdy5jdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2Rlc3RpbmF0aW9uLW91dCc7XG4gICAgICAgICAgICBsZXQgZ3JkID0gdGhpcy5zaGFkb3cuY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KHBhcnRpY2xlLngsIHBhcnRpY2xlLnksIDAsIHBhcnRpY2xlLngsIHBhcnRpY2xlLnksIHIpO1xuICAgICAgICAgICAgZ3JkLmFkZENvbG9yU3RvcCgwLCBcInJnYmEoMCwgMCwgMCwgMC43KVwiKTtcbiAgICAgICAgICAgIGdyZC5hZGRDb2xvclN0b3AoMSwgXCJyZ2JhKDAsIDAsIDAsIDApXCIpO1xuICAgICAgICAgICAgdGhpcy5zaGFkb3cuY3R4LmZpbGxTdHlsZSA9IGdyZDtcbiAgICAgICAgICAgIHRoaXMuc2hhZG93LmN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIHRoaXMuc2hhZG93LmN0eC5hcmMocGFydGljbGUueCwgcGFydGljbGUueSwgciwgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICAgICAgdGhpcy5zaGFkb3cuY3R4LmZpbGwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2hhZG93LmN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnc291cmNlLWF0b3AnO1xuICAgICAgICBmb3IgKGxldCBtb25zdGVyIG9mIHRoaXMubW9uc3RlcnMpIHtcbiAgICAgICAgICAgIHRoaXMuc2hhZG93LmN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIHRoaXMuc2hhZG93LmN0eC5hcmMobW9uc3Rlci54LCBtb25zdGVyLnksIDIwMCwgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLypcbiAgICAgICAgICB3ZSBkb24ndCBldmVuIHVzZSBibG9vZHBsYW5lcyAoc3BsYXR0ZXIgdGVycmFpbikgYW55bW9yZSBiZWNhdXNlIGkganVzdFxuICAgICAgICAgIHJlbmRlciBhbGwgb2YgdGhlbSBhcyBwYXJ0aWNsZXNcbiAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gMSAtIHRoaXMuYmxvb2RwbGFuZXNbMF1bMV0gLyB0aGlzLmJsb29kcGxhbmVzWzBdWzJdO1xuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAwLjk7XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5ibG9vZHBsYW5lc1swXVswXS5jYW52YXMsIDAsIDApO1xuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxIC0gdGhpcy5ibG9vZHBsYW5lc1sxXVsxXSAvIHRoaXMuYmxvb2RwbGFuZXNbMV1bMl07XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5ibG9vZHBsYW5lc1sxXVswXS5jYW52YXMsIDAsIDApO1xuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxIC0gdGhpcy5ibG9vZHBsYW5lc1syXVsxXSAvIHRoaXMuYmxvb2RwbGFuZXNbMl1bMl07XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5ibG9vZHBsYW5lc1syXVswXS5jYW52YXMsIDAsIDApO1xuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxO1xuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICBsZXQgc2hha2VYID0gMCwgc2hha2VZID0gMDtcbiAgICAgICAgdGhpcy5zY3JlZW5zaGFrZXMuZm9yRWFjaChzaGFrZSA9PiB7XG4gICAgICAgICAgICBzaGFrZVggKz0gc2hha2UueDtcbiAgICAgICAgICAgIHNoYWtlWSArPSBzaGFrZS55O1xuICAgICAgICB9KTtcbiAgICAgICAgY3R4LnRyYW5zbGF0ZShzaGFrZVgsIHNoYWtlWSk7XG5cbiAgICAgICAgLy8gbG93LWhhbmdpbmcgZnJ1aXQgaGVyZSAocHJlLXJlbmRlciB0aGUgbWFwIHNpbmNlIGl0IG5ldmVyIGNoYW5nZXMpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAxMDsgaisrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGsgPSAoKGkgKiBpICogMTMpICsgaiAqIDE3KSAlIDk7XG4gICAgICAgICAgICAgICAgU3ByaXRlLmRyYXdTcHJpdGUoY3R4LCBTcHJpdGUudGlsZXNba10sIGkgKiAzMiAtIDE2LCBqICogMzIgLSA4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IHBhcnRpY2xlIG9mIHRoaXMucGFydGljbGVzKSBpZiAoIXBhcnRpY2xlLmZvcmVncm91bmQgJiYgIWdhbWUuc3VwZXJGaXJlZCkgcGFydGljbGUuZHJhdyhjdHgpO1xuXG4gICAgICAgIHRoaXMucGxheWVyLmRyYXcoY3R4KTtcblxuICAgICAgICAvL1RleHQucmVuZGVyVGV4dChjdHgsIDI1MCwgMTIwLCAyMCwgJ1RIRSBFTEVQSEFOVFMnKTtcbiAgICAgICAgLy9UZXh0LnJlbmRlclRleHQoY3R4LCAxMDAsIDIwMCwgNjQsICdBQjAxMjM0NTY3ODknKTtcbiAgICAgICAgLy9UZXh0LnJlbmRlclRleHQoY3R4LCAxMDAsIDE1MCwgMzAsICdBQjAxMjM0NTY3ODknKTtcblxuICAgICAgICBmb3IgKGxldCBtb25zdGVyIG9mIHRoaXMubW9uc3RlcnMpIG1vbnN0ZXIuZHJhdyhjdHgpO1xuXG4gIC8vICAgICAgdmFyIGJ1YmJsZSA9IGN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudChcbiAgICAgICAgLy8gTGV0J3MgYWRkIGJsdWUgbm9pc2U/XG4gICAgICAgIC8qZm9yIChsZXQgaSA9IDEwMDsgaSA8IDMwMDsgaSArPSA1KSB7XG4gICAgICAgICAgICBmb3IobGV0IGogPSAxMDA7IGogPCAxMjA7IGogKz0gNSkge1xuICAgICAgICAgICAgICAgIGxldCBbeCwgeV0gPSBbTWF0aC5yYW5kb20oKSAqIDUsIE1hdGgucmFuZG9tKCkgKiA1XTtcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwwLDAsMC41KSc7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KGkrTWF0aC5mbG9vcih4KSxqK01hdGguZmxvb3IoeSksMSwxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBwYXJ0aWNsZSBvZiB0aGlzLnBhcnRpY2xlcykgaWYgKHBhcnRpY2xlLmZvcmVncm91bmQpIHBhcnRpY2xlLmRyYXcoY3R4KTtcblxuICAgICAgICBjdHguZHJhd0ltYWdlKHRoaXMuc2hhZG93LmNhbnZhcywgMCwgMCk7XG4gICAgICAgIGxldCBub2lzZUxvb3AgPSBNYXRoLmZsb29yKHRoaXMuZnJhbWUgLyA4KSAlIDM7XG4gICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDAuMDY7XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5hcnRpZmFjdHNbbm9pc2VMb29wXS5jYW52YXMsIDAsIDApO1xuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxO1xuXG4gICAgICAgIHRoaXMuaHVkLmRyYXcoY3R4KTtcbiAgICAgICAgdGhpcy5oaXZlLmRyYXcoY3R4KTtcblxuICAgICAgICBjdHgucmVzdG9yZSgpO1xuXG4gICAgICAgIC8qXG4gICAgICAgIGlmICh0aGlzLmZyYW1lICUgSEVBUlRCRUFUID09PSAwIHx8ICh0aGlzLmZyYW1lIC0gMSkgJSBIRUFSVEJFQVQgPT09IDAgfHwgKHRoaXMuZnJhbWUgLSAyKSAlIEhFQVJUQkVBVCA9PT0gMCkge1xuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwgMjU1LCAzMCwgMC4zKSc7XG4gICAgICAgICAgICBjdHguZmlsbFJlY3QoMTAwLCAwLCAxMDAsIDEwKTtcbiAgICAgICAgKi9cblxuICAgICAgICBNZW51LmRyYXcodmlld3BvcnQpO1xuICAgIH1cblxuICAgIGRyYXdNYXplKGN0eCwgbWF6ZSkge1xuICAgICAgICBsZXQgb2Zmc2V0ID0ge1xuICAgICAgICAgICAgeDogdmlld3BvcnQuY2VudGVyLnUgLSB0aGlzLmNhbWVyYS5wb3MueCxcbiAgICAgICAgICAgIHk6IHZpZXdwb3J0LmNlbnRlci52IC0gdGhpcy5jYW1lcmEucG9zLnlcbiAgICAgICAgfTtcbiAgICAgICAgZm9yIChsZXQgciA9IDA7IHIgPCBtYXplLnRpbGVzLmxlbmd0aDsgcisrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBxID0gMDsgcSA8IG1hemUudGlsZXNbcl0ubGVuZ3RoOyBxKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgeCA9IHEgKiAzMiArIG9mZnNldC54LCB5ID0gciAqIDMyICsgb2Zmc2V0Lnk7XG4gICAgICAgICAgICAgICAgaWYgKHggPCAtNTAgfHwgeSA8IC01MCB8fCB4ID4gNTAwIHx8IHkgPiA1MDApIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgbGV0IHNwcml0ZSA9IFNwcml0ZS50aWxlc1ttYXplLnRpbGVzW3JdW3FdICYgMGIxMTExXTtcbiAgICAgICAgICAgICAgICBpZiAoIXNwcml0ZSkgdGhyb3cgbmV3IEVycm9yKGAke3F9LCR7cn0gdGlsZSAke21hemUudGlsZXNbcl1bcV19YCk7XG4gICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShzcHJpdGUuaW1nLCB4LCB5KTtcblxuICAgICAgICAgICAgICAgIHNwcml0ZSA9IFNwcml0ZS53YWxsc1ttYXplLnRpbGVzW3JdW3FdID4+IDRdO1xuICAgICAgICAgICAgICAgIGlmIChzcHJpdGUpIGN0eC5kcmF3SW1hZ2Uoc3ByaXRlLmltZywgeCwgeSk7XG5cbiAgICAgICAgICAgICAgICAvL2lmICh0aGlzLm1hemUuZmxvd2hvbWVbcl1bcV0gPCAxMDApXG4gICAgICAgICAgICAgICAgLy9UZXh0LmRyYXdUZXh0KGN0eCwgU3RyaW5nKHRoaXMubWF6ZS5mbG93aG9tZVtyXVtxXSksIHgsIHkpO1xuXG4gICAgICAgICAgICAgICAgLy8gY29tbWVudGVkIGZvciBzY3JlZW5zaG90czpcbiAgICAgICAgICAgICAgICAvL1RleHQuZHJhd1RleHQoY3R4LCBTdHJpbmcobWF6ZS50aWxlc1tyXVtxXSA+PiA0KSwgeCwgeSk7XG5cbiAgICAgICAgICAgICAgICAvL2N0eC5maWxsUmVjdChxICogNCAtIHRoaXMuY2FtZXJhLnBvcy54ICsgdGhpcy5jZW50ZXIucGl4ZWwudSwgciAqIDQgLSB0aGlzLmNhbWVyYS5wb3MueSArIHRoaXMuY2VudGVyLnBpeGVsLnYsIDQsIDQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcG9pbnRlclhZKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5wdXQucG9pbnRlcikgcmV0dXJuO1xuICAgICAgICByZXR1cm4gdGhpcy51djJ4eSh0aGlzLmlucHV0LnBvaW50ZXIpO1xuICAgIH1cblxuICAgIHh5MnV2KHBvcykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdTogcG9zLnggLSB0aGlzLmNhbWVyYS5wb3MueCArIHZpZXdwb3J0LmNlbnRlci51LFxuICAgICAgICAgICAgdjogcG9zLnkgLSB0aGlzLmNhbWVyYS5wb3MueSArIHZpZXdwb3J0LmNlbnRlci52XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdXYyeHkocG9zKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBwb3MudSAtIHZpZXdwb3J0LmNlbnRlci51ICsgdGhpcy5jYW1lcmEucG9zLngsXG4gICAgICAgICAgICB5OiBwb3MudiAtIHZpZXdwb3J0LmNlbnRlci52ICsgdGhpcy5jYW1lcmEucG9zLnlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB0cmFjZSh2aWV3cG9ydCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5wdXQucG9pbnRlcikgcmV0dXJuO1xuICAgICAgICBsZXQgcCA9IHRoaXMucGxheWVyO1xuICAgICAgICBmb3IgKGxldCBlIG9mIHRoaXMuZW50aXRpZXMpIHtcbiAgICAgICAgICAgIGlmIChwID09PSBlKSBjb250aW51ZTtcbiAgICAgICAgICAgIHZpZXdwb3J0LmN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIHZpZXdwb3J0LmN0eC5zdHJva2VTdHlsZSA9ICdyZWQnO1xuICAgICAgICAgICAgdmlld3BvcnQuY3R4Lm1vdmVUbyh2aWV3cG9ydC5jZW50ZXIudSAtIHRoaXMuY2FtZXJhLnBvcy54ICsgcC5wb3MueCxcbiAgICAgICAgICAgICAgICB2aWV3cG9ydC5jZW50ZXIudiAtIHRoaXMuY2FtZXJhLnBvcy55ICsgcC5wb3MueSk7XG4gICAgICAgICAgICB2aWV3cG9ydC5jdHgubGluZVRvKHRoaXMuaW5wdXQucG9pbnRlci51LCB0aGlzLmlucHV0LnBvaW50ZXIudik7XG4gICAgICAgICAgICB2aWV3cG9ydC5jdHguc3Ryb2tlKCk7XG5cbiAgICAgICAgICAgIHRoaXMucmF5dHJhY2UocC5wb3MsIHRoaXMucG9pbnRlclhZKCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gaHR0cHM6Ly93d3cuZ2VuZXJpY2dhbWVkZXYuY29tL2dlbmVyYWwvc2hvb3RpbmctcmF5cy10aHJvdWdoLXRpbGVtYXBzL1xuICAgIHJheXRyYWNlKHAxLCBwMikge1xuICAgICAgICBsZXQgcmVkZ3JlZW4gPSAnZ3JlZW4nO1xuXG4gICAgICAgIGZvciAobGV0IHsgcSwgciB9IG9mIEcudGlsZXNIaXRCZXR3ZWVuKHAxLCBwMikpIHtcbiAgICAgICAgICAgIGxldCBvZmZzZXQgPSB7XG4gICAgICAgICAgICAgICAgeDogdmlld3BvcnQuY2VudGVyLnUgLSB0aGlzLmNhbWVyYS5wb3MueCxcbiAgICAgICAgICAgICAgICB5OiB2aWV3cG9ydC5jZW50ZXIudiAtIHRoaXMuY2FtZXJhLnBvcy55XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKCFnYW1lLm1hemUubWF6ZVtyXVtxXSkgcmVkZ3JlZW4gPSAncmVkJztcbiAgICAgICAgICAgIGxldCBoaWdobGlnaHQgPSByZWRncmVlbiA9PT0gJ3JlZCcgPyAncmdiYSgyNTUsIDEyOCwgMTI4LCAwLjUpJyA6ICdyZ2JhKDEyOCwgMjU1LCAxMjgsIDAuNSknO1xuICAgICAgICAgICAgdmlld3BvcnQuY3R4LmZpbGxTdHlsZSA9IGhpZ2hsaWdodDtcbiAgICAgICAgICAgIHZpZXdwb3J0LmN0eC5zdHJva2VTdHlsZSA9IGhpZ2hsaWdodDtcbiAgICAgICAgICAgIHZpZXdwb3J0LmN0eC5maWxsUmVjdChxICogMzIgKyBvZmZzZXQueCwgciAqIDMyICsgb2Zmc2V0LnksIDMyLCAzMik7XG4gICAgICAgICAgICB2aWV3cG9ydC5jdHguc3Ryb2tlUmVjdChxICogMzIgKyBvZmZzZXQueCwgciAqIDMyICsgb2Zmc2V0LnksIDMyLCAzMik7XG4gICAgICAgICAgICBpZiAocmVkZ3JlZW4gPT09ICdyZWQnKSBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRyYXdIdWQoY3R4KSB7XG4gICAgICAgIGxldCBocCA9IEcuY2xhbXAoZ2FtZS5wbGF5ZXIuaHAsIDAsIDEwMCk7XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoU3ByaXRlLmh1ZF9oZWFsdGhfZnJhbWUuaW1nLCAyLCAyKTtcbiAgICAgICAgY3R4LmRyYXdJbWFnZShTcHJpdGUuaHVkX2hlYWx0aF9maWxsLmltZywgMCwgMCwgaHAgKyA4LCA4LCAyLCAyLCBocCArIDgsIDgpO1xuXG4gICAgICAgIGxldCBzcHJpdGUgPSBTcHJpdGUuaHVkX3NoZWxsc19mdWxsO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdhbWUucGxheWVyLnNoZWxsc01heDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSArIDEgPiBnYW1lLnBsYXllci5zaGVsbHNMZWZ0KSBzcHJpdGUgPSBTcHJpdGUuaHVkX3NoZWxsc19lbXB0eTtcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2Uoc3ByaXRlLmltZywgMTUgKyA2ICogaSwgMTApO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgZ2FtZSA9IG5ldyBHYW1lKCk7XG4iLCJpbXBvcnQgeyBnYW1lIH0gZnJvbSAnLi9HYW1lJztcblxuLyoqXG4gKiBDcmVhdGUgYW5kIGxhdW5jaCBnYW1lLlxuICovXG5nYW1lLmluaXQoKS50aGVuKCgpID0+IGdhbWUuc3RhcnQoKSk7XG4iXSwibmFtZXMiOlsiQyIsIkciXSwibWFwcGluZ3MiOiI7OztJQUVPLE1BQU0sU0FBUyxHQUFHO0lBQ3pCLElBQUksRUFBRSxFQUFFLENBQUM7SUFDVCxJQUFJLEdBQUcsRUFBRSxJQUFJLENBQUMsRUFBRSxHQUFHLEdBQUc7SUFDdEIsSUFBSSxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUU7SUFDakIsSUFBSSxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRyxHQUFHO0lBQ3ZCLElBQUksSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQztBQUNyQjtJQUNBO0lBQ0EsSUFBSSxVQUFVLEVBQUUsRUFBRTtJQUNsQixJQUFJLFdBQVcsRUFBRSxFQUFFO0FBQ25CO0lBQ0E7SUFDQSxJQUFJLFdBQVcsYUFBYSxDQUFDO0lBQzdCLElBQUksV0FBVyxhQUFhLENBQUM7SUFDN0IsSUFBSSxVQUFVLGNBQWMsQ0FBQztJQUM3QixJQUFJLFVBQVUsY0FBYyxDQUFDO0FBQzdCO0lBQ0EsSUFBSSxtQkFBbUIsRUFBRSxDQUFDO0lBQzFCLENBQUM7O0lDbEJEO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDTyxNQUFNLE1BQU0sQ0FBQztJQUNwQixFQUFFLFdBQVcsQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFO0lBQzdCLElBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ25ELElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQzlCLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQ2hDLElBQUksSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUM1QyxHQUFHO0lBQ0g7O0lDZEE7SUFDQTtJQUNBO0FBR0E7SUFDTyxNQUFNLFdBQVc7SUFDeEI7SUFDQSxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDeEMsRUFBRSxRQUFRLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQ3pDLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUMxQyxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDMUMsRUFBRSxRQUFRLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzFDLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUMxQyxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDMUMsRUFBRSxRQUFRLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzFDLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUMzQyxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDM0MsRUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzVDLEVBQUUsTUFBTSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUN2QyxFQUFFLGVBQWUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDaEQsRUFBRSxlQUFlLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQ2xELEVBQUUsWUFBWSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUMzQyxFQUFFLFlBQVksRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDM0MsRUFBRSxVQUFVLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzNDLEVBQUUsVUFBVSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUM1QyxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDekMsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzFDLEVBQUUsV0FBVyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUM3QyxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDMUMsRUFBRSxRQUFRLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzNDLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUM1QyxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDNUMsRUFBRSxRQUFRLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzVDLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUM1QyxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDNUMsRUFBRSxRQUFRLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzVDLEVBQUUsU0FBUyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUMzQyxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDMUMsRUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzNDLEVBQUUsWUFBWSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRTtJQUMvQyxFQUFFLFlBQVksRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUU7SUFDaEQsRUFBRSxZQUFZLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFO0lBQ2hELEVBQUUsWUFBWSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRTtJQUNqRCxFQUFFLFlBQVksRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUU7SUFDakQsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQ3pDLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUMxQyxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDMUMsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzFDLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUMzQyxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDM0MsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzNDLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUMzQyxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDM0MsRUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzNDLEVBQUUsU0FBUyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUM1QyxFQUFFLFNBQVMsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDNUMsRUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzVDLEVBQUUsU0FBUyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUM3QyxFQUFFLFNBQVMsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDN0MsRUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzdDLEVBQUUsU0FBUyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFO0lBQy9DO0lBQ0E7O0lDekRBLE1BQU0sZUFBZSxHQUFHLGFBQWEsQ0FBQztBQUN0QztJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDTyxNQUFNLE1BQU0sQ0FBQztJQUNwQjtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsRUFBRSxPQUFPLFVBQVUsQ0FBQyxHQUFHLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDdkMsSUFBSSxHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3hFLEdBQUc7QUFDSDtJQUNBLEVBQUUsT0FBTyxrQkFBa0IsQ0FBQyxRQUFRLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUU7SUFDcEUsSUFBSSxRQUFRLENBQUMsR0FBRyxDQUFDLFNBQVM7SUFDMUIsTUFBTSxNQUFNLENBQUMsR0FBRztJQUNoQixNQUFNLFNBQVMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDckUsTUFBTSxTQUFTLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3JFLEtBQUssQ0FBQztJQUNOLEdBQUc7QUFDSDtJQUNBO0lBQ0E7SUFDQTtJQUNBLEVBQUUsT0FBTyxlQUFlLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQzVDLElBQUksR0FBRyxDQUFDLFdBQVcsR0FBRyxzQkFBc0IsQ0FBQztJQUM3QyxJQUFJLEdBQUcsQ0FBQyxVQUFVO0lBQ2xCLE1BQU0sQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM1QyxNQUFNLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUMsTUFBTSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekMsTUFBTSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekMsS0FBSyxDQUFDO0lBQ04sR0FBRztBQUNIO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsRUFBRSxPQUFPLFVBQVUsQ0FBQyxHQUFHLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDdkMsSUFBSSxJQUFJLE1BQU0sQ0FBQyxJQUFJLEVBQUU7SUFDckIsTUFBTSxHQUFHLENBQUMsV0FBVyxHQUFHLHNCQUFzQixDQUFDO0lBQy9DLE1BQU0sR0FBRyxDQUFDLFVBQVU7SUFDcEIsUUFBUSxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzlDLFFBQVEsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM5QyxRQUFRLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMzQyxRQUFRLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMzQyxPQUFPLENBQUM7SUFDUixLQUFLO0lBQ0wsR0FBRztBQUNIO0lBQ0EsRUFBRSxPQUFPLGlCQUFpQixDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQ3pDLElBQUksSUFBSSxFQUFFLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDakQsSUFBSSxJQUFJLEVBQUUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNqRCxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNwQyxJQUFJLE9BQU87SUFDWCxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQ3hFLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7SUFDeEUsTUFBTSxDQUFDO0lBQ1AsS0FBSyxDQUFDO0lBQ04sR0FBRztBQUNIO0lBQ0EsRUFBRSxPQUFPLHFCQUFxQixDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQzdDLElBQUksT0FBTyxJQUFJLENBQUMsbUJBQW1CLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN0RSxHQUFHO0FBQ0g7SUFDQSxFQUFFLE9BQU8sZ0JBQWdCLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDeEMsSUFBSSxPQUFPLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3RFLEdBQUc7QUFDSDtJQUNBLEVBQUUsT0FBTyxtQkFBbUIsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDaEQsSUFBSSxPQUFPO0lBQ1gsTUFBTSxDQUFDLEVBQUUsQ0FBQztJQUNWLE1BQU0sQ0FBQyxFQUFFLENBQUM7SUFDVixNQUFNLENBQUMsRUFBRTtJQUNULFFBQVEsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEVBQUU7SUFDMUQsUUFBUSxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsRUFBRTtJQUMxRCxRQUFRLEVBQUUsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxFQUFFO0lBQzFELFFBQVEsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEVBQUU7SUFDMUQsT0FBTztJQUNQLEtBQUssQ0FBQztJQUNOLEdBQUc7SUFDSCxDQUFDO0FBQ0Q7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNPLE1BQU0sTUFBTSxDQUFDO0lBQ3BCLEVBQUUsYUFBYSxJQUFJLEdBQUc7SUFDdEIsSUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztBQUNyQjtJQUNBO0lBQ0EsSUFBSSxNQUFNLENBQUMsSUFBSSxHQUFHLE1BQU0sSUFBSSxDQUFDLFVBQVUsQ0FBQyxlQUFlLEVBQUUsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzdFO0lBQ0E7SUFDQSxJQUFJLE1BQU0sQ0FBQyxNQUFNLEdBQUcsTUFBTSxJQUFJLENBQUMsVUFBVSxDQUFDLGVBQWUsRUFBRSxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDbEY7SUFDQTtJQUNBLElBQUksTUFBTSxDQUFDLE1BQU0sR0FBRyxNQUFNLElBQUksQ0FBQyxVQUFVLENBQUMsZUFBZSxFQUFFLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUNqRjtJQUNBO0lBQ0EsSUFBSSxNQUFNLENBQUMsT0FBTyxHQUFHLE1BQU0sSUFBSSxDQUFDLFVBQVUsQ0FBQyxlQUFlLEVBQUUsV0FBVyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ3BGLElBQUksTUFBTSxDQUFDLFlBQVksR0FBRyxNQUFNLElBQUksQ0FBQyxVQUFVLENBQUMsZUFBZSxFQUFFLFdBQVcsQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUN6RixJQUFJLE1BQU0sQ0FBQyxVQUFVLEdBQUcsTUFBTSxJQUFJLENBQUMsVUFBVSxDQUFDLGVBQWUsRUFBRSxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDckY7SUFDQTtJQUNBLElBQUksTUFBTSxDQUFDLGdCQUFnQixHQUFHLE1BQU0sSUFBSSxDQUFDLFVBQVUsQ0FBQyxlQUFlLEVBQUUsV0FBVyxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQy9GLElBQUksTUFBTSxDQUFDLGVBQWUsR0FBRyxNQUFNLElBQUksQ0FBQyxVQUFVLENBQUMsZUFBZSxFQUFFLFdBQVcsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUM5RixJQUFJLE1BQU0sQ0FBQyxnQkFBZ0IsR0FBRyxNQUFNLElBQUksQ0FBQyxVQUFVLENBQUMsZUFBZSxFQUFFLFdBQVcsQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUNsRyxJQUFJLE1BQU0sQ0FBQyxlQUFlLEdBQUcsTUFBTSxJQUFJLENBQUMsVUFBVSxDQUFDLGVBQWUsRUFBRSxXQUFXLENBQUMsZUFBZSxDQUFDLENBQUM7QUFDakc7SUFDQTtJQUNBLElBQUksTUFBTSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7SUFDdEIsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDQSxTQUFDLENBQUMsV0FBVyxDQUFDLEdBQUcsTUFBTSxJQUFJLENBQUMsVUFBVSxDQUFDLGVBQWUsRUFBRSxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDaEcsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDQSxTQUFDLENBQUMsVUFBVSxDQUFDLEdBQUcsTUFBTSxJQUFJLENBQUMsVUFBVSxDQUFDLGVBQWUsRUFBRSxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDL0YsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDQSxTQUFDLENBQUMsVUFBVSxDQUFDLEdBQUcsTUFBTSxJQUFJLENBQUMsVUFBVSxDQUFDLGVBQWUsRUFBRSxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDL0Y7SUFDQTtJQUNBLElBQUksSUFBSSxJQUFJLEdBQUcsTUFBTSxJQUFJLENBQUMsVUFBVSxDQUFDLGVBQWUsRUFBRSxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDN0UsSUFBSSxJQUFJLElBQUksR0FBRyxNQUFNLElBQUksQ0FBQyxVQUFVLENBQUMsZUFBZSxFQUFFLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUM3RSxJQUFJLElBQUksT0FBTyxHQUFHLE1BQU0sSUFBSSxDQUFDLFVBQVUsQ0FBQyxlQUFlLEVBQUUsV0FBVyxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ2hGLElBQUksSUFBSSxNQUFNLEdBQUcsTUFBTSxJQUFJLENBQUMsVUFBVSxDQUFDLGVBQWUsRUFBRSxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDL0U7SUFDQSxJQUFJLE1BQU0sQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO0lBQ3RCLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUM7SUFDL0IsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQztJQUMvQixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDO0lBQy9CLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsR0FBRyxJQUFJLENBQUM7QUFDdkM7SUFDQSxJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDO0lBQy9CLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUM7SUFDL0IsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQztJQUMvQixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRUEsU0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDN0Y7SUFDQSxJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDO0lBQy9CLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUM7SUFDL0IsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQztJQUMvQixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRUEsU0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDNUY7SUFDQSxJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLEdBQUcsSUFBSSxDQUFD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LENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQ3ZDLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQztJQUN4QyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDdEMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDO0lBQ3RDLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQztJQUNuQyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDckMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ3JDLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztJQUN0QyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7SUFDbkMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ3JDLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNyQyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDdEMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ3JDLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNyQyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7SUFDdkMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO0FBQ3ZDO0lBQ0E7SUFDQSxJQUFJLElBQUksQ0FBQyxlQUFlLEdBQUc7SUFDM0IsTUFBTSxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQ2hDLE1BQU0sRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQ2hDLE1BQU0sRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUNoQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDaEMsTUFBTSxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDaEMsTUFBTSxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUNoQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtJ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QUFJLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDO0lBQzFDLElBQUksSUFBSSxRQUFRLEdBQUcsS0FBSyxHQUFHLEdBQUcsQ0FBQztJQUMvQixJQUFJLElBQUksU0FBUyxHQUFHLE1BQU0sR0FBRyxHQUFHLENBQUM7QUFDakM7SUFDQSxJQUFJLElBQUksS0FBSyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxLQUFLLFFBQVEsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sS0FBSyxTQUFTLEVBQUU7SUFDckYsTUFBTSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxRQUFRLENBQUM7SUFDbkMsTUFBTSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUM7QUFDckM7SUFDQSxNQUFNLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsR0FBRyxVQUFVLEVBQUUsU0FBUyxHQUFHLFdBQVcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQ3BHLE1BQU0sSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM3RCxNQUFNLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDL0QsTUFBTSxJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDdEYsTUFBTSxJ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T0FBTyxJQUFJLE9BQU8sR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFO0lBQ25ELE1BQU0sT0FBTyxJQUFJLFFBQVEsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDbkMsTUFBTSxPQUFPLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNuQyxLQUFLO0lBQ0wsSUFBSSxPQUFPLE9BQU8sSUFBSSxPQUFPLEdBQUcsUUFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRTtJQUNuRCxNQUFNLE9BQU8sSUFBSSxRQUFRLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ25DLE1BQU0sT0FBTyxJQUFJLFFBQVEsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDbkMsS0FBSztBQUNMO0lBQ0EsSUFBSSxNQUFNLE1BQU0sR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDNUUsSUFBSSxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLElBQUksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ25HLElBQUksT0FBTyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLFNBQVMsR0FBRyxNQUFNLENBQUM7SUFDdEQsR0FBRztBQUNIO0lBQ0EsRUFBRSxLQUFLLENBQUMsR0FBRyxFQUFFO0lBQ2IsSUFBSSxPQUFPLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBR0EsU0FBQyxDQUFDLFVBQVUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBR0EsU0FBQyxDQUFDLFdBQVcsSUFBSSxDQUFDLEVBQUUsQ0FBQztJQUM3RSxHQUFHO0FBQ0g7SUFDQSxFQUFFLEtBQUssQ0FBQyxHQUFHLEVBQUU7SUFDYixJQUFJLE9BQU8sRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBR0EsU0FBQyxDQUFDLFVBQVUsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBR0EsU0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQ2pFLEdBQUc7QUFDSDtJQUNBLEVBQUUsS0FBSyxDQUFDLEdBQUcsRUFBRTtJQUNiLElBQUksT0FBTztJQUNYLE1BQU0sQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUN0RCxNQUFNLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdEQsS0FBSyxDQUFDO0lBQ04sR0FBRztBQUNIO0lBQ0EsRUFBRSxLQUFLLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUU7SUFDekIsSUFBSSxPQUFPLEtBQUssR0FBRyxHQUFHLEdBQUcsR0FBRyxJQUFJLEtBQUssR0FBRyxHQUFHLEdBQUcsR0FBRyxHQUFHLEtBQUssQ0FBQyxDQUFDO0lBQzNELEdBQUc7QUFDSDtJQUNBO0lBQ0E7SUFDQSxFQUFFLCtCQUErQixDQUFDLFFBQVEsRUFBRSxNQUFNLEVBQUU7SUFDcEQsSUFBSSxJQUFJLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxHQUFHLE1BQU0sR0FBRyxRQUFRLENBQUM7QUFDN0M7SUFDQSxJQUFJLElBQUksSUFBSSxLQUFLLENBQUMsRUFBRTtJQUNwQixRQUFRLElBQUksR0FBRyxHQUFHLENBQUM7SUFDbkIsUUFBUSxJQUFJLEdBQUcsQ0FBQyxRQUFRLENBQUM7SUFDekIsS0FBSyxNQUFNLElBQUksSUFBSSxHQUFHLENBQUMsRUFBRTtJQUN6QixRQUFRLElBQUksR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDO0lBQ3hCLFFBQVEsSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDO0lBQzlELEtBQUssTUFBTTtJQUNYLFFBQVEsSUFBSSxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQztJQUN6QixRQUFRLElBQUksR0FBRyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxJQUFJLElBQUksQ0FBQztJQUN4RCxLQUFLO0FBQ0w7SUFDQSxJQUFJLE9BQU8sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUM7SUFDMUIsR0FBRztBQUNIO0lBQ0E7SUFDQSxFQUFFLENBQUMsZUFBZSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUU7SUFDM0IsSUFBSSxJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHQSxTQUFDLENBQUMsVUFBVSxFQUFFLE1BQU0sR0FBRyxFQUFFLENBQUMsQ0FBQyxHQUFHQSxTQUFDLENBQUMsV0FBVyxDQUFDO0lBQ3BFLElBQUksSUFBSSxJQUFJLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBR0EsU0FBQyxDQUFDLFVBQVUsRUFBRSxJQUFJLEdBQUcsRUFBRSxDQUFDLENBQUMsR0FBR0EsU0FBQyxDQUFDLFdBQVcsQ0FBQztJQUNoRSxJQUFJLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUN0SDtJQUNBLElBQUksTUFBTSxFQUFFLENBQUMsRUFBRSxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztBQUNqRDtJQUNBO0lBQ0EsSUFBSSxJQUFJLFNBQVMsR0FBRyxDQUFDLEVBQUU7SUFDdkIsTUFBTSxJQUFJLENBQUMsR0FBRyxNQUFNLEVBQUUsQ0FBQyxHQUFHLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3hDLE1BQU0sSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsTUFBTSxDQUFDLENBQUM7SUFDM0MsTUFBTSxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUMsQ0FBQztJQUMzQyxNQUFNLElBQUksYUFBYSxHQUFHLFFBQVEsQ0FBQywrQkFBK0IsQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDakYsTUFBTSxJQUFJLGFBQWEsR0FBRyxRQUFRLENBQUMsK0JBQStCLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ2pGO0lBQ0EsTUFBTSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUM5QyxRQUFRLElBQUksYUFBYSxDQUFDLElBQUksR0FBRyxhQUFhLENBQUMsSUFBSSxFQUFFO0lBQ3JELFVBQVUsQ0FBQyxJQUFJLEtBQUssQ0FBQztJQUNyQixVQUFVLENBQUMsSUFBSSxLQUFLLENBQUM7SUFDckIsVUFBVSxhQUFhLENBQUMsSUFBSSxJQUFJLGFBQWEsQ0FBQyxJQUFJLENBQUM7SUFDbkQsU0FBUyxNQUFNO0lBQ2YsVUFBVSxDQUFDLElBQUksS0FBSyxDQUFDO0lBQ3JCLFVBQVUsQ0FBQyxJQUFJLEtBQUssQ0FBQztJQUNyQixVQUFVLGFBQWEsQ0FBQyxJQUFJLElBQUksYUFBYSxDQUFDLElBQUksQ0FBQztJQUNuRCxTQUFTO0lBQ1QsUUFBUSxNQUFNLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7SUFDeEMsT0FBTztJQUNQLEtBQUs7QUFDTDtJQUNBLElBQUksSUFBSSxTQUFTLEdBQUcsQ0FBQyxFQUFFO0lBQ3ZCLE1BQU0sTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztJQUMvQyxLQUFLO0lBQ0wsR0FBRztBQUNIO0lBQ0EsRUFBRSxDQUFDLFVBQVUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQ3BCLElBQUksT0FBTyxRQUFRLENBQUMsZUFBZSxDQUFDLENBQUMsRUFBRSxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2pFLEdBQUc7QUFDSDtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsRUFBRSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sRUFBRTtJQUM1QixJQUFJLEtBQUssSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHQSxTQUFDLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxHQUFHQSxTQUFDLENBQUMsV0FBVyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDaEcsTUFBTSxLQUFLLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBR0EsU0FBQyxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsR0FBR0EsU0FBQyxDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQ2hHLFFBQVEsTUFBTSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztJQUN2QixPQUFPO0lBQ1AsS0FBSztJQUNMLEdBQUc7QUFDSDtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLEVBQUUsQ0FBQyxxQkFBcUIsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRTtJQUNwQyxJQUFJLElBQUksTUFBTSxHQUFHO0lBQ2pCLE1BQU0sRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFO0lBQ2xFLE1BQU0sRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFO0lBQ2xFLEtBQUssQ0FBQztJQUNOLElBQUksT0FBTyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDN0MsR0FBRztBQUNIO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsRUFBRSxDQUFDLGdCQUFnQixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQzdCLElBQUksT0FBTyxRQUFRLENBQUMscUJBQXFCLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDaEYsR0FBRztBQUNIO0lBQ0E7SUFDQSxFQUFFLHdCQUF3QixDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRTtJQUM5QztJQUNBO0lBQ0E7SUFDQSxJQUFJLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDOUMsUUFBUSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM5QyxRQUFRLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzlDLFFBQVEsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDOUMsTUFBTSxPQUFPO0FBQ2I7SUFDQSxJQUFJLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN6QixJQUFJLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN6QixJQUFJLElBQUksS0FBSyxJQUFJLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUN4QyxJQUFJLElBQUksS0FBSyxJQUFJLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUN4QyxJQUFJLElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQztJQUMzQixJQUFJLElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQztBQUMzQjtJQUNBO0lBQ0E7SUFDQSxJQUFJLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO0lBQzFELE1BQU0sSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLElBQUksS0FBSyxDQUFDO0lBQ3JELE1BQU0sSUFBSSxLQUFLLElBQUksQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLEVBQUU7SUFDcEMsUUFBUSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsS0FBSyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDbkMsUUFBUSxJQUFJLEVBQUUsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO0lBQ3BELFVBQVUsT0FBTyxFQUFFLENBQUMsRUFBRSxFQUFFLEdBQUcsS0FBSyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztJQUNuRyxTQUFTO0lBQ1QsT0FBTztJQUNQLE1BQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUIsS0FBSztJQUNMO0lBQ0EsSUFBSSxJQUFJLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRTtJQUMxRCxNQUFNLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ3RELE1BQU0sSUFBSSxLQUFLLElBQUksQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLEVBQUU7SUFDcEMsUUFBUSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsS0FBSyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDbkMsUUFBUSxJQUFJLEVBQUUsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO0lBQ3BELFVBQVUsT0FBTyxFQUFFLENBQUMsRUFBRSxFQUFFLEdBQUcsS0FBSyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUM7SUFDbEcsU0FBUztJQUNULE9BQU87SUFDUCxNQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzVCLEtBQUs7SUFDTDtJQUNBLElBQUksSUFBSSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7SUFDMUQsTUFBTSxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUM7SUFDckQsTUFBTSxJQUFJLEtBQUssSUFBSSxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsRUFBRTtJQUNwQyxRQUFRLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxLQUFLLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNuQyxRQUFRLElBQUksRUFBRSxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7SUFDcEQsVUFBVSxPQUFPLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxHQUFHLEtBQUssR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQ25HLFNBQVM7SUFDVCxPQUFPO0lBQ1AsTUFBTSxPQUFPLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM1QixLQUFLO0lBQ0w7SUFDQSxJQUFJLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO0lBQzFELE1BQU0sSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDdEQsTUFBTSxJQUFJLEtBQUssSUFBSSxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsRUFBRTtJQUNwQyxRQUFRLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxLQUFLLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNuQyxRQUFRLElBQUksRUFBRSxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7SUFDcEQsVUFBVSxPQUFPLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxHQUFHLEtBQUssR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNsRyxTQUFTO0lBQ1QsT0FBTztJQUNQLE1BQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUIsS0FBSztBQUNMO0lBQ0E7SUFDQSxJQUFJLElBQUksT0FBTyxLQUFLLFFBQVEsSUFBSSxPQUFPLEtBQUssUUFBUSxFQUFFLE9BQU87QUFDN0Q7SUFDQTtJQUNBLElBQUksSUFBSSxPQUFPLEtBQUssUUFBUSxJQUFJLE9BQU8sS0FBSyxRQUFRLEVBQUU7SUFDdEQsTUFBTSxPQUFPLEdBQUcsRUFBRSxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbkQsS0FBSztJQUNMLElBQUksSUFBSSxPQUFPLEtB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LENBQUMsRUFBRSxJQUFJLEVBQUUsR0FBRyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDekMsTUFBTSxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLEVBQUUsU0FBUztJQUN6QyxNQUFNLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQztJQUM1QixNQUFNLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7SUFDdkYsTUFBTSxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBQ3ZGLE1BQU0sSUFBSSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUN2RixNQUFNLElBQUksSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7SUFDdkYsS0FBSztJQUNMLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUN4QyxJQUFJLE9BQU8sTUFBTSxDQUFDO0lBQ2xCLEdBQUc7QUFDSDtJQUNBLEVBQUUsT0FBTyxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFO0lBQ2hDLElBQUksSUFBSSxFQUFFLEdBQUcsT0FBTyxLQUFLLEtBQUssVUFBVSxHQUFHLEtBQUssR0FBRyxNQUFNLEtBQUssQ0FBQztJQUMvRCxJQUFJLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsRUFBRSxNQUFNLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNuRixHQUFHO0FBQ0g7SUFDQSxFQUFFLGNBQWMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQ3ZCLElBQUksT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbEMsR0FBRztJQUNILENBQUM7O0lDbFlEO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNPLE1BQU0sTUFBTSxHQUFHO0lBQ3RCLElBQUksS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUN0QixRQUFRLE9BQU8sTUFBTTtJQUNyQixZQUFZLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDbkQsWUFBWSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2hDLFlBQVksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzVCLFlBQVksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2pDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0lBQ3JDLFlBQVksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzFCLFlBQVksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzFCLFlBQVksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzFCLFlBQVksT0FBTyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksVUFBVSxDQUFDO0lBQzFDLFNBQVM7SUFDVCxLQUFLO0FBQ0w7SUFDQSxJQUFJLEtBQUssQ0FBQyxHQUFHLEVBQUU7SUFDZixRQUFRLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNqQixRQUFRLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsVUFBVSxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDdEUsWUFBWSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUM3RCxZQUFZLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDbkMsU0FBUztBQUNUO0lBQ0EsUUFBUSxPQUFPLE1BQU07SUFDckIsWUFBWSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUNwRCxZQUFZLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQ3BELFlBQVksT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQztJQUN6QyxTQUFTO0lBQ1QsS0FBSztBQUNMO0lBQ0EsSUFBSSxJQUFJLENBQUMsR0FBRyxFQUFFO0lBQ2QsUUFBUSxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3JDLFFBQVEsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxNQUFNLEVBQUUsRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDO0FBQ3hFO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsUUFBUSxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsS0FBSztJQUM3QixZQUFZLElBQUksT0FBTyxHQUFHLEtBQUssUUFBUSxJQUFJLE9BQU8sR0FBRyxLQUFLLFFBQVEsRUFBRTtJQUNwRSxnQkFBZ0IsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxJQUFJLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztJQUNoRSxhQUFhLE1BQU07SUFDbkIsZ0JBQWdCLE9BQU8sTUFBTSxFQUFFLENBQUM7SUFDaEMsYUFBYTtJQUNiLFNBQVMsQ0FBQztJQUNWLEtBQUs7SUFDTCxDQUFDOztJQzNDRCxNQUFNLEtBQUssR0FBRztJQUNkLElBQUksRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDbEIsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFO0lBQ25CLElBQUksRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDbEIsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQ25CLElBQUksRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDbEIsQ0FBQyxDQUFDO0FBQ0Y7SUFDQSxNQUFNLFNBQVMsR0FBRztJQUNsQixJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7SUFDbkIsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUNsQixJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDbkIsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUNsQixDQUFDLENBQUM7QUFDRjtJQUNBO0lBQ0E7SUFDQTtJQUNPLE1BQU0sYUFBYSxHQUFHO0lBQzdCLElBQUksY0FBYyxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQy9CLFFBQVEsT0FBTyxLQUFLLENBQUMsTUFBTSxDQUFDLEdBQUcsSUFBSTtJQUNuQyxZQUFZLElBQUksQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2xELFlBQVksT0FBTyxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxJQUFJLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDbEcsU0FBUyxDQUFDLENBQUM7SUFDWCxLQUFLO0FBQ0w7SUFDQSxJQUFJLG9CQUFvQixDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFO0lBQ3hFLFFBQVEsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDM0QsUUFBUSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM1RCxRQUFRLElBQUksS0FBSyxHQUFHLFNBQVMsQ0FBQztBQUM5QjtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxRQUFRLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDekMsWUFBWSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQzVDLGdCQUFnQixJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLFVBQVUsR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDeEUsZ0JBQWdCLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLE9BQU87SUFDL0MsYUFBYTtJQUNiLFNBQVM7SUFDVCxRQUFRLElBQUksS0FBSyxJQUFJLElBQUksRUFBRSxHQUFHLElBQUksRUFBRSxPQUFPO0FBQzNDO0lBQ0EsUUFBUSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQ3pDLFlBQVksS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUM1QyxnQkFBZ0IsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDO0lBQzVDLGFBQWE7SUFDYixTQUFTO0FBQ1Q7SUFDQSxRQUFRLE9BQU8sRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLENBQUM7SUFDbkQsS0FBSztBQUNMO0lBQ0EsSUFBSSxTQUFTLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLFVBQVUsRUFBRTtJQUN0RCxRQUFRLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDO0lBQy9DLFFBQVEsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxHQUFHLFVBQVUsQ0FBQztBQUMxQztJQUNBLFFBQVEsT0FBTyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtJQUNqQztJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsWUFBWSxJQUFJLEdBQUcsR0FBRyxJQUFJLEVBQUUsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsRUFBRSxLQUFLLENBQUMsTUFBTSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDL0UsWUFBWSxJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDbEMsWUFBWSxJQUFJLEdBQUcsS0FBSyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtJQUMxQyxnQkFBZ0IsS0FBSyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDckMsZ0JBQWdCLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDakMsYUFBYTtBQUNiO0lBQ0EsWUFBWSxJQUFJLFFBQVEsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLEdBQUcsSUFBSTtJQUNuRCxnQkFBZ0IsT0FBTyxhQUFhLENBQUMsY0FBYyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQztJQUN2RyxhQUFhLENBQUMsQ0FBQztJQUNmO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBLFlBQVksSUFBSSxRQUFRLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtJQUN2QyxnQkFBZ0IsS0FBSyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3JELGFBQWEsTUFBTTtJQUNuQixnQkFBZ0IsSUFBSSxNQUFNLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDaEUsZ0JBQWdCLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxVQUFVLENBQUM7SUFDeEUsZ0JBQWdCLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQzNFLGdCQUFnQixPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ25DLGFBQWE7SUFDYixTQUFTO0lBQ1QsS0FBSztBQUNMO0lBQ0EsSUFBSSxlQUFlLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRTtJQUNoQyxRQUFRLElBQUksVUFBVSxHQUFHLEVBQUUsQ0FBQztJQUM1QixRQUFRLElBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQztBQUN2QjtJQUNBLFFBQVEsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQ2xELFlBQVksS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQ3RELGdCQUFnQixJQUFJLEtBQUssRUFBRSxLQUFLLENBQUM7QUFDakM7SUFDQSxnQkFBZ0IsSUFBSSxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLEtBQUssQ0FBQyxHQUFHO0lBQzlDLG9CQUFvQixJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNsQyxvQkFBb0IsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbEMsb0JBQW9CLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2xDLG9CQUFvQixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNsQyxpQkFBaUIsQ0FBQztBQUNsQjtJQUNBLGdCQUFnQixJQUFJLEVBQUUsSUFBSSxJQUFJLElBQUksRUFBRSxLQUFLLElBQUksRUFBRTtJQUMvQyxvQkFBb0IsS0FBSyxHQUFHLEVBQUUsRUFBRSxLQUFLLEdBQUcsSUFBSSxDQUFDO0lBQzdDLGlCQUFpQixNQUFNLElBQUksSUFBSSxJQUFJLEtBQUssSUFBSSxJQUFJLEtBQUssS0FBSyxFQUFFO0lBQzVELG9CQUFvQixLQUFLLEdBQUcsSUFBSSxFQUFFLEtBQUssR0FBRyxLQUFLLENBQUM7SUFDaEQsaUJBQWlCO0FBQ2pCO0lBQ0EsZ0JBQWdCLElBQUksS0FBSyxJQUFJLEtBQUssRUFBRTtJQUNwQyxvQkFBb0IsSUFBSSxLQUFLLEdBQUcsS0FBSyxFQUFFO0lBQ3ZDLHdCQUF3QixDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztJQUN4RCxxQkFBcUI7SUFDckIsb0JBQW9CLFVBQVUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDO0lBQzVELG9CQUFvQixLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztJQUM3QztJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLGlCQUFpQjtJQUNqQixhQUFhO0lBQ2IsU0FBUztBQUNUO0lBQ0EsUUFBUSxJQUFJLE1BQU0sR0FBRyxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN2RCxRQUFRLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDNUI7SUFDQSxRQUFRLE9BQU8sVUFBVSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7SUFDdEMsWUFBWSxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNqRCxZQUFZLElBQUksTUFBTSxHQUFHLFVBQVUsQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3RELFlBQVksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQztBQUNwRDtJQUNBLFlBQVksSUFBSSxNQUFNLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksS0FBSyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUM1RSxZQUFZLElBQUksTUFBTSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLEtBQUssQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7QUFDNUU7SUFDQSxZQUFZLElBQUksSUFBSSxFQUFFLEdBQUcsR0FBRyxFQUFFO0lBQzlCLGdCQUFnQixVQUFVLEdBQUcsVUFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUk7SUFDcEQsb0JBQW9CLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO0lBQ3pFLHFCQUFxQixNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUMxRSxpQkFBaUIsQ0FBQyxDQUFDO0lBQ25CLGFBQWE7QUFDYjtJQUNBLFlBQVksSUFBSSxNQUFNLEtBQUssTUFBTSxFQUFFO0lBQ25DLGdCQUFnQixNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDekQsZ0JBQWdCLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQztJQUN2QyxhQUFhO0lBQ2IsU0FBUztJQUNUO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0FBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0FBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLEtBQUs7QUFDTDtJQUNBLElBQUksYUFBYSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUU7SUFDOUIsUUFBUSxJQUFJLFFBQVEsR0FBRyxFQUFFLENBQUM7QUFDMUI7SUFDQSxRQUFRLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQzlDLFlBQVksS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDckQsZ0JBQWdCLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLGFBQWEsQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFO0lBQ3hGLG9CQUFvQixRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDNUMsaUJBQWlCO0lBQ2pCLGFBQWE7SUFDYixTQUFTO0FBQ1Q7SUFDQSxRQUFRLE9BQU8sUUFBUSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7SUFDcEMsWUFBWSxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUMvQyxZQUFZLElBQUksSUFBSSxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2xEO0lBQ0EsWUFBWSxJQUFJLElBQUksRUFBRSxHQUFHLElBQUksRUFBRTtJQUMvQixnQkFBZ0IsSUFBSSxRQUFRLEdBQUcsU0FBUyxDQUFDLE1BQU0sQ0FBQyxHQUFHLElBQUk7SUFDdkQsb0JBQW9CLE9BQU8sYUFBYSxDQUFDLGNBQWMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sSUFBSSxDQUFDO0lBQ3pHLHNCQUFzQixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU07SUFDNUUsc0JBQXNCLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQzFFLGlCQUFpQixDQUFDLENBQUM7SUFDbkIsZ0JBQWdCLElBQUksTUFBTSxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQ2hFLGdCQUFnQixJQUFJLE1BQU0sRUFBRTtJQUM1QixvQkFBb0IsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3RGLG9CQUFvQixTQUFTO0lBQzdCLGlCQUFpQjtJQUNqQixhQUFhO0FBQ2I7SUFDQSxZQUFZLElBQUksSUFBSSxFQUFFLEdBQUcsSUFBSSxFQUFFO0lBQy9CLGdCQUFnQixJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDekMsZ0JBQWdCLFNBQVMsQ0FBQyxPQUFPLENBQUMsR0FBRyxJQUFJO0lBQ3pDLG9CQUFvQixJQUFJLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3BFLG9CQUFvQixJQUFJLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxhQUFhLENBQUMsY0FBYyxDQUFDLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsTUFBTSxJQUFJLENBQUM7SUFDOUYsd0JBQXdCLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRTtJQUN2Rix3QkFBd0IsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDeEQscUJBQXFCO0lBQ3JCLGlCQUFpQixDQUFDLENBQUM7SUFDbkIsYUFBYTtJQUNiLFNBQVM7SUFDVCxLQUFLO0FBQ0w7SUFDQSxJQUFJLGdCQUFnQixDQUFDLEtBQUssRUFBRTtJQUM1QixRQUFRLE9BQU8sS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksRUFBRSxJQUFJLEtBQUs7SUFDNUMsWUFBWSxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ2hFLFlBQVksSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDN0MsWUFBWSxPQUFPLElBQUksQ0FBQztJQUN4QixTQUFTLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDZixLQUFLO0FBQ0w7SUFDQSxJQUFJLFdBQVcsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFO0lBQzVCLFFBQVEsSUFBSSxLQUFLLEdBQUdDLFFBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLE1BQU07SUFDakUsWUFBWSxPQUFPLENBQUMsSUFBSSxFQUFFLEdBQUcsR0FBRyxHQUFHRCxTQUFDLENBQUMsVUFBVSxHQUFHQSxTQUFDLENBQUMsVUFBVSxLQUFLLGFBQWEsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUN2RixTQUFTLENBQUMsQ0FBQztJQUNYLFFBQVEsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDL0MsWUFBWSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUN0RCxnQkFBZ0IsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7SUFDaEMsb0JBQW9CLElBQUksR0FBRztJQUMzQix3QkFBd0IsQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsYUFBYTtJQUMvRCx5QkFBeUIsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLEdBQUcsYUFBYSxDQUFDO0lBQ2hFLHlCQUF5QixJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsYUFBYSxDQUFDO0lBQ2hFLHlCQUF5QixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxhQUFhLENBQUM7SUFDaEUseUJBQXlCLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLEdBQUcsYUFBYSxDQUFDO0lBQ2hFLHlCQUF5QixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxhQUFhLENBQUM7SUFDaEUseUJBQXlCLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxhQUFhLENBQUM7SUFDaEUseUJBQXlCLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLGFBQWEsQ0FBQztJQUNoRSx5QkFBeUIsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLGFBQWEsQ0FBQyxDQUFDO0lBQ2pFLG9CQUFvQixLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJQSxTQUFDLENBQUMsV0FBVyxDQUFDO0lBQzdELGlCQUFpQjtJQUNqQixhQUFhO0lBQ2IsU0FBUztJQUNULFFBQVEsT0FBTyxLQUFLLENBQUM7SUFDckIsS0FBSztBQUNMO0lBQ0EsSUFBSSxRQUFRLENBQUMsSUFBSSxFQUFFO0lBQ25CLFFBQVEsSUFBSSxJQUFJLEdBQUdDLFFBQUMsQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN4QztJQUNBLFFBQVEsSUFBSSxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNyQztJQUNBLFFBQVEsSUFBSSxVQUFVLEdBQUcsQ0FBQyxDQUFDO0FBQzNCO0lBQ0EsUUFBUSxJQUFJLE1BQU0sR0FBRyxhQUFhLENBQUMsb0JBQW9CLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsVUFBVSxFQUFFLENBQUMsQ0FBQztJQUM3SCxRQUFRLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDNUIsUUFBUSxJQUFJLEtBQUssR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzdCO0lBQ0EsUUFBUSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQ3RDLFlBQVksSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZDLFlBQVksSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZDLFlBQVksTUFBTSxHQUFHLGFBQWEsQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUMxSCxZQUFZLElBQUksTUFBTSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDM0MsWUFBWSxJQUFJLE1BQU0sSUFBSSxNQUFNLENBQUMsVUFBVSxLQUFLLFVBQVUsRUFBRSxVQUFVLEVBQUUsQ0FBQztJQUN6RSxTQUFTO0lBQ1QsUUFBUSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQ3RDLFlBQVksSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZDLFlBQVksSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZDLFlBQVksTUFBTSxHQUFHLGFBQWEsQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUMxSCxZQUFZLElBQUksTUFBTSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDM0MsWUFBWSxJQUFJLE1BQU0sSUFBSSxNQUFNLENBQUMsVUFBVSxLQUFLLFVBQVUsRUFBRSxVQUFVLEVBQUUsQ0FBQztJQUN6RSxTQUFTO0lBQ1QsUUFBUSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQ3RDLFlBQVksSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZDLFlBQVksSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZDLFlBQVksTUFBTSxHQUFHLGFBQWEsQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxF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LEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztJQUM5QixJQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7SUFDeEMsSUFBSSxJQUFJLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQztJQUNsQixJQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDO0lBQ3JCLElBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7QUFDckI7SUFDQSxJQUFJLElBQUksQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO0lBQ3BCLEdBQUc7QUFDSDtJQUNBLEVBQUUsS0FBSyxHQUFHO0lBQ1YsSUFBSSxRQUFRLElBQUksQ0FBQyxLQUFLO0lBQ3RCLE1BQU0sS0FBSyxRQUFRLENBQUMsSUFBSTtJQUN4QixRQUFRLElBQUksU0FBUyxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO0lBQ3RELFVBQVUsSUFBSSxDQUFDLEtBQUssR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDO0lBQ3RDLFNBQVM7SUFDVCxRQUFRLE1BQU07SUFDZCxNQUFNLEtBQUssUUFBUSxDQUFDLEtBQUs7SUFDekIsUUFBUSxJQUFJLElBQUksR0FBR0EsUUFBQyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDOUQsUUFBUSxJQUFJLENBQUMsQ0FBQyxHQUFHQSxRQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3ZDLFFBQVEsSUFBSSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFF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RyxJQUFJLE1BQU0sRUFBRSxDQUFDO0lBQ25DLFFBQVEsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3JDLFFBQVEsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxJQUFJRCxTQUFDLENBQUMsVUFBVSxHQUFHQSxTQUFDLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQztJQUN0SSxRQUFRLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsSUFBSUEsU0FBQyxDQUFDLFVBQVUsR0FBR0EsU0FBQyxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUM7QUFDdkk7SUFDQSxRQUFRLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUN4QztJQUNBO0FBQ0E7SUFDQTtBQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNBO0lBQ0E7SUFDQTtBQUNBO0lBQ0E7QUFDQTtJQUNBO0FBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBO0FBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNBO0lBQ0E7QUFDQTtJQUNBO0FBQ0E7SUFDQTtJQUNBLEtBQUs7QUFDTDtJQUNBLElBQUksS0FBSyxHQUFHO0lBQ1osUUFBUSxJQUFJLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztBQUN2QjtJQUNBLFFBQVEsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7SUFDNUIsUUFBUSxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDdEIsUUFBUSxJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztBQUM3QjtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNBO0lBQ0E7SUFDQSxRQUFRLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM1RDtJQUNBLEtBQUs7QUFDTDtJQUNBLElBQUksT0FBTyxDQUFDLFNBQVMsRUFBRTtJQUN2QixRQUFRLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNyQixRQUFRLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUMxQixRQUFRLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUN0QixRQUFRLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2hDLFFBQVEsTUFBTSxDQUFDLHFCQUFxQixDQUFDLE1BQU0sSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO0lBQ3BFLEtBQUs7QUFDTDtJQUNBLElBQUksTUFBTSxHQUFHO0lBQ2I7SUFDQSxRQUFRLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDNUI7SUFDQTtJQUNBLFFBQVEsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDdEM7SUFDQSxRQUFRLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ3BDO0lBQ0E7SUFDQSxRQUFRLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ3RDO0lBQ0E7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SSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3RDO0lBQ0EsUUFBUSxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQzFCO0lBQ0EsUUFBUSxJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsRUFBRSxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLFFBQVEsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ3RIO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBLFFBQVEsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUM7SUFDckMsUUFBUSxJQUFJLEdBQUcsRUFBRTtJQUNqQixZQUFZLElBQUksQ0FBQyxhQUFhLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUUsUUFBUSxDQUFDLEtBQUssR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFDakYsWUFBWSxHQUFHLENBQUMsU0FBUyxHQUFHLHdCQUF3QixDQUFDO0lBQ3JELFlBQVksR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDckQsU0FBUztBQUNUO0lBQ0EsUUFBUSxLQUFLLElBQUksTUFBTSxJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7SUFDMUMsWUFBWSxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ2xDLFNBQVM7QUFDVDtJQUNBO0lBQ0E7QUFDQTtJQUNBO0FBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0FBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBO0FBQ0E7SUFDQTtBQUNBO0lBQ0E7SUFDQTtJQUNBO0FBQ0E7SUFDQTtBQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNBO0lBQ0E7QUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBO0FBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0FBQ0E7SUFDQSxRQUFRLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDNUIsS0FBSztBQUNMO0lBQ0EsSUFBSSxRQUFRLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRTtJQUN4QixRQUFRLElBQUksTUFBTSxHQUFHO0lBQ3JCLFlBQVksQ0FBQyxFQUFFLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDcEQsWUFBWSxDQUFDLEVBQUUsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNwRCxTQUFTLENBQUM7SUFDVixRQUFRLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtJQUNwRCxZQUFZLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMs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\n"]}