<style>body,html{margin:0;padding:0;background-color:#000}div{position:absolute;top:0;bottom:0;left:0;right:0}#canvas{width:100%;height:100%}</style><div><canvas id="canvas"></canvas></div><script>(function () {
    'use strict';

    const Constants = {
        R0: 0,
        R90: Math.PI * 0.5,
        R180: Math.PI,
        R270: Math.PI * 1.5,
        R360: Math.PI * 2,

        // Size in pixels of tiles in the game maze
        TILE_WIDTH: 32,
        TILE_HEIGHT: 32,

        // Tile constants
        TILE_FLOOR1:            0,
        TILE_FLOOR2:            1,
        TILE_WALL1:             2,
        TILE_WALL2:             3,

        PLAYER_BOUND_RADIUS: 9
    };

    /**
     * This helper class encapsulates creating temporary off-screen canvases. Off-screen
     * canvases are great tools for building patterns, image masks, and other components
     * that we'll use to draw things on the primary canvas.
     */
    class Canvas {
      constructor(width, height) {
        this.canvas = document.createElement('canvas');
        this.canvas.width = width;
        this.canvas.height = height;
        this.ctx = this.canvas.getContext('2d');
      }
    }

    /**
     * This module is generate by `gulp generateSpriteSheetData`.
     */

    const SpriteSheet =
    /* <generated> */
    { bullet_1: { x: 0, y: 0, w: 32, h: 32 },
      demon1_1: { x: 0, y: 32, w: 16, h: 22 },
      demon1_2: { x: 16, y: 32, w: 16, h: 22 },
      demon1_3: { x: 32, y: 32, w: 16, h: 22 },
      demon1_4: { x: 48, y: 32, w: 16, h: 22 },
      demon1_5: { x: 64, y: 32, w: 16, h: 22 },
      demon1_6: { x: 80, y: 32, w: 16, h: 22 },
      demon1_7: { x: 96, y: 32, w: 16, h: 22 },
      demon1_8: { x: 112, y: 32, w: 16, h: 22 },
      demon1_9: { x: 128, y: 32, w: 16, h: 22 },
      demon1_10: { x: 144, y: 32, w: 16, h: 22 },
      font_1: { x: 0, y: 54, w: 236, h: 6 },
      monster2_1: { x: 0, y: 60, w: 32, h: 32 },
      paper_1: { x: 0, y: 92, w: 32, h: 32 },
      paper_2: { x: 32, y: 92, w: 32, h: 32 },
      particles_1: { x: 0, y: 124, w: 11, h: 11 },
      player_1: { x: 0, y: 135, w: 64, h: 64 },
      player_2: { x: 64, y: 135, w: 64, h: 64 },
      player_3: { x: 128, y: 135, w: 64, h: 64 },
      player_4: { x: 192, y: 135, w: 64, h: 64 },
      player_5: { x: 256, y: 135, w: 64, h: 64 },
      player_6: { x: 320, y: 135, w: 64, h: 64 },
      player_7: { x: 384, y: 135, w: 64, h: 64 },
      player_8: { x: 448, y: 135, w: 64, h: 64 },
      player2_1: { x: 0, y: 199, w: 32, h: 32 },
      portal_1: { x: 0, y: 231, w: 32, h: 32 },
      sparkle_1: { x: 0, y: 263, w: 11, h: 11 },
      swordmeter_1: { x: 0, y: 274, w: 48, h: 128 },
      swordmeter_2: { x: 48, y: 274, w: 48, h: 128 },
      swordmeter_3: { x: 96, y: 274, w: 48, h: 128 },
      swordmeter_4: { x: 144, y: 274, w: 48, h: 128 },
      swordmeter_5: { x: 192, y: 274, w: 48, h: 128 },
      tiles_1: { x: 0, y: 402, w: 32, h: 32 },
      tiles_2: { x: 32, y: 402, w: 32, h: 32 },
      tiles_3: { x: 64, y: 402, w: 32, h: 32 },
      tiles_4: { x: 96, y: 402, w: 32, h: 32 },
      tiles_5: { x: 128, y: 402, w: 32, h: 32 },
      tiles_6: { x: 160, y: 402, w: 32, h: 32 },
      tiles_7: { x: 192, y: 402, w: 32, h: 32 },
      tiles_8: { x: 224, y: 402, w: 32, h: 32 },
      tiles_9: { x: 256, y: 402, w: 32, h: 32 },
      tileset_1: { x: 0, y: 434, w: 32, h: 32 },
      tileset_2: { x: 32, y: 434, w: 32, h: 32 },
      tileset_3: { x: 64, y: 434, w: 32, h: 32 },
      tileset_4: { x: 96, y: 434, w: 32, h: 32 },
      tileset_5: { x: 128, y: 434, w: 32, h: 32 },
      tileset_6: { x: 160, y: 434, w: 32, h: 32 },
      tileset_7: { x: 192, y: 434, w: 32, h: 32 },
      tileset_8: { x: 224, y: 434, w: 32, h: 32 } }
    /* </generated> */
    ;

    const SPRITESHEET_URI = 'spritesheet-gen.png';

    /**
     * Sprites!
     *
     * For this game, a "sprite" is a little object that has an attached image, an anchor
     * point, a bounding box, and an optional hit box. This keeps pixel-level data about
     * the image all in one place (by passing a Sprite around, we know what image to draw,
     * what point in the image to rotate around, what areas of the image can get hit by
     * things, and what areas can hit other things).
     *
     * Whether the bounding box or hitbox do anything isn't up to the Sprite, it would be
     * up to the Frame that references it. (This is helpful because it's convenient for
     * a simple game like this to have only one hit frame, but the animation may call
     * for showing the sword swipe for 5-6 frames.)
     */
    class Sprite {
      /**
       * A small helper that draws a sprite onto a canvas, respecting the anchor point of
       * the sprite. Note that the canvas should be PRE-TRANSLATED and PRE-ROTATED, if
       * that's appropriate!
       */
      static drawSprite(ctx, sprite, u, v) {
        ctx.drawImage(sprite.img, u - sprite.anchor.x, v - sprite.anchor.y);
      }

      static drawViewportSprite(viewport, sprite, spritePos, cameraPos) {
        viewport.ctx.drawImage(
          sprite.img,
          spritePos.x - sprite.anchor.x - cameraPos.x + viewport.center.u,
          spritePos.y - sprite.anchor.y - cameraPos.y + viewport.center.v
        );
      }

      /**
       * Draw a sprite's bounding box, for debugging, using the same rules as drawSprite.
       */
      static drawBoundingBox(ctx, sprite, x, y) {
        ctx.strokeStyle = 'rgba(0, 255, 0, 0.5)';
        ctx.strokeRect(
          x - sprite.anchor.x + sprite.bbox[0].x,
          y - sprite.anchor.y + sprite.bbox[0].y,
          sprite.bbox[1].x - sprite.bbox[0].x,
          sprite.bbox[1].y - sprite.bbox[0].y
        );
      }

      /**
       * Draw a sprite's hit box, for debugging, using the same rules as drawSprite.
       */
      static drawHitBox(ctx, sprite, x, y) {
        if (sprite.hbox) {
          ctx.strokeStyle = 'rgba(255, 0, 0, 0.7)';
          ctx.strokeRect(
            x - sprite.anchor.x + sprite.hbox[0].x,
            y - sprite.anchor.y + sprite.hbox[0].y,
            sprite.hbox[1].x - sprite.hbox[0].x,
            sprite.hbox[1].y - sprite.hbox[0].y
          );
        }
      }

      static getBoundingCircle(sprite, x, y) {
        let dx = sprite.bbox[1].x - sprite.bbox[0].x;
        let dy = sprite.bbox[1].y - sprite.bbox[0].y;
        let r = (dx > dy ? dx : dy) / 2;
        return {
          x: x - sprite.anchor.x + (sprite.bbox[0].x + sprite.bbox[1].x) / 2,
          y: y - sprite.anchor.y + (sprite.bbox[0].y + sprite.bbox[1].y) / 2,
          r
        };
      }

      static getBoundingBoxPolygon(sprite, x, y) {
        return this.getSpriteBoxPolygon(sprite.anchor, sprite.bbox, x, y);
      }

      static getHitBoxPolygon(sprite, x, y) {
        return this.getSpriteBoxPolygon(sprite.anchor, sprite.hbox, x, y);
      }

      static getSpriteBoxPolygon(anchor, box, x, y) {
        return {
          x: x,
          y: y,
          p: [
            { x: box[0].x - anchor.x, y: box[0].y - anchor.y },
            { x: box[1].x - anchor.x, y: box[0].y - anchor.y },
            { x: box[1].x - anchor.x, y: box[1].y - anchor.y },
            { x: box[0].x - anchor.x, y: box[1].y - anchor.y }
          ]
        };
      }
    }

    /**
     * The Assets module loads raw PNGs we'll use to draw the game, does any postprocessing stuff
     * we might need to do, and then saves references to them for later.
     */
    class Assets {
      static async init() {
        this.images = {};

        // Base Pixel Font (see `Text.init` for additional manipulation)
        Sprite.font = await this.initSprite(SPRITESHEET_URI, SpriteSheet.font_1);

        // Player
        Sprite.player = await this.initSprite(SPRITESHEET_URI, SpriteSheet.player2_1);

        // Bullets
        Sprite.bullet = await this.initSprite(SPRITESHEET_URI, SpriteSheet.bullet_1);

        // Enemy
        Sprite.monster = await this.initSprite(SPRITESHEET_URI, SpriteSheet.monster2_1);
        Sprite.demon_walk = await this.initSprite(SPRITESHEET_URI, SpriteSheet.demon1_1);

        // Tiles
        Sprite.tiles = [];
        Sprite.tiles[Constants.TILE_FLOOR1] = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_3);
        Sprite.tiles[Constants.TILE_WALL1] = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_1);
        Sprite.tiles[Constants.TILE_WALL2] = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_2);

        // Walls
        let edge = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_5);
        let turn = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_6);
        let deadend = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_7);
        let corner = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_8);

        Sprite.walls = [];
        Sprite.walls[0b000_100_000] =
        Sprite.walls[0b100_100_000] =
        Sprite.walls[0b000_100_100] =
        Sprite.walls[0b100_100_100] = edge;

        Sprite.walls[0b000_001_000] =
        Sprite.walls[0b001_001_000] =
        Sprite.walls[0b000_001_001] =
        Sprite.walls[0b001_001_001] = this.initDynamicSprite(this.rotateImage(edge.img, Constants.R180));

        Sprite.walls[0b010_000_000] =
        Sprite.walls[0b110_000_000] =
        Sprite.walls[0b011_000_000] =
        Sprite.walls[0b111_000_000] = this.initDynamicSprite(this.rotateImage(edge.img, Constants.R90));

        Sprite.walls[0b000_001_000] = this.initDynamicSprite(this.rotateImage(edge.img, Constants.R180));
        Sprite.walls[0b000_000_010] = this.initDynamicSprite(this.rotateImage(edge.img, Constants.R270));

        Sprite.walls[0b010_100_000] =
        Sprite.walls[0b110_100_000] =
        Sprite.walls[0b011_100_000] =
        Sprite.walls[0b111_100_000] =
        Sprite.walls[0b011_100_100] =
        Sprite.walls[0b010_100_100] =
        Sprite.walls[0b011_100_100] =
        Sprite.walls[0b111_100_100] = turn;

        Sprite.walls[0b010_001_000] =
        Sprite.walls[0b011_001_000] =
        Sprite.walls[0b110_001_000] =
        Sprite.walls[0b111_001_000] =
        Sprite.walls[0b010_001_001] =
        Sprite.walls[0b011_001_001] =
        Sprite.walls[0b111_001_001] =
        Sprite.walls[0b110_001_001] = this.initDynamicSprite(this.rotateImage(turn.img, Constants.R90));

        Sprite.walls[0b000_001_010] =
        Sprite.walls[0b000_001_011] =
        Sprite.walls[0b000_001_110] =
        Sprite.walls[0b000_001_111] =
        Sprite.walls[0b001_001_010] =
        Sprite.walls[0b001_001_011] =
        Sprite.walls[0b001_001_110] =
        Sprite.walls[0b001_001_111] = this.initDynamicSprite(this.rotateImage(turn.img, Constants.R180));

        Sprite.walls[0b000_100_010] =
        Sprite.walls[0b000_100_011] =
        Sprite.walls[0b000_100_110] =
        Sprite.walls[0b000_100_111] =
        Sprite.walls[0b100_100_010] =
        Sprite.walls[0b100_100_011] =
        Sprite.walls[0b100_100_110] =
        Sprite.walls[0b100_100_111] = this.initDynamicSprite(this.rotateImage(turn.img, Constants.R270));

        Sprite.walls[0b100_000_000] = corner;
        Sprite.walls[0b001_000_000] = this.initDynamicSprite(this.rotateImage(corner.img, Constants.R90));
        Sprite.walls[0b000_000_001] = this.initDynamicSprite(this.rotateImage(corner.img, Constants.R180));
        Sprite.walls[0b000_000_100] = this.initDynamicSprite(this.rotateImage(corner.img, Constants.R270));

        Sprite.walls[0b101_000_000] = this.initDynamicSprite(this.overlay(Sprite.walls[0b100_000_000].img, Sprite.walls[0b001_000_000].img));
        Sprite.walls[0b000_000_101] = this.initDynamicSprite(this.overlay(Sprite.walls[0b000_000_100].img, Sprite.walls[0b000_000_001].img));
        Sprite.walls[0b100_000_100] = this.initDynamicSprite(this.overlay(Sprite.walls[0b100_000_000].img, Sprite.walls[0b000_000_100].img));
        Sprite.walls[0b001_000_001] = this.initDynamicSprite(this.overlay(Sprite.walls[0b001_000_000].img, Sprite.walls[0b000_000_001].img));

    /*
        let sprite = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_5);
        Sprite.tiles[C.TILE_FLOOR_EDGE_L] = sprite;
        Sprite.tiles[C.TILE_FLOOR_EDGE_T] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 0.5));
        Sprite.tiles[C.TILE_FLOOR_EDGE_R] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 1.0));
        Sprite.tiles[C.TILE_FLOOR_EDGE_B] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 1.5));

        sprite = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_7);
        Sprite.tiles[C.TILE_FLOOR_EDGE_LT] = sprite;
        Sprite.tiles[C.TILE_FLOOR_EDGE_TR] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 0.5));
        Sprite.tiles[C.TILE_FLOOR_EDGE_RB] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 1.0));
        Sprite.tiles[C.TILE_FLOOR_EDGE_BL] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 1.5));

        sprite = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_8);
        Sprite.tiles[C.TILE_FLOOR_EDGE_LTR] = sprite;
        Sprite.tiles[C.TILE_FLOOR_EDGE_TRB] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 0.5));
        Sprite.tiles[C.TILE_FLOOR_EDGE_RBL] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 1.0));
        Sprite.tiles[C.TILE_FLOOR_EDGE_BLT] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 1.5));

        sprite = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_6);
        Sprite.tiles[C.TILE_FLOOR_EDGE_LR] = sprite;
        Sprite.tiles[C.TILE_FLOOR_EDGE_TB] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 0.5));
    // TILE_FLOOR1:            0,
    // TILE_FLOOR2:            1,
    // TILE_FLOOR_EDGE_L:     20,
    // TILE_FLOOR_EDGE_T:     21,
    // TILE_FLOOR_EDGE_R:     22,
    // TILE_FLOOR_EDGE_B:     23,
    // TILE_FLOOR_EDGE_LT:    24,
    // TILE_FLOOR_EDGE_TR:    25,
    // TILE_FLOOR_EDGE_RB:    26,
    // TILE_FLOOR_EDGE_BL:    27,
    // TILE_FLOOR_EDGE_LTR:   28,
    // TILE_FLOOR_EDGE_TRB:   29,
    // TILE_FLOOR_EDGE_RBL:   30,
    // TILE_FLOOR_EDGE_BLT:   31,
    // TILE_FLOOR_EDGE_LR:    32,
    // TILE_FLOOR_EDGE_TB:    33,
    // TILE_FLOOR_CORNER_LT:  34,
    // TILE_FLOOR_CORNER_TR:  35,
    // TILE_FLOOR_CORNER_RB:  36,
    // TILE_FLOOR_CORNER_BL:  37,
    // TILE_FLOOR_CORNER_LR:  39,
        Sprite.tiles[C.TILE_WALL1] = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_1);
        Sprite.tiles[C.TILE_WALL2] = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_2);
        */
      };

      /**
       * Initialize a sprite by loading it from a particular slice of the given image. Provides
       * "sensible" defaults for bounding box and anchor point if not provided.
       */
      static async initSprite(uri, data, opts) {
        return this.initDynamicSprite(await this.loadSlice(uri, data.x, data.y, data.w, data.h), opts);
      }

      static rotateImage(source, rad) {
        let canvas = new Canvas(source.width, source.height);
        canvas.ctx.translate(source.width / 2, source.height / 2);
        canvas.ctx.rotate(rad);
        canvas.ctx.translate(-source.width / 2, -source.height / 2);
        canvas.ctx.drawImage(source, 0, 0);
        return canvas.canvas;
      }

      static overlay(...sources) {
        let canvas = new Canvas(sources[0].width, sources[0].height);
        for (let source of sources) {
          canvas.ctx.drawImage(source, 0, 0);
        }
        return canvas.canvas;
      }

      /**
       * Initialize a sprite by passing it a pre-defined image source (probably generated dynamically).
       * Provides "sensible" defaults for bounding box and anchor point if not provided.
       */
      static initDynamicSprite(source, opts) {
        let w = source.width, h = source.height;

        return {
          img: source,
          anchor: (opts && opts.anchor) || { x: Math.floor(w / 2), y: Math.floor(h / 2) },
          bbox: (opts && opts.bbox) || [{x: 0, y: 0 }, { x: w, y: h }],
          hbox: opts && opts.hbox
        };
      }

      /**
       * This helper method retrieves a cached image, cuts the specified slice out of it, and returns it.
       */
      static async loadSlice(uri, x, y, w, h) {
        const source = await this.loadImage(uri);
        const sliceCanvas = new Canvas(w, h);
        sliceCanvas.ctx.drawImage(source, x, y, w, h, 0, 0, w, h);
        return sliceCanvas.canvas;
      }

      /**
       * Load the image from the given URI and cache it.
       */
      static async loadImage(uri) {
        if (this.images[uri]) return this.images[uri];

        return await new Promise((resolve, reject) => {
          let image = new Image();
          image.onload = () => resolve(image);
          image.onerror = (err) => reject(err);
          image.src = uri;
          this.images[uri] = image;
        });
      }
    }

    // A few quick constants (0*, 45*, 90*)
    const A00 = 0;
    const A45 = 0.7071067811865475;
    const A90 = 1;

    /**
     * KeyboardAdapter
     *
     * Maps keyboard inputs to game inputs.
     */
    class KeyboardAdapter {
      constructor(handler) {
        this.handler = handler;

        // Key Mapping:      ACTION            // Key
        this.map = [];
        this.map[88] = Input.Action.ATTACK;    // [X]
        this.map[90] = Input.Action.DEFLECT;   // [Z]
        this.map[67] = Input.Action.DODGE;     // [C]
        this.map[32] = Input.Action.SUPER;     // [SPACEBAR]
        this.map[38] = Input.Action.UP;        // [UpArrow]
        this.map[40] = Input.Action.DOWN;      // [DownArrow]
        this.map[37] = Input.Action.LEFT;      // [LeftArrow]
        this.map[39] = Input.Action.RIGHT;     // [RightArrow]
        this.map[87] = Input.Action.UP;        // [W]
        this.map[83] = Input.Action.DOWN;      // [S]
        this.map[65] = Input.Action.LEFT;      // [A]
        this.map[68] = Input.Action.RIGHT;     // [D]
        this.map[27] = Input.Action.MENU;      // [ESC]
        this.map[77] = Input.Action.MUTE;      // [M]
        this.map[70] = Input.Action.FREEZE;    // [F]
        this.map[80] = Input.Action.FREEZE;    // [P]

        // For keyboard, we support 8-point movement (S, E, SE, etc.)
        this.arrowDirections = [
          { x:  A00, y:  A00, m: 0 },
          { x:  A00, y: -A90, m: 1 },
          { x:  A00, y:  A90, m: 1 },
          { x:  A00, y:  A00, m: 0 },
          { x: -A90, y:  A00, m: 1 },
          { x: -A45, y: -A45, m: 1 },
          { x: -A45, y:  A45, m: 1 },
          { x: -A90, y:  A00, m: 1 },
          { x:  A90, y:  A00, m: 1 },
          { x:  A45, y: -A45, m: 1 },
          { x:  A45, y:  A45, m: 1 },
          { x:  A90, y:  A00, m: 1 },
          { x:  A00, y:  A00, m: 0 },
          { x:  A00, y: -A90, m: 1 },
          { x:  A00, y:  A90, m: 1 },
          { x:  A00, y:  A00, m: 0 }
        ];

        this.held = [];

        this.reset();
      }

      async init() {
        window.addEventListener('keydown', event => {
          let k = this.map[event.keyCode];
          console.log(event.keyCode);
          if (k) {
            this.held[k] = true;
          }

          // Hack - first key pressed in window will initialize the audio.
          //game.audio.init();
        });

        window.addEventListener('keyup', event => {
          let k = this.map[event.keyCode];
          if (k) {
            this.held[k] = false;
          }
        });
      }

      update() {
        // For keyboards, we want to convert the state of the various arrow keys being held down
        // into a directional vector. We use the browser's event to handle the held state of
        // the other action buttons, so we don't need to process them here.
        let state = (this.held[Input.Action.UP] ? 1 : 0) +
                    (this.held[Input.Action.DOWN] ? 2 : 0) +
                    (this.held[Input.Action.LEFT] ? 4 : 0) +
                    (this.held[Input.Action.RIGHT] ? 8 : 0);

        this.direction = this.arrowDirections[state];
      }

      reset() {
        this.direction = this.arrowDirections[0];
        for (let action of Object.values(Input.Action)) {
          this.held[action] = false;
        }
      }
    }

    const GAME_WIDTH = 480;
    const GAME_HEIGHT = 270;

    /**
    * Viewport
    *
    * Represents the game display (for us, a canvas).
    */
    class Viewport {
      async init() {
        this.canvas = document.getElementById('canvas');
        this.ctx = this.canvas.getContext('2d');
        this.resize(true);
      }

      // Resize the canvas to give us approximately our desired game display size.
      //
      // Rather than attempt to explain it, here's a concrete example:
      //
      //     we start with a desired game dimension:   480x270px
      //          get the actual browser dimensions:  1309x468px
      //          factor in the display's DPI ratio:  2618x936px
      //         now calculate the horizontal scale:       5.45x
      //                     and the vertical scale:       3.46x
      //            our new offical game scaling is:        5.4x
      //       and our official viewport dimensions:   484x173px
      //
      // This approach emphasizes correct aspect ratio and maintains full-window rendering, at
      // the potential cost of limiting visibility of the game itself in either the X or Y axis.
      // If you use this approach, make sure your GUI can "float" (otherwise there may be whole
      // UI elements the player cannot see!).
      resize(force) {
        let dpi = window.devicePixelRatio;
        let width = this.canvas.clientWidth;
        let height = this.canvas.clientHeight;
        let dpiWidth = width * dpi;
        let dpiHeight = height * dpi;

        if (force || this.canvas.width !== dpiWidth || this.canvas.height !== dpiHeight) {
          this.canvas.width = dpiWidth;
          this.canvas.height = dpiHeight;

          this.scale = (Math.floor(Math.max(dpiWidth / GAME_WIDTH, dpiHeight / GAME_HEIGHT) * 10) / 10);
          this.width = Math.ceil(this.canvas.width / this.scale);
          this.height = Math.ceil(this.canvas.height / this.scale);
          this.center = { u: Math.floor(this.width / 2), v: Math.floor(this.height / 2) };
          this.clientWidth = width;
          this.clientHeight = height;

                // Note: smoothing flag gets reset on every resize by some browsers, which is why
                // we do it here.
                this.ctx.imageSmoothingEnabled = false;

                viewport.canvas.style.cursor = 'none';
            }
        }
    }

    // Singleton
    const viewport = new Viewport();

    /**
     * MouseAdapter
     *
     * Maps mouse inputs to game inputs.
     */
    class MouseAdapter {
      constructor(handler) {
        this.handler = handler;

        // Key Mapping:      ACTION            // Input
        this.map = [];
        this.map[0]  = Input.Action.ATTACK;    // LMB

        this.held = [];

        this.reset();
      }

      async init() {
        window.addEventListener('mousemove', event => {
          if (!this.pointer) this.pointer = {};
          //this.handlers['mousemove'](event.movementX, event.movementY, event.clientX, event.clientY);
          this.pointer.u = Math.floor((event.clientX * viewport.width) / viewport.clientWidth);
          this.pointer.v = Math.floor((event.clientY * viewport.height) / viewport.clientHeight);
        });

        window.addEventListener('mouseout', () => {
          this.pointer = undefined;
        });

        window.addEventListener('mousedown', event => {
          let k = this.map[event.button];
          if (k) this.held[k] = true;
        });

        window.addEventListener('mouseup', event => {
          let k = this.map[event.button];
          if (k) this.held[k] = false;
        });

        return this;
      }

      update() {
      }

      reset() {
        this.pointer = undefined;
        for (let action of Object.values(Input.Action)) {
          this.held[action] = false;
        }
      }
    }

    //import { GamepadAdapter } from './GamepadAdapter';
    //import { NormalVector } from './Geometry';

    /**
     * This is our abstract game input handler.
     *
     * Each frame, we'll collect input data from all of our supported input adapters,
     * and turn it into game input. This game input can then be used by the game
     * update for the frame.
     *
     * The input adapters give us data like "key X pressed", or "right mouse button
     * clicked", or "button B" pressed, and these are translated into a game input
     * like "dodge".
     */
    class Input {
        async init() {
            // A vector representing the direction the user is pressing/facing,
            // separate from pressing and releasing inputs. Treating "direction"
            // separately makes it easier to handle gamepad sticks.
            this.direction = { x: 0, y: 0, m: 0 };

            // "Pressed" means an input was pressed THIS FRAME.
            this.pressed = {};

            // "Released" means an input was released THIS FRAME.
            this.released = {};

            // "Held" means an input is held down. The input was "Pressed" either
            // this frame or in a past frame, and has not been "Released" yet.
            this.held = {};

            // How many frames was this input held down by the player. If [held]
            // is false, it represents how long the input was last held down.
            this.framesHeld = {};

            this.keyboard = new KeyboardAdapter(this);
            await this.keyboard.init();

            this.mouse = new MouseAdapter(this);
            await this.mouse.init();

            //this.gamepad = new GamepadAdapter(this);
            //await this.gamepad.init();
        }

        update() {
            // We could have some kind of "input adapter toggle", but it's easier to just treat all inputs
            // as valid -- if you're pressing the "attack" button on either gamepad or keyboard, then you're
            // attacking. For directional input, we instead check whether there's movement on the thumbstick,
            // and we use it if there is -- otherwise we try to extract movement from the keyboard instead.

            this.keyboard.update();
            this.mouse.update();
            //this.gamepad.update();

            for (let action of Object.values(Input.Action)) {
                let held = this.mouse.held[action] || this.keyboard.held[action];
                //let held = this.gamepad.held[action] || this.keyboard.held[action];
                this.pressed[action] = !this.held[action] && held;
                this.released[action] = this.held[action] && !held;

                if (this.pressed[action]) {
                    this.framesHeld[action] = 1;
                } else if (this.held[action] && held) {
                    this.framesHeld[action]++;
                }

                this.held[action] = held;
            }

            this.pointer = this.mouse.pointer;

            //this.direction = this.gamepad.direction.m > 0 ? this.gamepad.direction : this.keyboard.direction;
            this.direction = this.keyboard.direction;
        }

        onDown(action) {
        }

        onUp(action) {
        }
    }

    // Game Inputs
    //
    // Note that moving the player around is actually not considered an action; it's
    // a separate non-action input called "direction". It just so happens that on
    // keyboard, for example, pressing the "down arrow" key is considered both a
    // press of the in-game DOWN action and a directional input. It's up to the input
    // consumer to decide which input is relevant (if any). For example, on a menu,
    // we may consume the DOWN/UP actions to navigate the menu, but ignore directional
    // inputs.
    //
    Input.Action = {
      UP:      11,
      DOWN:    12,
      LEFT:    13,
      RIGHT:   14,
      ATTACK:  21,
      DEFLECT: 22,
      DODGE:   23,
      SUPER:   24,
      MENU:    96,
      MUTE:    97,
      FREEZE:  98
    };

    /**
     * Geometry
     *
     * A horrible grab bag of math-related nonsense.
     */
    const Geometry = {
      RAD: (() => {
        let radianTable = [];
        for (let i = 0; i <= 360; i++) {
          radianTable[i] = Math.PI * 2 * i / 360;
        }
        return radianTable;
      })(),

      normalizeVector(p) {
        let m = Math.sqrt(p.x * p.x + p.y * p.y);
        return (m === 0) ? { x: 0, y: 0, m: 0 } : { x: p.x / m, y: p.y / m, m };
      },

      vectorBetween(p1, p2) {
        return Geometry.normalizeVector({ x: p2.x - p1.x, y: p2.y - p1.y });
      },

      angle2vector(r) {
        return { x: Math.cos(r), y: Math.sin(r), m: 1 };
      },

      vector2angle(v) {
        return Math.atan2(v.y, v.x);
      },

      xy2qr(pos) {
        return { q: (pos.x / Constants.TILE_WIDTH) | 0, r: (pos.y / Constants.TILE_HEIGHT) | 0 };
      },

      qr2xy(pos) {
        return { x: pos.q * Constants.TILE_WIDTH, y: pos.r * Constants.TILE_HEIGHT };
      },

      clamp(value, min, max) {
        return value < min ? min : (value > max ? max : value);
      },

      // The parameters to this function are (Q, Q) or (R, R) - i.e. horizontal or
      // vertical coordinates in tile space.
      calculateRayIntersectionAndStep(startPos, endPos) {
        let next, step, diff = endPos - startPos;

        if (diff === 0) {
            step = NaN;
            next = +Infinity;
        } else if (diff > 0) {
            step = 1 / diff;
            next = (1 - (startPos - Math.floor(startPos))) * step;
        } else {
            step = -1 / diff;
            next = (startPos - Math.floor(startPos)) * step;
        }

        return { next, step };
      },

      // https://www.genericgamedev.com/general/shooting-rays-through-tilemaps/
      *tilesHitBetween(p1, p2) {
        let startQ = p1.x / Constants.TILE_WIDTH, startR = p1.y / Constants.TILE_HEIGHT;
        let endQ = p2.x / Constants.TILE_WIDTH, endR = p2.y / Constants.TILE_HEIGHT;
        let tileCount = Math.abs(Math.floor(startQ) - Math.floor(endQ)) + Math.abs(Math.floor(startR) - Math.floor(endR));

        yield { q: startQ | 0, r: startR | 0, m: 0 };

        // If there's only 1 or 2 hit tiles, we don't need the math to compute the middle.
        if (tileCount > 1) {
          let q = startQ, r = startR, m = 0;
          let stepQ = Math.sign(endQ - startQ);
          let stepR = Math.sign(endR - startR);
          let intersectionQ = Geometry.calculateRayIntersectionAndStep(startQ, endQ);
          let intersectionR = Geometry.calculateRayIntersectionAndStep(startR, endR);

          for (let i = 0; i < tileCount - 1; i++) {
            if (intersectionQ.next < intersectionR.next) {
              q += stepQ;
              m += stepQ;
              intersectionQ.next += intersectionQ.step;
            } else {
              r += stepR;
              m += stepR;
              intersectionR.next += intersectionR.step;
            }
            yield { q: q | 0, r: r | 0, m };
          }
        }

        if (tileCount > 0) {
          yield { q: endQ | 0, r: endR | 0, m: 1 };
        }
      },

      *tilesHitBy(p, v) {
        yield *Geometry.tilesHitBetween(p, { x: p.x + v.x, y: p.y + v.y });
      },

      /**
       * @param {XY[]} bounds  the upper-left and lower-right bounds
       * @yields {QR}
       */
      *tilesHitInBounds(bounds) {
        for (let r = Math.floor(bounds[0].y / Constants.TILE_HEIGHT); r * Constants.TILE_HEIGHT < bounds[1].y; r++) {
          for (let q = Math.floor(bounds[0].x / Constants.TILE_WIDTH); q * Constants.TILE_WIDTH < bounds[1].x; q++) {
            yield { q, r };
          }
        }
      },

      /**
       * @param {XY} p1  the starting position
       * @param {XY} p2  the ending position
       * @param {number} r  the radius of the moving circle
       * @yields {QR}
       */
      *tilesHitBetweenCircle(p1, p2, r) {
        let bounds = [
          { x: Math.min(p1.x, p2.x) - r, y: Math.min(p1.y, p2.y) - r },
          { x: Math.max(p1.x, p2.x) + r, y: Math.max(p1.y, p2.y) + r }
        ];
        yield *Geometry.tilesHitInBounds(bounds);
      },

      /**
       * @param {XY} p  the starting position
       * @param {XY} v  the velocity (movement)
       * @param {number} r  the radius of the moving circle
       * @yields {QR}
       */
      *tilesHitByCircle(p, v, r) {
        yield *Geometry.tilesHitBetweenCircle(p, { x: p.x + v.x, y: p.y + v.y }, r);
      },

      // https://stackoverflow.com/a/18790389/80630
      intersectCircleRectangle(p1, p2, r, bounds) {
        // If the bounding box around the start and end points (+radius on all
        // sides) does not intersect with the rectangle, definitely not an
        // intersection
        if (Math.max(p1.x, p2.x) + r < bounds[0].x ||
            Math.min(p1.x, p2.x) - r > bounds[1].x ||
            Math.max(p1.y, p2.y) + r < bounds[0].y ||
            Math.min(p1.y, p2.y) - r > bounds[1].y)
          return;

        let dx = p2.x - p1.x;
        let dy = p2.y - p1.y;
        let invdx = (dx === 0 ? 0 : 1 / dx);
        let invdy = (dy === 0 ? 0 : 1 / dy);
        let cornerX = Infinity;
        let cornerY = Infinity;

        // Check each side of the rectangle for a single-side intersection
        // Left Side
        if (p1.x - r < bounds[0].x && p2.x + r > bounds[0].x) {
          let ltime = ((bounds[0].x - r) - p1.x) * invdx;
          if (ltime >= 0 && ltime <= 1) {
            let ly = dy * ltime + p1.y;
            if (ly >= bounds[0].y && ly <= bounds[1].y) {
              return { x: dx * ltime + p1.x, y: ly, t: ltime, nx: -1, ny: 0, ix: bounds[0].x, iy: ly };
            }
          }
          cornerX = bounds[0].x;
        }
        // Right Side
        if (p1.x + r > bounds[1].x && p2.x - r < bounds[1].x) {
          let rtime = (p1.x - (bounds[1].x + r)) * -invdx;
          if (rtime >= 0 && rtime <= 1) {
            let ry = dy * rtime + p2.y;
            if (ry >= bounds[0].y && ry <= bounds[1].y) {
              return { x: dx * rtime + p1.x, y: ry, t: rtime, nx: 1, ny: 0, ix: bounds[1].x, iy: ry };
            }
          }
          cornerX = bounds[1].x;
        }
        // Top Side
        if (p1.y - r < bounds[0].y && p2.y + r > bounds[0].y) {
          let ttime = ((bounds[0].y - r) - p1.y) * invdy;
          if (ttime >= 0 && ttime <= 1) {
            let tx = dx * ttime + p1.x;
            if (tx >= bounds[0].x && tx <= bounds[1].x) {
              return { x: tx, y: dy * ttime + p1.y, t: ttime, nx: 0, ny: -1, ix: tx, iy: bounds[0].y };
            }
          }
          cornerY = bounds[0].y;
        }
        // Bottom Side
        if (p1.y + r > bounds[1].y && p2.y - r < bounds[1].y) {
          let btime = (p1.y - (bounds[1].y + r)) * -invdy;
          if (btime >= 0 && btime <= 1) {
            let bx = dx * btime + p1.x;
            if (bx >= bounds[0].x && bx <= bounds[1].x) {
              return { x: bx, y: dy * btime + p1.y, t: btime, nx: 0, ny: 1, ix: bx, iy: bounds[0].y };
            }
          }
          cornerY = bounds[1].y;
        }

        // If we haven't touched anything, there is no collision
        if (cornerX === Infinity && cornerY === Infinity) return;

        // We didn't pass through a side but may be hitting the corner
        if (cornerX !== Infinity && cornerY === Infinity) {
          cornerY = dy > 0 ? bounds[1].y : bounds[0].y;
        }
        if (cornerY !== Infinity && cornerX === Infinity) {
          cornerX = dx > 0 ? bounds[1].x : bounds[0].x;
        }

        /* Solve the triangle between the start, corner, and intersection point.
         *
         *           +-----------T-----------+
         *           |                       |
         *          L|                       |R
         *           |                       |
         *           C-----------B-----------+
         *          / \
         *         /   \r     _.-E
         *        /     \ _.-'
         *       /    _.-I
         *      / _.-'
         *     S-'
         *
         * S = start of circle's path
         * E = end of circle's path
         * LTRB = sides of the rectangle
         * I = {ix, iY} = point at which the circle intersects with the rectangle
         * C = corner of intersection (and collision point)
         * C=>I (r) = {nx, ny} = radius and intersection normal
         * S=>C = cornerdist
         * S=>I = intersectionDistance
         * S=>E = lineLength
         * <S = innerAngle
         * <I = angle1
         * <C = angle2
         */
        let inverseRadius = 1 / r;
        let lineLength = Math.sqrt(dx * dx + dy * dy);
        let cornerdx = cornerX - p1.x;
        let cornerdy = cornerY - p1.y;
        let cornerDistance = Math.sqrt(cornerdx * cornerdx + cornerdy * cornerdy);
        let innerAngle = Math.acos((cornerdx * dx + cornerdy * dy) / (lineLength * cornerDistance));

        // If the circle is too close, no intersection
        if (cornerDistance < r) return;

        // If inner angle is zero, it's going to hit the corner straight on.
        if (innerAngle === 0) {
          let time = (cornerDistance - r) / lineLength;

            // Ignore if time is outside boundaries of (p1, p2)
            if (time > 1 || time < 0) return;

            let ix = time * dx + p1.x;
            let iy = time * dy + p1.y;
            let nx = cornerdx / cornerDistance;
            let ny = cornerdy / cornerDistance;

            return isNaN(ix) ? undefined : { x: ix, y: iy, t: time, nx, ny, ix: cornerX, iy: cornerY };
        }

        let innerAngleSin = Math.sin(innerAngle);
        let angle1Sin = innerAngleSin * cornerDistance * inverseRadius;

        // If the angle is too large, there is no collision
        if (Math.abs(angle1Sin) > 1) return;

        let angle1 = Math.PI - Math.asin(angle1Sin);
        let angle2 = Math.PI - innerAngle - angle1;
        let intersectionDistance = r * Math.sin(angle2) / innerAngleSin;
        let time = intersectionDistance / lineLength;

        // Ignore if time is outside boundaries of (p1, p2)
        if (time > 1 || time < 0) return;

        let ix = time * dx + p1.x;
        let iy = time * dy + p2.y;
        let nx = (ix - cornerX) * inverseRadius;
        let ny = (iy - cornerY) * inverseRadius;

        return isNaN(ix) ? undefined : { x: ix, y: iy, t: time, nx, ny, ix: cornerX, iy: cornerY };
      },

      flood(maze, pos) {
        let result = Geometry.array2d(maze[0].length, maze.length, 100);
        console.log(result[0][0]);
        let stack = [{ ...pos, cost: 0 }];
        while (stack.length > 0) {
          let { q, r, cost } = stack.shift();
          if (result[r][q] <= cost) continue;
          result[r][q] = cost++;
          if (maze[r][q + 1] && result[r][q + 1] > cost) stack.push({ q: q + 1, r, cost });
          if (maze[r][q - 1] && result[r][q - 1] > cost) stack.push({ q: q - 1, r, cost });
          if (maze[r + 1][q] && result[r + 1][q] > cost) stack.push({ q, r: r + 1, cost });
          if (maze[r - 1][q] && result[r - 1][q] > cost) stack.push({ q, r: r - 1, cost });
        }
        console.log(["---", result, "---"]);
        return result;
      },

      array2d(width, height, value) {
        let fn = typeof value === 'function' ? value : () => value;
        return Array.from({ length: height }, () => Array.from({ length: width }, fn));
      },

      tileIsPassable(q, r) {
        return game.maze.maze[r][q];
      }
    };

    /**
     * Seeded random number generator, using SimpleFastCounter for generator and
     * xmur3 for hashing.
     *
     * https://stackoverflow.com/questions/521295/seeding-the-random-number-generator-in-javascript
     */
    const Random = {
        sfc32(a, b, c, d) {
            return () => {
                a >>>= 0; b >>>= 0; c >>>= 0; d >>>= 0;
                let t = (a + b) | 0;
                a = b ^ b >>> 9;
                b = c + (c << 3) | 0;
                c = (c << 21 | c >>> 11);
                d = d + 1 | 0;
                t = t + d | 0;
                c = c + t | 0;
                return (t >>> 0) / 4294967296;
            }
        },

        xmur3(str) {
            let i, h;
            for (i = 0, h = 1779033703 ^ str.length; i < str.length; i++) {
                h = Math.imul(h ^ str.charCodeAt(i), 3432918353);
                h = h << 13 | h >>> 19;
            }

            return () => {
                h = Math.imul(h ^ h >>> 16, 2246822507);
                h = Math.imul(h ^ h >>> 13, 3266489909);
                return (h ^= h >>> 16) >>> 0;
            }
        },

        seed(str) {
            let seedfn = this.xmur3(str);
            let randfn = this.sfc32(seedfn(), seedfn(), seedfn(), seedfn());

            // If min/max are not supplied, returns a random floating point value
            // (>=0 && <1). If they are supplied, returns a random integer value
            // (>=min && <max).
            return (min, max) => {
                if (typeof min === "number" && typeof max === "number") {
                    return Math.floor(randfn() * (max - min)) + min;
                } else {
                    return randfn();
                }
            };
        }
    };

    const CROSS = [
        { q: 0, r: 0 },
        { q: 0, r: -1 },
        { q: 0, r: 1 },
        { q: -1, r: 0 },
        { q: 1, r: 0 }
    ];

    const CARDINALS = [
        { q: 0, r: -1 },
        { q: 0, r: 1 },
        { q: -1, r: 0 },
        { q: 1, r: 0 }
    ];

    // Maze Generator - TODO
    //
    //
    const MazeGenerator = {
        openCrossCells(maze, q, r) {
            return CROSS.filter(dir => {
                let [cq, cr] = [q + dir.q, r + dir.r];
                return cr >= 0 && cr < maze.length && cq >= 0 && cq < maze[0].length && !maze[cr][cq];
            });
        },

        attemptRoomPlacement(maze, rand, bounds, width, height, roomNumber) {
            let q = rand(0, (bounds[1].q - width) / 2) * 2 + 1;
            let r = rand(0, (bounds[1].r - height) / 2) * 2 + 1;
            let found = undefined;

            //
            // TUNEABLE
            //
            // You can never "touch" the spawn room (Room #1). If you touch another room,
            // there's a 9% chance for each attempt to allow the room to be built, potentially
            // overlapping/intersecting, or even completely eclipsing the previous room
            // if this room is larger.
            //
            for (let j = 0; j < height; j++) {
                for (let i = 0; i < width; i++) {
                    if (maze[r+j][q+i]) roomNumber = found = maze[r+j][q+i];
                    if (maze[r+j][q+i]===1) return;
                }
            }
            if (found && rand() > 0.01) return;

            for (let j = 0; j < height; j++) {
                for (let i = 0; i < width; i++) {
                    maze[r+j][q+i] = roomNumber;
                }
            }

            return { q, r, width, height, roomNumber };
        },

        carveMaze(maze, rand, startQ, startR, roomNumber) {
            let cells = [{ q: startQ, r: startR }];
            maze[startR][startQ] = roomNumber;

            while (cells.length > 0) {
                //
                // TUNEABLE
                //
                // When carving, we can attempt to carve off any cell in our collected list. For
                // this game, we choose 75% to keep carving off the last cell we carved (windy passage),
                // and 25% to carve somewhere else (branch). If we choose to branch, that's the
                // new windy passage, leaving the old one for later.
                //
                let idx = rand() < 0.25 ? rand(0, cells.length) : cells.length - 1;
                let cell = cells[idx];
                if (idx !== cells.length - 1) {
                    cells.splice(idx, 1);
                    cells.push(cell);
                }

                let possible = CARDINALS.filter(dir => {
                    return MazeGenerator.openCrossCells(maze, cell.q + dir.q, cell.r + dir.r).length === 4;
                });
    /*
                let possible = CARDINALS.filter(dir => {
                    console.log(cell.r + dir.r, cell.q + dir.q);
                    if (cell.r + dir.r < 0 || cell.r + dir.r >= maze.length || cell.q + dir.q < 0 || cell.q + dir.q >= maze[0].length) return false;
                    if (maze[cell.r + dir.r][cell.q + dir.q]) return false;

                    let openCells = CARDINALS.filter(dir2 => {
                        let [cq, cr] = [cell.q + dir.q + dir2.q, cell.r + dir.r + dir2.r];
                        if (cr < 0 || cr >= maze.length || cq < 0 || cq >= maze[0].length) return false;
                        return !maze[cr][cq];
                    });
                    console.log([dir.q, dir.r, openCells.length]);

                    return openCells.length === 3;
                });
                console.log(possible);
                */

                if (possible.length === 0) {
                    cells.splice(cells.indexOf(cell), 1);
                } else {
                    let choice = possible[rand(0, possible.length)];
                    maze[cell.r + choice.r][cell.q + choice.q] = roomNumber;
                    cells.push({ q: cell.q + choice.q, r: cell.r + choice.r });
                    console.log(cells);
                }
            }
        },

        carveConnectors(maze, rand) {
            let connectors = [];
            let rooms = [];

            for (let r = 1; r < maze.length - 1; r++) {
                for (let q = 1; q < maze.length - 1; q++) {
                    let room1, room2;

                    let [up, down, left, right] = [
                        maze[r - 1][q],
                        maze[r + 1][q],
                        maze[r][q - 1],
                        maze[r][q + 1]
                    ];

                    if (up && down && up !== down) {
                        room1 = up, room2 = down;
                    } else if (left && right && left !== right) {
                        room1 = left, room2 = right;
                    }

                    if (room1 && room2) {
                        if (room1 > room2) {
                            [room1, room2] = [room2, room1];
                        }
                        connectors.push({ q, r, room1, room2 });
                        rooms.push(room1, room2);
                        //connectors.push({ q, r, room1: room2, room2: room1 });
                        /*connectors[room1] = connectors[room1] || [];
                        connectors[room1][room2] = connectors[room1][room2] || [];
                        connectors[room1][room2].push({ q, r });
                        connectors[room2] = connectors[room2] || [];
                        connectors[room2][room1] = connectors[room2][room1] || [];
                        connectors[room2][room1].push({ q, r });*/
                    }
                }
            }

            let groups = [...new Set(rooms)].map(a => [a]);
            console.log(groups);

            while (connectors.length > 0) {
                let idx = rand(0, connectors.length);
                let choice = connectors.splice(idx, 1)[0];
                maze[choice.r][choice.q] = choice.room1;

                let group1 = groups.find(group => group.includes(choice.room1));
                let group2 = groups.find(group => group.includes(choice.room2));

                if (rand() > 0.2) {
                    connectors = connectors.filter(c => !(
                        (group1.includes(c.room1) && group2.includes(c.room2)) ||
                        (group2.includes(c.room1) && group1.includes(c.room2))
                    ));
                }

                if (group1 !== group2) {
                    groups.splice(groups.indexOf(group2), 1);
                    group1.push(...group2);
                }
            }
    /*
            while (groups.length > 1) {
                let a = rand(0, groups.length);
                let b = (a + 1) % groups.length;
                let possible = connectors.filter(pair => groups[a].includes(pair.room1) && groups[b].includes(pair.room2));
                console.log(possible);
                let choice = possible[rand(0, possible.length)];

                maze[choice.r][choice.q] = pair.room1;
                groups.splice(b, 1);
                groups[a] = groups[a].concat(groups[b]);
            }
            */

            /*for (let pair of Object.keys(connectors)) {
                let choice = connectors[pair][rand(0, connectors[pair].length)];
                maze[choice.r][choice.q] = 2;
            }*/
        },

        pruneDeadEnds(maze, rand) {
            let deadEnds = [];

            for (let r = 0; r < maze.length; r++) {
                for (let q = 0; q < maze[0].length; q++) {
                    if (maze[r][q] && MazeGenerator.openCrossCells(maze, q, r).length >= 3) {
                        deadEnds.push({ q, r });
                    }
                }
            }

            while (deadEnds.length > 0) {
                let idx = rand(0, deadEnds.length);
                let cell = deadEnds.splice(idx, 1)[0];

                if (rand() < 0.45) {
                    let possible = CARDINALS.filter(dir => {
                        return MazeGenerator.openCrossCells(maze, cell.q + dir.q, cell.r + dir.r).length <= 2 &&
                          (cell.q+dir.q) >= 0 && (cell.q+dir.q) < maze[0].length &&
                          (cell.r+dir.r) >= 0 && (cell.r+dir.r) < maze.length;
                    });
                    let choice = possible[rand(0, possible.length)];
                    if (choice) {
                        maze[cell.r + choice.r][cell.q + choice.q] = maze[cell.r][cell.q];
                        continue;
                    }
                }

                if (rand() > 0.05) {
                    maze[cell.r][cell.q] = 0;
                    CARDINALS.forEach(dir => {
                        let [cq, cr] = [cell.q + dir.q, cell.r + dir.r];
                        if (maze[cr][cq] && MazeGenerator.openCrossCells(maze, cq, cr).length >= 3 &&
                            cq >= 0 && cq < maze[0].length && cr >= 0 && cr < maze.length) {
                            deadEnds.push({ q: cq, r: cr });
                        }
                    });
                }
            }
        },

        createRoomLookup(rooms) {
            return rooms.reduce((hash, room) => {
                hash[room.roomNumber] = hash[room.roomNumber] || [];
                hash[room.roomNumber].push(room);
                return hash;
            }, {});
        },

        createTiles(maze, rand) {
            let tiles = Geometry.array2d(maze[0].length, maze.length, () => {
                return (rand() < 0.1 ? Constants.TILE_WALL2 : Constants.TILE_WALL1) + (0b000_010_000 << 4);
            });
            for (let r = 0; r < tiles.length; r++) {
                for (let q = 0; q < tiles[0].length; q++) {
                    if (maze[r][q]) {
                        let key =
                            (maze[r - 1][q - 1] ? 0 : 0b100_000_000) +
                            (maze[r - 1][q]     ? 0 : 0b010_000_000) +
                            (maze[r - 1][q + 1] ? 0 : 0b001_000_000) +
                            (maze[r][q - 1]     ? 0 : 0b000_100_000) +
                            (maze[r][q]         ? 0 : 0b000_010_000) +
                            (maze[r][q + 1]     ? 0 : 0b000_001_000) +
                            (maze[r + 1][q - 1] ? 0 : 0b000_000_100) +
                            (maze[r + 1][q]     ? 0 : 0b000_000_010) +
                            (maze[r + 1][q + 1] ? 0 : 0b000_000_001);
                        tiles[r][q] = (key << 4) + Constants.TILE_FLOOR1;
                    }
                }
            }
            return tiles;
        },

        generate(seed) {
            let maze = Geometry.array2d(99, 99, 0);
            //let rand = Random.seed("apples");
            let rand = Random.seed(seed);

            let roomNumber = 1;

            let result = MazeGenerator.attemptRoomPlacement(maze, rand, [{ q: 0, r: 0 }, { q: 99, r: 99 }], 11, 9, roomNumber++);
            console.log(result);
            let rooms = [result];

            for (let i = 0; i < 100; i++) {
                let w = rand(3, 4) * 2 + 1;
                let h = rand(3, 4) * 2 + 1;
                result = MazeGenerator.attemptRoomPlacement(maze, rand, [{ q: 0, r: 0 }, { q: 99, r: 99 }], w, h, roomNumber);
                if (result) rooms.push(result);
                if (result && result.roomNumber === roomNumber) roomNumber++;
            }
            for (let i = 0; i < 100; i++) {
                let w = rand(2, 4) * 2 + 1;
                let h = rand(2, 4) * 2 + 1;
                result = MazeGenerator.attemptRoomPlacement(maze, rand, [{ q: 0, r: 0 }, { q: 99, r: 99 }], w, h, roomNumber);
                if (result) rooms.push(result);
                if (result && result.roomNumber === roomNumber) roomNumber++;
            }
            for (let i = 0; i < 100; i++) {
                let w = rand(1, 4) * 2 + 1;
                let h = rand(1, 4) * 2 + 1;
                result = MazeGenerator.attemptRoomPlacement(maze, rand, [{ q: 0, r: 0 }, { q: 99, r: 99 }], w, h, roomNumber);
                if (result) rooms.push(result);
                if (result && result.roomNumber === roomNumber) roomNumber++;
            }

            /*
            random room placement

            for (let i = 0; i < 900; i++) {
                let w = rand(1, 4) * 2 + 1;
                let h = rand(1, 4) * 2 + 1;
                result = MazeGenerator.attemptRoomPlacement(maze, rand, [{ q: 0, r: 0 }, { q: 99, r: 99 }], w, h, roomNumber++);
                console.log(result);
            }
            */

            for (let r = 1; r < 99; r += 2) {
                for (let q = 1; q < 99; q += 2) {
                    if (MazeGenerator.openCrossCells(maze, q, r).length === 5) {
                        MazeGenerator.carveMaze(maze, rand, q, r, roomNumber++);
                    }
                }
            }

            MazeGenerator.carveConnectors(maze, rand);

            MazeGenerator.pruneDeadEnds(maze, rand);

            let homeflow = Geometry.flood(maze, rooms[0]);
            return {
                maze,
                tiles: MazeGenerator.createTiles(maze, rand),
                rand,
                rooms: this.createRoomLookup(rooms),
                flowhome: homeflow
            };
        }
    };

    const C_WIDTH = 3;
    const C_HEIGHT = 5;

    // Very simple variable-width font implementation. The characters in the font strip
    // are left-aligned in their 3x5 pixel boxes, so in order to have variable width,
    // we just need to note the characters that AREN'T full width. Anything not in
    // this list has full shift (3+1 = 4 pixels).
    const C_SHIFT = {
        32: 3,          // Space
        44: 3,          // Comma
        46: 3,          // Period
        73: 2           // I
    };

    /**
     * Text
     *
     * Utilities for drawing text using in-game pixel font.
     */
    const Text = {
        async init() {
            this.default = Sprite.font.img;
            this.fire = this.recolor(this.default, ctx => {
                let gradient = ctx.createLinearGradient(0, 0, 0, this.default.height);
                gradient.addColorStop(0, 'rgba(240,134,51,1)');
                gradient.addColorStop(1, 'rgba(250,220,74,1)');
                return gradient;
            });
            this.shadow = this.recolor(this.default, 'rgba(240, 240, 255, 0.25)');
        },

        drawText(ctx, text, u, v, font = this.default, scale = 1) {
            text = text.toUpperCase();
            for (let idx = 0; idx < text.length; idx++) {
                let c = text.charCodeAt(idx);
                ctx.drawImage(
                    font,
                    (c - 32) * (C_WIDTH + 1), 0, C_WIDTH, C_HEIGHT,
                    u, v, C_WIDTH * scale, C_HEIGHT * scale
                );
                u += (C_SHIFT[c] || (C_WIDTH + 1)) * scale;
            }
        },

        drawRightText(ctx, text, u, v, font = this.default, scale = 1) {
            text = text.toUpperCase();
            u -= this.measureWidth(text, scale);
            this.drawText(ctx, text, u, v, font, scale);
        },

        drawParagraph(ctx, text, u, v, w, h, font = this.default, scale = 1) {
            let cu = u, cv = v, phrases = text.toUpperCase().split(' ');

            for (let phrase of phrases) {
                let phraseWidth = this.measureWidth(phrase, scale);
                if (cu + phraseWidth - u > w) {
                    cu = u;
                    cv += (C_HEIGHT + 2) * scale;
                }
                this.drawText(ctx, phrase, cu, cv, font, scale);
                cu += phraseWidth + (C_SHIFT[32] );
            }
        },

        measureWidth(text, scale) {
            return text.split('').reduce((sum, c) => sum + (C_SHIFT[c.charCodeAt(0)] || 4), 0) * scale;
        },

        recolor(font, color) {
            let canvas = new Canvas(font.width, font.height);
            canvas.ctx.fillStyle = typeof color === "function" ? color(canvas.ctx) : color;
            canvas.ctx.fillRect(0, 0, font.width, font.height);
            console.log(font.width, font.height, color, canvas);
            canvas.ctx.globalCompositeOperation = 'destination-in';
            canvas.ctx.drawImage(font, 0, 0);
            return canvas.canvas;
        },
    };

    /**
     * Monster
     */
    class Bullet {
      constructor() {
        this.pos = { x: 0, y: 0 };
        this.vel = { x: 0, y: 0 };
        console.log("created");
      }

      think() {
        this.vel.x *= 0.85;
        this.vel.y *= 0.85;

        this.pos.x += this.vel.x;
        this.pos.y += this.vel.y;

        if (Math.abs(this.vel.x) < 1 && Math.abs(this.vel.y) < 1) {
          console.log("culled");
          this.cull = true;
        }
      }

      draw(viewport) {
        Sprite.drawViewportSprite(viewport, Sprite.bullet, this.pos, game.camera.pos);
      }
    }

    /**
     * Player
     */
    class Player {
      constructor() {
        this.pos = { x: 0, y: 0 };
        this.vel = { x: 0, y: 0 };
        this.facing = { x: 0, y: -1, m: 0 };
        this.hp = 100;
      }

      think() {
        if (game.pointerXY()) {
          this.facing = Geometry.vectorBetween(this.pos, game.pointerXY());
        }

        let v = {
          x: game.input.direction.x * game.input.direction.m * 2.5,
          y: game.input.direction.y * game.input.direction.m * 2.5
        };
        this.vel.x = (this.vel.x + v.x) / 2;
        this.vel.y = (this.vel.y + v.y) / 2;

        if (game.input.pressed[Input.Action.ATTACK]) {
          this.fireShotgun();
        }
      }

      draw(viewport) {
        Sprite.drawViewportSprite(viewport, Sprite.player, this.pos, game.camera.pos);

        viewport.ctx.strokeStyle = 'rgba(255, 255, 64, 0.3)';
        viewport.ctx.beginPath();
        let uv = game.xy2uv(this.pos);
        viewport.ctx.arc(uv.u, uv.v, Constants.PLAYER_BOUND_RADIUS, 0, 2 * Math.PI);
        viewport.ctx.setLineDash([2, 1]);
        viewport.ctx.stroke();
        viewport.ctx.setLineDash([]);
      }

      fireShotgun() {
        console.log(this.facing);
        let angle = Geometry.vector2angle(this.facing);
        let spread = Geometry.RAD[60];
        let pellets = 12;
        // shotgun: 60, 12, 10
        // sniper: 5, 12, 40

        for (let idx = 0; idx < pellets; idx++) {
          let pelletAngle = (idx * spread / (pellets - 1)) + angle - spread / 2;
          let pelletVector = Geometry.angle2vector(pelletAngle);
          let bullet = new Bullet();
          bullet.pos = { ...this.pos };
          bullet.vel = { x: pelletVector.x * 10, y: pelletVector.y * 10 };
          game.entities.push(bullet);
        }
      }
    }

    /**
     * Detection
     */
    const Detection = {
      lineOfSight(a, b) {
          // todo: this checks center mass
          for (let tile of Geometry.tilesHitBetween(a.pos, b.pos)) {
            if (!Geometry.tileIsPassable(tile.q, tile.r)) return false;
          }

          // todo: distance away
          // todo: facing check
          return true;
      }
    };

    /**
     * Behavior
     */
    const Behavior = {
      IDLE:   101,
      WANDER: 102,
      CHASE:  103,
      HUNT:   104,
      FLEE:   105,

      apply(entities) {
        for (let entity of entities) {
          if (entity.think) entity.think();
        }
      }
    };

    /**
     * Monster
     */
    class Monster {
      constructor() {
        this.pos = { x: 0, y: 0 };
        this.vel = { x: 0, y: 0 };
        this.facing = { x: 0, y: -1, m: 0 };
        this.hp = 100;
      }

      think() {
        switch (this.state) {
          case Behavior.IDLE:
            if (Detection.lineOfSight(this, game.player)) {
              this.state = Behavior.CHASE;
            }
            break;
          case Behavior.CHASE:
            let diff = Geometry.vectorBetween(this.pos, game.player.pos);
            diff.m = Geometry.clamp(diff.m, 0, 1);
            this.vel = { x: diff.x * diff.m, y: diff.y * diff.m };
            break;
          default:
            this.state = Behavior.IDLE;
            break;
        }
      }

      draw(viewport) {
        // TODO
        Sprite.drawViewportSprite(viewport, Sprite.monster, this.pos, game.camera.pos);
      }
    }

    const Menu = {
        draw(viewport) {

            viewport.ctx.fillStyle = '#393994';
            viewport.ctx.fillRect(40, 40, 140, 80);


            let options = [
                { name: 'Abominable Snowman', cost: 500 },
                { name: 'Swords to Plowshares', cost: 600 },
                { name: 'Something', cost: 250 },
                { name: 'Plowshares', cost: 300 },
                { name: 'Will 1', cost: 400 },
                { name: 'Will 1', cost: 240 },
                { name: 'Elpegant', cost: 300 }
            ];

            for (let idx = 0; idx < options.length; idx++) {
                let option = options[idx];
                Text.drawText(viewport.ctx, option.name, 43, 40 + 2 + idx * 9, Text.shadow);
                Text.drawText(viewport.ctx, option.name, 42, 40 + 2 + idx * 9);

                Text.drawRightText(viewport.ctx, String(option.cost), 180 - 1, 40 + 2 + idx * 9, Text.shadow);
                Text.drawRightText(viewport.ctx, String(option.cost), 180 - 2, 40 + 2 + idx * 9);
            }

            /*
            Text.drawText(ctx, "Abominable Snowman", 120, 50);
            Text.drawText(ctx, "Abominable Snowman", 121, 50, Text.shadow);
            Text.drawRightText(ctx, "500", 120, 70);
            Text.drawRightText(ctx, "1,200", 120, 80);
            Text.drawRightText(ctx, "5,000", 120, 90);
            Text.drawRightText(ctx, "5,000", 121, 91, Text.shadow);


            5px 7px 9px

            draw(viewport) {
                Sprite.drawViewportSprite(viewport, Sprite.player, this.pos, game.camera.pos);

                viewport.ctx.strokeStyle = 'rgba(255, 255, 64, 0.3)';
                viewport.ctx.beginPath();*/

        }
    };

    /**
     * Movement
     */
    const Movement = {
      apply(entities) {
        for (let entity of entities) {
          // Movement only applies to active entities with positions and velocities
          if (!entity.pos || !entity.vel || entity.cull) continue;

          Movement.clipVelocityAgainstWalls(entity);

          entity.pos.x += entity.vel.x;
          entity.pos.y += entity.vel.y;
        }
      },

      clipVelocityAgainstWalls(entity) {
        for (let rounds = 0; rounds < 5; rounds++) {
          let collided = false;
          for (let tile of Geometry.tilesHitByCircle(entity.pos, entity.vel, Constants.PLAYER_BOUND_RADIUS)) {
            if (!Geometry.tileIsPassable(tile.q, tile.r)) {
              let bounds = [Geometry.qr2xy(tile), Geometry.qr2xy({ q: tile.q + 1, r: tile.r + 1 })];
              let hit = Geometry.intersectCircleRectangle(
                entity.pos,
                { x: entity.pos.x + entity.vel.x, y: entity.pos.y + entity.vel.y },
                Constants.PLAYER_BOUND_RADIUS,
                bounds
              );

              // The "math" part of detecting collision with walls is buried in the geometry functions
              // above, but it's not the whole story -- if we do detect a collision, we still need to
              // decide what to do about it.
              //
              // If the normal vector is horizontal or vertical, we zero out the portion of the vector
              // moving into the wall, allowing frictionless sliding (if we wanted to apply friction,
              // we could also reduce the other axis slightly).
              //
              // If the normal vector is not 90*, we "back up" off the wall by exactly the normal vector.
              // If the player runs into a corner at EXACTLY a 45 degree angle, they will simply "stick"
              // on it -- but one degree left or right and they'll slide around the corner onto the wall,
              // which is the desired result.
              if (hit) {
                if (hit.nx === 0) {
                  entity.vel.y = hit.y - entity.pos.y;
                } else if (hit.ny === 0) {
                  entity.vel.x = hit.x - entity.pos.x;
                } else {
                  entity.vel.x += hit.nx;
                  entity.vel.y += hit.ny;
                }
                collided = true;
              }
            }
          }
          if (!collided) break;
        }
      }
    };

    /*import { Input } from './Input';
    import { Player } from './Player';
    import { ScreenShake } from './ScreenShake';
    import { Hud } from './Hud';
    import { Menu, PauseMenu, IntroMenuA, IntroMenuB, OutroMenu } from './Menu';
    import { Audio } from './Audio';
    import { Assets, Sprite, drawPoly } from './Assets';
    import { Demon1 } from './Demon1';
    import { Canvas } from './Canvas';
    import { Particle, PortalParticle, SuperParticle } from './Particle';
    import { Hive } from './Hive';
    import { Point, intersectingPolygons, intersectingCircles, RAD, vectorFromAngle, distance } from './Geometry';
    import { HEARTBEAT } from './Config';
    import { Tween } from './Tween';
    */

    /**
     * Game state.
     */
    class Game {
        constructor() {
        }

        async init() {
            viewport.init();

            this.input = new Input();
            await this.input.init();

            this.maze = MazeGenerator.generate("apples");
            this.camera = { pos: { x: 1, y: 1 } };

            await Assets.init();
            await Text.init();

            this.entities = [];

            this.player = new Player();
            console.log(this.maze.rooms);
            this.player.pos.x = this.maze.rooms[1][0].q * Constants.TILE_WIDTH + Constants.TILE_WIDTH / 2;
            this.player.pos.y = this.maze.rooms[1][0].r * Constants.TILE_WIDTH + Constants.TILE_WIDTH / 2;

            this.entities.push(this.player);

            let monster = new Monster();
            monster.pos.x = 11 * 32 + 16;
            monster.pos.y = 11 * 32 + 16;
            this.entities.push(monster);

            /*

            await Assets.init();

            this.artifacts = [
                await Assets.grayscaleNoise(this.canvas.width, this.canvas.height),
                await Assets.grayscaleNoise(this.canvas.width, this.canvas.height),
                await Assets.grayscaleNoise(this.canvas.width, this.canvas.height)
            ];

            this.input = new Input();
            await this.input.init();

            this.player = new Player();

            this.hud = new Hud();

            this.particles = [];
            this.screenshakes = [];
            this.menuStack = [];

            this.monsters = [];

            // Create, but do not initialize, the audio object. The audio object will be
            // initialized as soon as possible by the first user input event, to meet
            // requirements of the browser.
            this.audio = new Audio();

            this.score = 0;

            this.hive = new Hive();

            */
        }

        start() {
            this.frame = 0;

            this.started = true;
            this.update();
            this.started = false;

            /*
            this.menuStack.push(new IntroMenuA({
                onClose: () => {
                    this.menuStack.push(new IntroMenuB({}));
                }
            }));*/

            //this.framems = performance.now();
            window.requestAnimationFrame(() => this.onFrame(1));
            //this.frame = 0;
        }

        onFrame(currentms) {
            this.frame++;
            viewport.resize();
            this.update();
            this.draw(viewport.ctx);
            window.requestAnimationFrame(() => this.onFrame(currentms));
        }

        update() {
            // Pull in frame by frame button pushes / keypresses / mouse clicks
            this.input.update();

            // Behavior (AI, player input, etc.)
            Behavior.apply(this.entities);

            // Movement (apply entity velocity to position)
            Movement.apply(this.entities);

            // camera logic! where does it go! (an entity perhaps?)
            let diff = {
                x: this.player.pos.x - this.camera.pos.x,
                y: this.player.pos.y - this.camera.pos.y
            };
            this.camera.pos.x += diff.x * 0.3;
            this.camera.pos.y += diff.y * 0.3;

            // Culling Step
            this.entities = this.entities.filter(entity => !entity.cull);
        }

        draw(ctx) {
            ctx.setTransform(1, 0, 0, 1, 0, 0);
            ctx.scale(viewport.scale, viewport.scale);

            ctx.fillStyle = 'rgba(48,32,48,1)';
            ctx.fillRect(0, 0, viewport.width, viewport.height);

            /*ctx.fillStyle = 'rgba(150, 128, 128, 1)';
            ctx.fillRect(10, 10, 100, 100);*/

            this.drawMaze(ctx, this.maze);

            ctx.fillStyle = 'white';
            ctx.font = '8px serif';
            ctx.fillText([viewport.scale,viewport.width,viewport.height].join(', '), 10, 10);

            /*
            Text.drawParagraph(ctx,
                "Hold down fire button to decrease spread and increase range." +
                " Most critical hits, when used, will go up 175%.",
                121, 50, 225, 100, Text.shadow, 1);
            Text.drawParagraph(ctx,
                "Hold down fire button to decrease spread and increase range." +
                " Most critical hits, when used, will go up 175%.",
                120, 50, 225, 100, Text.fire, 1);
                */

            Sprite.drawSprite(ctx, Sprite.demon_walk, 50, 50);

            let ptr = this.input.pointer;
            if (ptr) {
                Text.drawText(ctx, JSON.stringify(ptr), 20, 20);
                ctx.fillStyle = 'rgba(255, 120, 120, 1)';
                ctx.fillRect(ptr.u - 1, ptr.v - 1, 3, 3);
            }

            for (let entity of this.entities) {
                entity.draw(viewport);
            }

            // TODO
            // this.trace(viewport);

            // x

            /*
            ctx.fillStyle = 'rgba(150, 128, 128, 1)';
            ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);

            this.shadow.ctx.globalCompositeOperation = 'copy';
            //this.shadow.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
            this.shadow.ctx.fillStyle = 'rgba(0, 0, 0, 0.99)';
            this.shadow.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);

            this.shadow.ctx.globalCompositeOperation = 'destination-out';
            let grd = this.shadow.ctx.createRadialGradient(game.player.x, game.player.y, 0, game.player.x, game.player.y, 200);
            grd.addColorStop(0, "rgba(0, 0, 0, 1)");
            grd.addColorStop(0.5, "rgba(0, 0, 0, 0.95)");
            grd.addColorStop(1, "rgba(0, 0, 0, 0)");
            this.shadow.ctx.fillStyle = grd;
            this.shadow.ctx.beginPath();
            this.shadow.ctx.arc(game.player.x, game.player.y, 200, 0, 2 * Math.PI);
            this.shadow.ctx.fill();

            for (let particle of this.particles.filter(p => p instanceof PortalParticle)) {
                let r = (particle as PortalParticle).effectiveRadius();
                this.shadow.ctx.globalCompositeOperation = 'destination-out';
                let grd = this.shadow.ctx.createRadialGradient(particle.x, particle.y, 0, particle.x, particle.y, r);
                grd.addColorStop(0, "rgba(0, 0, 0, 0.7)");
                grd.addColorStop(1, "rgba(0, 0, 0, 0)");
                this.shadow.ctx.fillStyle = grd;
                this.shadow.ctx.beginPath();
                this.shadow.ctx.arc(particle.x, particle.y, r, 0, 2 * Math.PI);
                this.shadow.ctx.fill();
            }

            this.shadow.ctx.globalCompositeOperation = 'source-atop';
            for (let monster of this.monsters) {
                this.shadow.ctx.beginPath();
                this.shadow.ctx.arc(monster.x, monster.y, 200, 0, 2 * Math.PI);
            }

            /*
              we don't even use bloodplanes (splatter terrain) anymore because i just
              render all of them as particles
            ctx.globalAlpha = 1 - this.bloodplanes[0][1] / this.bloodplanes[0][2];
            ctx.globalAlpha = 0.9;
            ctx.drawImage(this.bloodplanes[0][0].canvas, 0, 0);
            ctx.globalAlpha = 1 - this.bloodplanes[1][1] / this.bloodplanes[1][2];
            ctx.drawImage(this.bloodplanes[1][0].canvas, 0, 0);
            ctx.globalAlpha = 1 - this.bloodplanes[2][1] / this.bloodplanes[2][2];
            ctx.drawImage(this.bloodplanes[2][0].canvas, 0, 0);
            ctx.globalAlpha = 1;
            ctx.save();
            let shakeX = 0, shakeY = 0;
            this.screenshakes.forEach(shake => {
                shakeX += shake.x;
                shakeY += shake.y;
            });
            ctx.translate(shakeX, shakeY);

            // low-hanging fruit here (pre-render the map since it never changes)
            for (let i = 0; i < 16; i++) {
                for (let j = 0; j < 10; j++) {
                    let k = ((i * i * 13) + j * 17) % 9;
                    Sprite.drawSprite(ctx, Sprite.tiles[k], i * 32 - 16, j * 32 - 8);
                }
            }

            for (let particle of this.particles) if (!particle.foreground && !game.superFired) particle.draw(ctx);

            this.player.draw(ctx);

            //Text.renderText(ctx, 250, 120, 20, 'THE ELEPHANTS');
            //Text.renderText(ctx, 100, 200, 64, 'AB0123456789');
            //Text.renderText(ctx, 100, 150, 30, 'AB0123456789');

            for (let monster of this.monsters) monster.draw(ctx);

      //      var bubble = ctx.createLinearGradient(
            // Let's add blue noise?
            /*for (let i = 100; i < 300; i += 5) {
                for(let j = 100; j < 120; j += 5) {
                    let [x, y] = [Math.random() * 5, Math.random() * 5];
                    ctx.fillStyle = 'rgba(0,0,0,0.5)';
                    ctx.fillRect(i+Math.floor(x),j+Math.floor(y),1,1);
                }

            for (let particle of this.particles) if (particle.foreground) particle.draw(ctx);

            ctx.drawImage(this.shadow.canvas, 0, 0);
            let noiseLoop = Math.floor(this.frame / 8) % 3;
            ctx.globalAlpha = 0.06;
            ctx.drawImage(this.artifacts[noiseLoop].canvas, 0, 0);
            ctx.globalAlpha = 1;

            this.hud.draw(ctx);
            this.hive.draw(ctx);

            ctx.restore();

            /*
            if (this.frame % HEARTBEAT === 0 || (this.frame - 1) % HEARTBEAT === 0 || (this.frame - 2) % HEARTBEAT === 0) {
                ctx.fillStyle = 'rgba(255, 255, 30, 0.3)';
                ctx.fillRect(100, 0, 100, 10);
            */

            Menu.draw(viewport);
        }

        drawMaze(ctx, maze) {
            let offset = {
                x: viewport.center.u - this.camera.pos.x,
                y: viewport.center.v - this.camera.pos.y
            };
            console.log(Sprite.walls);
            for (let r = 0; r < maze.tiles.length; r++) {
                for (let q = 0; q < maze.tiles[r].length; q++) {
                    let x = q * 32 + offset.x, y = r * 32 + offset.y;
                    if (x < -50 || y < -50 || x > 500 || y > 500) continue;

                    let sprite = Sprite.tiles[maze.tiles[r][q] & 0b1111];
                    if (!sprite) throw new Error(`${q},${r} tile ${maze.tiles[r][q]}`);
                    ctx.drawImage(sprite.img, x, y);

                    sprite = Sprite.walls[maze.tiles[r][q] >> 4];
                    if (sprite) ctx.drawImage(sprite.img, x, y);

                    //if (this.maze.flowhome[r][q] < 100)
                    //Text.drawText(ctx, String(this.maze.flowhome[r][q]), x, y);
                    Text.drawText(ctx, String(maze.tiles[r][q] >> 4), x, y);

                    //ctx.fillRect(q * 4 - this.camera.pos.x + this.center.pixel.u, r * 4 - this.camera.pos.y + this.center.pixel.v, 4, 4);
                }
            }
        }

        pointerXY() {
            if (!this.input.pointer) return;
            return this.uv2xy(this.input.pointer);
        }

        xy2uv(pos) {
            return {
                u: pos.x - this.camera.pos.x + viewport.center.u,
                v: pos.y - this.camera.pos.y + viewport.center.v
            };
        }

        uv2xy(pos) {
            return {
                x: pos.u - viewport.center.u + this.camera.pos.x,
                y: pos.v - viewport.center.v + this.camera.pos.y
            };
        }

        trace(viewport) {
            if (!this.input.pointer) return;
            let p = this.player;
            for (let e of this.entities) {
                if (p === e) continue;
                viewport.ctx.beginPath();
                viewport.ctx.strokeStyle = 'red';
                viewport.ctx.moveTo(viewport.center.u - this.camera.pos.x + p.pos.x,
                    viewport.center.v - this.camera.pos.y + p.pos.y);
                viewport.ctx.lineTo(this.input.pointer.u, this.input.pointer.v);
                viewport.ctx.stroke();

                this.raytrace(p.pos, this.pointerXY());
            }
        }

        // https://www.genericgamedev.com/general/shooting-rays-through-tilemaps/
        raytrace(p1, p2) {
            let redgreen = 'green';

            for (let { q, r } of Geometry.tilesHitBetween(p1, p2)) {
                let offset = {
                    x: viewport.center.u - this.camera.pos.x,
                    y: viewport.center.v - this.camera.pos.y
                };
                if (!game.maze.maze[r][q]) redgreen = 'red';
                let highlight = redgreen === 'red' ? 'rgba(255, 128, 128, 0.5)' : 'rgba(128, 255, 128, 0.5)';
                viewport.ctx.fillStyle = highlight;
                viewport.ctx.strokeStyle = highlight;
                viewport.ctx.fillRect(q * 32 + offset.x, r * 32 + offset.y, 32, 32);
                viewport.ctx.strokeRect(q * 32 + offset.x, r * 32 + offset.y, 32, 32);
                if (redgreen === 'red') break;
            }
        }
    }

    const game = new Game();

    /**
     * Create and launch game.
     */
    game.init().then(() => game.start());

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMvanMvQ29uc3RhbnRzLmpzIiwiLi4vLi4vc3JjL2pzL0NhbnZhcy5qcyIsIi4uLy4uL3NyYy9qcy9TcHJpdGVTaGVldC1nZW4uanMiLCIuLi8uLi9zcmMvanMvQXNzZXRzLmpzIiwiLi4vLi4vc3JjL2pzL2lucHV0L0tleWJvYXJkQWRhcHRlci5qcyIsIi4uLy4uL3NyYy9qcy9WaWV3cG9ydC5qcyIsIi4uLy4uL3NyYy9qcy9pbnB1dC9Nb3VzZUFkYXB0ZXIuanMiLCIuLi8uLi9zcmMvanMvaW5wdXQvSW5wdXQuanMiLCIuLi8uLi9zcmMvanMvR2VvbWV0cnkuanMiLCIuLi8uLi9zcmMvanMvUmFuZG9tLmpzIiwiLi4vLi4vc3JjL2pzL01hemVHZW5lcmF0b3IuanMiLCIuLi8uLi9zcmMvanMvVGV4dC5qcyIsIi4uLy4uL3NyYy9qcy9CdWxsZXQuanMiLCIuLi8uLi9zcmMvanMvUGxheWVyLmpzIiwiLi4vLi4vc3JjL2pzL0RldGVjdGlvbi5qcyIsIi4uLy4uL3NyYy9qcy9zeXN0ZW1zL0JlaGF2aW9yLmpzIiwiLi4vLi4vc3JjL2pzL01vbnN0ZXIuanMiLCIuLi8uLi9zcmMvanMvTWVudS5qcyIsIi4uLy4uL3NyYy9qcy9zeXN0ZW1zL01vdmVtZW50LmpzIiwiLi4vLi4vc3JjL2pzL0dhbWUuanMiLCIuLi8uLi9zcmMvanMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgY29uc3QgQ29uc3RhbnRzID0ge1xuICAgIFIwOiAwLFxuICAgIFI5MDogTWF0aC5QSSAqIDAuNSxcbiAgICBSMTgwOiBNYXRoLlBJLFxuICAgIFIyNzA6IE1hdGguUEkgKiAxLjUsXG4gICAgUjM2MDogTWF0aC5QSSAqIDIsXG5cbiAgICAvLyBTaXplIGluIHBpeGVscyBvZiB0aWxlcyBpbiB0aGUgZ2FtZSBtYXplXG4gICAgVElMRV9XSURUSDogMzIsXG4gICAgVElMRV9IRUlHSFQ6IDMyLFxuXG4gICAgLy8gVGlsZSBjb25zdGFudHNcbiAgICBUSUxFX0ZMT09SMTogICAgICAgICAgICAwLFxuICAgIFRJTEVfRkxPT1IyOiAgICAgICAgICAgIDEsXG4gICAgVElMRV9XQUxMMTogICAgICAgICAgICAgMixcbiAgICBUSUxFX1dBTEwyOiAgICAgICAgICAgICAzLFxuXG4gICAgUExBWUVSX0JPVU5EX1JBRElVUzogOVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBUaGlzIGhlbHBlciBjbGFzcyBlbmNhcHN1bGF0ZXMgY3JlYXRpbmcgdGVtcG9yYXJ5IG9mZi1zY3JlZW4gY2FudmFzZXMuIE9mZi1zY3JlZW5cbiAqIGNhbnZhc2VzIGFyZSBncmVhdCB0b29scyBmb3IgYnVpbGRpbmcgcGF0dGVybnMsIGltYWdlIG1hc2tzLCBhbmQgb3RoZXIgY29tcG9uZW50c1xuICogdGhhdCB3ZSdsbCB1c2UgdG8gZHJhdyB0aGluZ3Mgb24gdGhlIHByaW1hcnkgY2FudmFzLlxuICovXG5leHBvcnQgY2xhc3MgQ2FudmFzIHtcbiAgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCkge1xuICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy5jdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICB9XG59XG4iLCIvKipcbiAqIFRoaXMgbW9kdWxlIGlzIGdlbmVyYXRlIGJ5IGBndWxwIGdlbmVyYXRlU3ByaXRlU2hlZXREYXRhYC5cbiAqL1xuXG4gJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgY29uc3QgU3ByaXRlU2hlZXQgPVxuLyogPGdlbmVyYXRlZD4gKi9cbnsgYnVsbGV0XzE6IHsgeDogMCwgeTogMCwgdzogMzIsIGg6IDMyIH0sXG4gIGRlbW9uMV8xOiB7IHg6IDAsIHk6IDMyLCB3OiAxNiwgaDogMjIgfSxcbiAgZGVtb24xXzI6IHsgeDogMTYsIHk6IDMyLCB3OiAxNiwgaDogMjIgfSxcbiAgZGVtb24xXzM6IHsgeDogMzIsIHk6IDMyLCB3OiAxNiwgaDogMjIgfSxcbiAgZGVtb24xXzQ6IHsgeDogNDgsIHk6IDMyLCB3OiAxNiwgaDogMjIgfSxcbiAgZGVtb24xXzU6IHsgeDogNjQsIHk6IDMyLCB3OiAxNiwgaDogMjIgfSxcbiAgZGVtb24xXzY6IHsgeDogODAsIHk6IDMyLCB3OiAxNiwgaDogMjIgfSxcbiAgZGVtb24xXzc6IHsgeDogOTYsIHk6IDMyLCB3OiAxNiwgaDogMjIgfSxcbiAgZGVtb24xXzg6IHsgeDogMTEyLCB5OiAzMiwgdzogMTYsIGg6IDIyIH0sXG4gIGRlbW9uMV85OiB7IHg6IDEyOCwgeTogMzIsIHc6IDE2LCBoOiAyMiB9LFxuICBkZW1vbjFfMTA6IHsgeDogMTQ0LCB5OiAzMiwgdzogMTYsIGg6IDIyIH0sXG4gIGZvbnRfMTogeyB4OiAwLCB5OiA1NCwgdzogMjM2LCBoOiA2IH0sXG4gIG1vbnN0ZXIyXzE6IHsgeDogMCwgeTogNjAsIHc6IDMyLCBoOiAzMiB9LFxuICBwYXBlcl8xOiB7IHg6IDAsIHk6IDkyLCB3OiAzMiwgaDogMzIgfSxcbiAgcGFwZXJfMjogeyB4OiAzMiwgeTogOTIsIHc6IDMyLCBoOiAzMiB9LFxuICBwYXJ0aWNsZXNfMTogeyB4OiAwLCB5OiAxMjQsIHc6IDExLCBoOiAxMSB9LFxuICBwbGF5ZXJfMTogeyB4OiAwLCB5OiAxMzUsIHc6IDY0LCBoOiA2NCB9LFxuICBwbGF5ZXJfMjogeyB4OiA2NCwgeTogMTM1LCB3OiA2NCwgaDogNjQgfSxcbiAgcGxheWVyXzM6IHsgeDogMTI4LCB5OiAxMzUsIHc6IDY0LCBoOiA2NCB9LFxuICBwbGF5ZXJfNDogeyB4OiAxOTIsIHk6IDEzNSwgdzogNjQsIGg6IDY0IH0sXG4gIHBsYXllcl81OiB7IHg6IDI1NiwgeTogMTM1LCB3OiA2NCwgaDogNjQgfSxcbiAgcGxheWVyXzY6IHsgeDogMzIwLCB5OiAxMzUsIHc6IDY0LCBoOiA2NCB9LFxuICBwbGF5ZXJfNzogeyB4OiAzODQsIHk6IDEzNSwgdzogNjQsIGg6IDY0IH0sXG4gIHBsYXllcl84OiB7IHg6IDQ0OCwgeTogMTM1LCB3OiA2NCwgaDogNjQgfSxcbiAgcGxheWVyMl8xOiB7IHg6IDAsIHk6IDE5OSwgdzogMzIsIGg6IDMyIH0sXG4gIHBvcnRhbF8xOiB7IHg6IDAsIHk6IDIzMSwgdzogMzIsIGg6IDMyIH0sXG4gIHNwYXJrbGVfMTogeyB4OiAwLCB5OiAyNjMsIHc6IDExLCBoOiAxMSB9LFxuICBzd29yZG1ldGVyXzE6IHsgeDogMCwgeTogMjc0LCB3OiA0OCwgaDogMTI4IH0sXG4gIHN3b3JkbWV0ZXJfMjogeyB4OiA0OCwgeTogMjc0LCB3OiA0OCwgaDogMTI4IH0sXG4gIHN3b3JkbWV0ZXJfMzogeyB4OiA5NiwgeTogMjc0LCB3OiA0OCwgaDogMTI4IH0sXG4gIHN3b3JkbWV0ZXJfNDogeyB4OiAxNDQsIHk6IDI3NCwgdzogNDgsIGg6IDEyOCB9LFxuICBzd29yZG1ldGVyXzU6IHsgeDogMTkyLCB5OiAyNzQsIHc6IDQ4LCBoOiAxMjggfSxcbiAgdGlsZXNfMTogeyB4OiAwLCB5OiA0MDIsIHc6IDMyLCBoOiAzMiB9LFxuICB0aWxlc18yOiB7IHg6IDMyLCB5OiA0MDIsIHc6IDMyLCBoOiAzMiB9LFxuICB0aWxlc18zOiB7IHg6IDY0LCB5OiA0MDIsIHc6IDMyLCBoOiAzMiB9LFxuICB0aWxlc180OiB7IHg6IDk2LCB5OiA0MDIsIHc6IDMyLCBoOiAzMiB9LFxuICB0aWxlc181OiB7IHg6IDEyOCwgeTogNDAyLCB3OiAzMiwgaDogMzIgfSxcbiAgdGlsZXNfNjogeyB4OiAxNjAsIHk6IDQwMiwgdzogMzIsIGg6IDMyIH0sXG4gIHRpbGVzXzc6IHsgeDogMTkyLCB5OiA0MDIsIHc6IDMyLCBoOiAzMiB9LFxuICB0aWxlc184OiB7IHg6IDIyNCwgeTogNDAyLCB3OiAzMiwgaDogMzIgfSxcbiAgdGlsZXNfOTogeyB4OiAyNTYsIHk6IDQwMiwgdzogMzIsIGg6IDMyIH0sXG4gIHRpbGVzZXRfMTogeyB4OiAwLCB5OiA0MzQsIHc6IDMyLCBoOiAzMiB9LFxuICB0aWxlc2V0XzI6IHsgeDogMzIsIHk6IDQzNCwgdzogMzIsIGg6IDMyIH0sXG4gIHRpbGVzZXRfMzogeyB4OiA2NCwgeTogNDM0LCB3OiAzMiwgaDogMzIgfSxcbiAgdGlsZXNldF80OiB7IHg6IDk2LCB5OiA0MzQsIHc6IDMyLCBoOiAzMiB9LFxuICB0aWxlc2V0XzU6IHsgeDogMTI4LCB5OiA0MzQsIHc6IDMyLCBoOiAzMiB9LFxuICB0aWxlc2V0XzY6IHsgeDogMTYwLCB5OiA0MzQsIHc6IDMyLCBoOiAzMiB9LFxuICB0aWxlc2V0Xzc6IHsgeDogMTkyLCB5OiA0MzQsIHc6IDMyLCBoOiAzMiB9LFxuICB0aWxlc2V0Xzg6IHsgeDogMjI0LCB5OiA0MzQsIHc6IDMyLCBoOiAzMiB9IH1cbi8qIDwvZ2VuZXJhdGVkPiAqL1xuO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBDb25zdGFudHMgYXMgQyB9IGZyb20gJy4vQ29uc3RhbnRzJztcbmltcG9ydCB7IENhbnZhcyB9IGZyb20gJy4vQ2FudmFzJztcbmltcG9ydCB7IFNwcml0ZVNoZWV0IH0gZnJvbSAnLi9TcHJpdGVTaGVldC1nZW4nO1xuXG5jb25zdCBTUFJJVEVTSEVFVF9VUkkgPSAnc3ByaXRlc2hlZXQtZ2VuLnBuZyc7XG5cbi8qKlxuICogU3ByaXRlcyFcbiAqXG4gKiBGb3IgdGhpcyBnYW1lLCBhIFwic3ByaXRlXCIgaXMgYSBsaXR0bGUgb2JqZWN0IHRoYXQgaGFzIGFuIGF0dGFjaGVkIGltYWdlLCBhbiBhbmNob3JcbiAqIHBvaW50LCBhIGJvdW5kaW5nIGJveCwgYW5kIGFuIG9wdGlvbmFsIGhpdCBib3guIFRoaXMga2VlcHMgcGl4ZWwtbGV2ZWwgZGF0YSBhYm91dFxuICogdGhlIGltYWdlIGFsbCBpbiBvbmUgcGxhY2UgKGJ5IHBhc3NpbmcgYSBTcHJpdGUgYXJvdW5kLCB3ZSBrbm93IHdoYXQgaW1hZ2UgdG8gZHJhdyxcbiAqIHdoYXQgcG9pbnQgaW4gdGhlIGltYWdlIHRvIHJvdGF0ZSBhcm91bmQsIHdoYXQgYXJlYXMgb2YgdGhlIGltYWdlIGNhbiBnZXQgaGl0IGJ5XG4gKiB0aGluZ3MsIGFuZCB3aGF0IGFyZWFzIGNhbiBoaXQgb3RoZXIgdGhpbmdzKS5cbiAqXG4gKiBXaGV0aGVyIHRoZSBib3VuZGluZyBib3ggb3IgaGl0Ym94IGRvIGFueXRoaW5nIGlzbid0IHVwIHRvIHRoZSBTcHJpdGUsIGl0IHdvdWxkIGJlXG4gKiB1cCB0byB0aGUgRnJhbWUgdGhhdCByZWZlcmVuY2VzIGl0LiAoVGhpcyBpcyBoZWxwZnVsIGJlY2F1c2UgaXQncyBjb252ZW5pZW50IGZvclxuICogYSBzaW1wbGUgZ2FtZSBsaWtlIHRoaXMgdG8gaGF2ZSBvbmx5IG9uZSBoaXQgZnJhbWUsIGJ1dCB0aGUgYW5pbWF0aW9uIG1heSBjYWxsXG4gKiBmb3Igc2hvd2luZyB0aGUgc3dvcmQgc3dpcGUgZm9yIDUtNiBmcmFtZXMuKVxuICovXG5leHBvcnQgY2xhc3MgU3ByaXRlIHtcbiAgLyoqXG4gICAqIEEgc21hbGwgaGVscGVyIHRoYXQgZHJhd3MgYSBzcHJpdGUgb250byBhIGNhbnZhcywgcmVzcGVjdGluZyB0aGUgYW5jaG9yIHBvaW50IG9mXG4gICAqIHRoZSBzcHJpdGUuIE5vdGUgdGhhdCB0aGUgY2FudmFzIHNob3VsZCBiZSBQUkUtVFJBTlNMQVRFRCBhbmQgUFJFLVJPVEFURUQsIGlmXG4gICAqIHRoYXQncyBhcHByb3ByaWF0ZSFcbiAgICovXG4gIHN0YXRpYyBkcmF3U3ByaXRlKGN0eCwgc3ByaXRlLCB1LCB2KSB7XG4gICAgY3R4LmRyYXdJbWFnZShzcHJpdGUuaW1nLCB1IC0gc3ByaXRlLmFuY2hvci54LCB2IC0gc3ByaXRlLmFuY2hvci55KTtcbiAgfVxuXG4gIHN0YXRpYyBkcmF3Vmlld3BvcnRTcHJpdGUodmlld3BvcnQsIHNwcml0ZSwgc3ByaXRlUG9zLCBjYW1lcmFQb3MpIHtcbiAgICB2aWV3cG9ydC5jdHguZHJhd0ltYWdlKFxuICAgICAgc3ByaXRlLmltZyxcbiAgICAgIHNwcml0ZVBvcy54IC0gc3ByaXRlLmFuY2hvci54IC0gY2FtZXJhUG9zLnggKyB2aWV3cG9ydC5jZW50ZXIudSxcbiAgICAgIHNwcml0ZVBvcy55IC0gc3ByaXRlLmFuY2hvci55IC0gY2FtZXJhUG9zLnkgKyB2aWV3cG9ydC5jZW50ZXIudlxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogRHJhdyBhIHNwcml0ZSdzIGJvdW5kaW5nIGJveCwgZm9yIGRlYnVnZ2luZywgdXNpbmcgdGhlIHNhbWUgcnVsZXMgYXMgZHJhd1Nwcml0ZS5cbiAgICovXG4gIHN0YXRpYyBkcmF3Qm91bmRpbmdCb3goY3R4LCBzcHJpdGUsIHgsIHkpIHtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgwLCAyNTUsIDAsIDAuNSknO1xuICAgIGN0eC5zdHJva2VSZWN0KFxuICAgICAgeCAtIHNwcml0ZS5hbmNob3IueCArIHNwcml0ZS5iYm94WzBdLngsXG4gICAgICB5IC0gc3ByaXRlLmFuY2hvci55ICsgc3ByaXRlLmJib3hbMF0ueSxcbiAgICAgIHNwcml0ZS5iYm94WzFdLnggLSBzcHJpdGUuYmJveFswXS54LFxuICAgICAgc3ByaXRlLmJib3hbMV0ueSAtIHNwcml0ZS5iYm94WzBdLnlcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXcgYSBzcHJpdGUncyBoaXQgYm94LCBmb3IgZGVidWdnaW5nLCB1c2luZyB0aGUgc2FtZSBydWxlcyBhcyBkcmF3U3ByaXRlLlxuICAgKi9cbiAgc3RhdGljIGRyYXdIaXRCb3goY3R4LCBzcHJpdGUsIHgsIHkpIHtcbiAgICBpZiAoc3ByaXRlLmhib3gpIHtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwgMCwgMCwgMC43KSc7XG4gICAgICBjdHguc3Ryb2tlUmVjdChcbiAgICAgICAgeCAtIHNwcml0ZS5hbmNob3IueCArIHNwcml0ZS5oYm94WzBdLngsXG4gICAgICAgIHkgLSBzcHJpdGUuYW5jaG9yLnkgKyBzcHJpdGUuaGJveFswXS55LFxuICAgICAgICBzcHJpdGUuaGJveFsxXS54IC0gc3ByaXRlLmhib3hbMF0ueCxcbiAgICAgICAgc3ByaXRlLmhib3hbMV0ueSAtIHNwcml0ZS5oYm94WzBdLnlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGdldEJvdW5kaW5nQ2lyY2xlKHNwcml0ZSwgeCwgeSkge1xuICAgIGxldCBkeCA9IHNwcml0ZS5iYm94WzFdLnggLSBzcHJpdGUuYmJveFswXS54O1xuICAgIGxldCBkeSA9IHNwcml0ZS5iYm94WzFdLnkgLSBzcHJpdGUuYmJveFswXS55O1xuICAgIGxldCByID0gKGR4ID4gZHkgPyBkeCA6IGR5KSAvIDI7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHggLSBzcHJpdGUuYW5jaG9yLnggKyAoc3ByaXRlLmJib3hbMF0ueCArIHNwcml0ZS5iYm94WzFdLngpIC8gMixcbiAgICAgIHk6IHkgLSBzcHJpdGUuYW5jaG9yLnkgKyAoc3ByaXRlLmJib3hbMF0ueSArIHNwcml0ZS5iYm94WzFdLnkpIC8gMixcbiAgICAgIHJcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGdldEJvdW5kaW5nQm94UG9seWdvbihzcHJpdGUsIHgsIHkpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTcHJpdGVCb3hQb2x5Z29uKHNwcml0ZS5hbmNob3IsIHNwcml0ZS5iYm94LCB4LCB5KTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRIaXRCb3hQb2x5Z29uKHNwcml0ZSwgeCwgeSkge1xuICAgIHJldHVybiB0aGlzLmdldFNwcml0ZUJveFBvbHlnb24oc3ByaXRlLmFuY2hvciwgc3ByaXRlLmhib3gsIHgsIHkpO1xuICB9XG5cbiAgc3RhdGljIGdldFNwcml0ZUJveFBvbHlnb24oYW5jaG9yLCBib3gsIHgsIHkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogeCxcbiAgICAgIHk6IHksXG4gICAgICBwOiBbXG4gICAgICAgIHsgeDogYm94WzBdLnggLSBhbmNob3IueCwgeTogYm94WzBdLnkgLSBhbmNob3IueSB9LFxuICAgICAgICB7IHg6IGJveFsxXS54IC0gYW5jaG9yLngsIHk6IGJveFswXS55IC0gYW5jaG9yLnkgfSxcbiAgICAgICAgeyB4OiBib3hbMV0ueCAtIGFuY2hvci54LCB5OiBib3hbMV0ueSAtIGFuY2hvci55IH0sXG4gICAgICAgIHsgeDogYm94WzBdLnggLSBhbmNob3IueCwgeTogYm94WzFdLnkgLSBhbmNob3IueSB9XG4gICAgICBdXG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBBc3NldHMgbW9kdWxlIGxvYWRzIHJhdyBQTkdzIHdlJ2xsIHVzZSB0byBkcmF3IHRoZSBnYW1lLCBkb2VzIGFueSBwb3N0cHJvY2Vzc2luZyBzdHVmZlxuICogd2UgbWlnaHQgbmVlZCB0byBkbywgYW5kIHRoZW4gc2F2ZXMgcmVmZXJlbmNlcyB0byB0aGVtIGZvciBsYXRlci5cbiAqL1xuZXhwb3J0IGNsYXNzIEFzc2V0cyB7XG4gIHN0YXRpYyBhc3luYyBpbml0KCkge1xuICAgIHRoaXMuaW1hZ2VzID0ge307XG5cbiAgICAvLyBCYXNlIFBpeGVsIEZvbnQgKHNlZSBgVGV4dC5pbml0YCBmb3IgYWRkaXRpb25hbCBtYW5pcHVsYXRpb24pXG4gICAgU3ByaXRlLmZvbnQgPSBhd2FpdCB0aGlzLmluaXRTcHJpdGUoU1BSSVRFU0hFRVRfVVJJLCBTcHJpdGVTaGVldC5mb250XzEpO1xuXG4gICAgLy8gUGxheWVyXG4gICAgU3ByaXRlLnBsYXllciA9IGF3YWl0IHRoaXMuaW5pdFNwcml0ZShTUFJJVEVTSEVFVF9VUkksIFNwcml0ZVNoZWV0LnBsYXllcjJfMSk7XG5cbiAgICAvLyBCdWxsZXRzXG4gICAgU3ByaXRlLmJ1bGxldCA9IGF3YWl0IHRoaXMuaW5pdFNwcml0ZShTUFJJVEVTSEVFVF9VUkksIFNwcml0ZVNoZWV0LmJ1bGxldF8xKTtcblxuICAgIC8vIEVuZW15XG4gICAgU3ByaXRlLm1vbnN0ZXIgPSBhd2FpdCB0aGlzLmluaXRTcHJpdGUoU1BSSVRFU0hFRVRfVVJJLCBTcHJpdGVTaGVldC5tb25zdGVyMl8xKTtcbiAgICBTcHJpdGUuZGVtb25fd2FsayA9IGF3YWl0IHRoaXMuaW5pdFNwcml0ZShTUFJJVEVTSEVFVF9VUkksIFNwcml0ZVNoZWV0LmRlbW9uMV8xKTtcblxuICAgIC8vIFRpbGVzXG4gICAgU3ByaXRlLnRpbGVzID0gW107XG4gICAgU3ByaXRlLnRpbGVzW0MuVElMRV9GTE9PUjFdID0gYXdhaXQgdGhpcy5pbml0U3ByaXRlKFNQUklURVNIRUVUX1VSSSwgU3ByaXRlU2hlZXQudGlsZXNldF8zKTtcbiAgICBTcHJpdGUudGlsZXNbQy5USUxFX1dBTEwxXSA9IGF3YWl0IHRoaXMuaW5pdFNwcml0ZShTUFJJVEVTSEVFVF9VUkksIFNwcml0ZVNoZWV0LnRpbGVzZXRfMSk7XG4gICAgU3ByaXRlLnRpbGVzW0MuVElMRV9XQUxMMl0gPSBhd2FpdCB0aGlzLmluaXRTcHJpdGUoU1BSSVRFU0hFRVRfVVJJLCBTcHJpdGVTaGVldC50aWxlc2V0XzIpO1xuXG4gICAgLy8gV2FsbHNcbiAgICBsZXQgZWRnZSA9IGF3YWl0IHRoaXMuaW5pdFNwcml0ZShTUFJJVEVTSEVFVF9VUkksIFNwcml0ZVNoZWV0LnRpbGVzZXRfNSk7XG4gICAgbGV0IHR1cm4gPSBhd2FpdCB0aGlzLmluaXRTcHJpdGUoU1BSSVRFU0hFRVRfVVJJLCBTcHJpdGVTaGVldC50aWxlc2V0XzYpO1xuICAgIGxldCBkZWFkZW5kID0gYXdhaXQgdGhpcy5pbml0U3ByaXRlKFNQUklURVNIRUVUX1VSSSwgU3ByaXRlU2hlZXQudGlsZXNldF83KTtcbiAgICBsZXQgY29ybmVyID0gYXdhaXQgdGhpcy5pbml0U3ByaXRlKFNQUklURVNIRUVUX1VSSSwgU3ByaXRlU2hlZXQudGlsZXNldF84KTtcblxuICAgIFNwcml0ZS53YWxscyA9IFtdO1xuICAgIFNwcml0ZS53YWxsc1swYjAwMF8xMDBfMDAwXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMTAwXzEwMF8wMDBdID1cbiAgICBTcHJpdGUud2FsbHNbMGIwMDBfMTAwXzEwMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjEwMF8xMDBfMTAwXSA9IGVkZ2U7XG5cbiAgICBTcHJpdGUud2FsbHNbMGIwMDBfMDAxXzAwMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjAwMV8wMDFfMDAwXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMDAwXzAwMV8wMDFdID1cbiAgICBTcHJpdGUud2FsbHNbMGIwMDFfMDAxXzAwMV0gPSB0aGlzLmluaXREeW5hbWljU3ByaXRlKHRoaXMucm90YXRlSW1hZ2UoZWRnZS5pbWcsIEMuUjE4MCkpO1xuXG4gICAgU3ByaXRlLndhbGxzWzBiMDEwXzAwMF8wMDBdID1cbiAgICBTcHJpdGUud2FsbHNbMGIxMTBfMDAwXzAwMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjAxMV8wMDBfMDAwXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMTExXzAwMF8wMDBdID0gdGhpcy5pbml0RHluYW1pY1Nwcml0ZSh0aGlzLnJvdGF0ZUltYWdlKGVkZ2UuaW1nLCBDLlI5MCkpO1xuXG4gICAgU3ByaXRlLndhbGxzWzBiMDAwXzAwMV8wMDBdID0gdGhpcy5pbml0RHluYW1pY1Nwcml0ZSh0aGlzLnJvdGF0ZUltYWdlKGVkZ2UuaW1nLCBDLlIxODApKTtcbiAgICBTcHJpdGUud2FsbHNbMGIwMDBfMDAwXzAxMF0gPSB0aGlzLmluaXREeW5hbWljU3ByaXRlKHRoaXMucm90YXRlSW1hZ2UoZWRnZS5pbWcsIEMuUjI3MCkpO1xuXG4gICAgU3ByaXRlLndhbGxzWzBiMDEwXzEwMF8wMDBdID1cbiAgICBTcHJpdGUud2FsbHNbMGIxMTBfMTAwXzAwMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjAxMV8xMDBfMDAwXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMTExXzEwMF8wMDBdID1cbiAgICBTcHJpdGUud2FsbHNbMGIwMTFfMTAwXzEwMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjAxMF8xMDBfMTAwXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMDExXzEwMF8xMDBdID1cbiAgICBTcHJpdGUud2FsbHNbMGIxMTFfMTAwXzEwMF0gPSB0dXJuO1xuXG4gICAgU3ByaXRlLndhbGxzWzBiMDEwXzAwMV8wMDBdID1cbiAgICBTcHJpdGUud2FsbHNbMGIwMTFfMDAxXzAwMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjExMF8wMDFfMDAwXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMTExXzAwMV8wMDBdID1cbiAgICBTcHJpdGUud2FsbHNbMGIwMTBfMDAxXzAwMV0gPVxuICAgIFNwcml0ZS53YWxsc1swYjAxMV8wMDFfMDAxXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMTExXzAwMV8wMDFdID1cbiAgICBTcHJpdGUud2FsbHNbMGIxMTBfMDAxXzAwMV0gPSB0aGlzLmluaXREeW5hbWljU3ByaXRlKHRoaXMucm90YXRlSW1hZ2UodHVybi5pbWcsIEMuUjkwKSk7XG5cbiAgICBTcHJpdGUud2FsbHNbMGIwMDBfMDAxXzAxMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjAwMF8wMDFfMDExXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMDAwXzAwMV8xMTBdID1cbiAgICBTcHJpdGUud2FsbHNbMGIwMDBfMDAxXzExMV0gPVxuICAgIFNwcml0ZS53YWxsc1swYjAwMV8wMDFfMDEwXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMDAxXzAwMV8wMTFdID1cbiAgICBTcHJpdGUud2FsbHNbMGIwMDFfMDAxXzExMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjAwMV8wMDFfMTExXSA9IHRoaXMuaW5pdER5bmFtaWNTcHJpdGUodGhpcy5yb3RhdGVJbWFnZSh0dXJuLmltZywgQy5SMTgwKSk7XG5cbiAgICBTcHJpdGUud2FsbHNbMGIwMDBfMTAwXzAxMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjAwMF8xMDBfMDExXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMDAwXzEwMF8xMTBdID1cbiAgICBTcHJpdGUud2FsbHNbMGIwMDBfMTAwXzExMV0gPVxuICAgIFNwcml0ZS53YWxsc1swYjEwMF8xMDBfMDEwXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMTAwXzEwMF8wMTFdID1cbiAgICBTcHJpdGUud2FsbHNbMGIxMDBfMTAwXzExMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjEwMF8xMDBfMTExXSA9IHRoaXMuaW5pdER5bmFtaWNTcHJpdGUodGhpcy5yb3RhdGVJbWFnZSh0dXJuLmltZywgQy5SMjcwKSk7XG5cbiAgICBTcHJpdGUud2FsbHNbMGIxMDBfMDAwXzAwMF0gPSBjb3JuZXI7XG4gICAgU3ByaXRlLndhbGxzWzBiMDAxXzAwMF8wMDBdID0gdGhpcy5pbml0RHluYW1pY1Nwcml0ZSh0aGlzLnJvdGF0ZUltYWdlKGNvcm5lci5pbWcsIEMuUjkwKSk7XG4gICAgU3ByaXRlLndhbGxzWzBiMDAwXzAwMF8wMDFdID0gdGhpcy5pbml0RHluYW1pY1Nwcml0ZSh0aGlzLnJvdGF0ZUltYWdlKGNvcm5lci5pbWcsIEMuUjE4MCkpO1xuICAgIFNwcml0ZS53YWxsc1swYjAwMF8wMDBfMTAwXSA9IHRoaXMuaW5pdER5bmFtaWNTcHJpdGUodGhpcy5yb3RhdGVJbWFnZShjb3JuZXIuaW1nLCBDLlIyNzApKTtcblxuICAgIFNwcml0ZS53YWxsc1swYjEwMV8wMDBfMDAwXSA9IHRoaXMuaW5pdER5bmFtaWNTcHJpdGUodGhpcy5vdmVybGF5KFNwcml0ZS53YWxsc1swYjEwMF8wMDBfMDAwXS5pbWcsIFNwcml0ZS53YWxsc1swYjAwMV8wMDBfMDAwXS5pbWcpKTtcbiAgICBTcHJpdGUud2FsbHNbMGIwMDBfMDAwXzEwMV0gPSB0aGlzLmluaXREeW5hbWljU3ByaXRlKHRoaXMub3ZlcmxheShTcHJpdGUud2FsbHNbMGIwMDBfMDAwXzEwMF0uaW1nLCBTcHJpdGUud2FsbHNbMGIwMDBfMDAwXzAwMV0uaW1nKSk7XG4gICAgU3ByaXRlLndhbGxzWzBiMTAwXzAwMF8xMDBdID0gdGhpcy5pbml0RHluYW1pY1Nwcml0ZSh0aGlzLm92ZXJsYXkoU3ByaXRlLndhbGxzWzBiMTAwXzAwMF8wMDBdLmltZywgU3ByaXRlLndhbGxzWzBiMDAwXzAwMF8xMDBdLmltZykpO1xuICAgIFNwcml0ZS53YWxsc1swYjAwMV8wMDBfMDAxXSA9IHRoaXMuaW5pdER5bmFtaWNTcHJpdGUodGhpcy5vdmVybGF5KFNwcml0ZS53YWxsc1swYjAwMV8wMDBfMDAwXS5pbWcsIFNwcml0ZS53YWxsc1swYjAwMF8wMDBfMDAxXS5pbWcpKTtcblxuLypcbiAgICBsZXQgc3ByaXRlID0gYXdhaXQgdGhpcy5pbml0U3ByaXRlKFNQUklURVNIRUVUX1VSSSwgU3ByaXRlU2hlZXQudGlsZXNldF81KTtcbiAgICBTcHJpdGUudGlsZXNbQy5USUxFX0ZMT09SX0VER0VfTF0gPSBzcHJpdGU7XG4gICAgU3ByaXRlLnRpbGVzW0MuVElMRV9GTE9PUl9FREdFX1RdID0gdGhpcy5pbml0RHluYW1pY1Nwcml0ZSh0aGlzLnJvdGF0ZUltYWdlKHNwcml0ZS5pbWcsIE1hdGguUEkgKiAwLjUpKTtcbiAgICBTcHJpdGUudGlsZXNbQy5USUxFX0ZMT09SX0VER0VfUl0gPSB0aGlzLmluaXREeW5hbWljU3ByaXRlKHRoaXMucm90YXRlSW1hZ2Uoc3ByaXRlLmltZywgTWF0aC5QSSAqIDEuMCkpO1xuICAgIFNwcml0ZS50aWxlc1tDLlRJTEVfRkxPT1JfRURHRV9CXSA9IHRoaXMuaW5pdER5bmFtaWNTcHJpdGUodGhpcy5yb3RhdGVJbWFnZShzcHJpdGUuaW1nLCBNYXRoLlBJICogMS41KSk7XG5cbiAgICBzcHJpdGUgPSBhd2FpdCB0aGlzLmluaXRTcHJpdGUoU1BSSVRFU0hFRVRfVVJJLCBTcHJpdGVTaGVldC50aWxlc2V0XzcpO1xuICAgIFNwcml0ZS50aWxlc1tDLlRJTEVfRkxPT1JfRURHRV9MVF0gPSBzcHJpdGU7XG4gICAgU3ByaXRlLnRpbGVzW0MuVElMRV9GTE9PUl9FREdFX1RSXSA9IHRoaXMuaW5pdER5bmFtaWNTcHJpdGUodGhpcy5yb3RhdGVJbWFnZShzcHJpdGUuaW1nLCBNYXRoLlBJICogMC41KSk7XG4gICAgU3ByaXRlLnRpbGVzW0MuVElMRV9GTE9PUl9FREdFX1JCXSA9IHRoaXMuaW5pdER5bmFtaWNTcHJpdGUodGhpcy5yb3RhdGVJbWFnZShzcHJpdGUuaW1nLCBNYXRoLlBJICogMS4wKSk7XG4gICAgU3ByaXRlLnRpbGVzW0MuVElMRV9GTE9PUl9FREdFX0JMXSA9IHRoaXMuaW5pdER5bmFtaWNTcHJpdGUodGhpcy5yb3RhdGVJbWFnZShzcHJpdGUuaW1nLCBNYXRoLlBJICogMS41KSk7XG5cbiAgICBzcHJpdGUgPSBhd2FpdCB0aGlzLmluaXRTcHJpdGUoU1BSSVRFU0hFRVRfVVJJLCBTcHJpdGVTaGVldC50aWxlc2V0XzgpO1xuICAgIFNwcml0ZS50aWxlc1tDLlRJTEVfRkxPT1JfRURHRV9MVFJdID0gc3ByaXRlO1xuICAgIFNwcml0ZS50aWxlc1tDLlRJTEVfRkxPT1JfRURHRV9UUkJdID0gdGhpcy5pbml0RHluYW1pY1Nwcml0ZSh0aGlzLnJvdGF0ZUltYWdlKHNwcml0ZS5pbWcsIE1hdGguUEkgKiAwLjUpKTtcbiAgICBTcHJpdGUudGlsZXNbQy5USUxFX0ZMT09SX0VER0VfUkJMXSA9IHRoaXMuaW5pdER5bmFtaWNTcHJpdGUodGhpcy5yb3RhdGVJbWFnZShzcHJpdGUuaW1nLCBNYXRoLlBJICogMS4wKSk7XG4gICAgU3ByaXRlLnRpbGVzW0MuVElMRV9GTE9PUl9FREdFX0JMVF0gPSB0aGlzLmluaXREeW5hbWljU3ByaXRlKHRoaXMucm90YXRlSW1hZ2Uoc3ByaXRlLmltZywgTWF0aC5QSSAqIDEuNSkpO1xuXG4gICAgc3ByaXRlID0gYXdhaXQgdGhpcy5pbml0U3ByaXRlKFNQUklURVNIRUVUX1VSSSwgU3ByaXRlU2hlZXQudGlsZXNldF82KTtcbiAgICBTcHJpdGUudGlsZXNbQy5USUxFX0ZMT09SX0VER0VfTFJdID0gc3ByaXRlO1xuICAgIFNwcml0ZS50aWxlc1tDLlRJTEVfRkxPT1JfRURHRV9UQl0gPSB0aGlzLmluaXREeW5hbWljU3ByaXRlKHRoaXMucm90YXRlSW1hZ2Uoc3ByaXRlLmltZywgTWF0aC5QSSAqIDAuNSkpO1xuLy8gVElMRV9GTE9PUjE6ICAgICAgICAgICAgMCxcbi8vIFRJTEVfRkxPT1IyOiAgICAgICAgICAgIDEsXG4vLyBUSUxFX0ZMT09SX0VER0VfTDogICAgIDIwLFxuLy8gVElMRV9GTE9PUl9FREdFX1Q6ICAgICAyMSxcbi8vIFRJTEVfRkxPT1JfRURHRV9SOiAgICAgMjIsXG4vLyBUSUxFX0ZMT09SX0VER0VfQjogICAgIDIzLFxuLy8gVElMRV9GTE9PUl9FREdFX0xUOiAgICAyNCxcbi8vIFRJTEVfRkxPT1JfRURHRV9UUjogICAgMjUsXG4vLyBUSUxFX0ZMT09SX0VER0VfUkI6ICAgIDI2LFxuLy8gVElMRV9GTE9PUl9FREdFX0JMOiAgICAyNyxcbi8vIFRJTEVfRkxPT1JfRURHRV9MVFI6ICAgMjgsXG4vLyBUSUxFX0ZMT09SX0VER0VfVFJCOiAgIDI5LFxuLy8gVElMRV9GTE9PUl9FREdFX1JCTDogICAzMCxcbi8vIFRJTEVfRkxPT1JfRURHRV9CTFQ6ICAgMzEsXG4vLyBUSUxFX0ZMT09SX0VER0VfTFI6ICAgIDMyLFxuLy8gVElMRV9GTE9PUl9FREdFX1RCOiAgICAzMyxcbi8vIFRJTEVfRkxPT1JfQ09STkVSX0xUOiAgMzQsXG4vLyBUSUxFX0ZMT09SX0NPUk5FUl9UUjogIDM1LFxuLy8gVElMRV9GTE9PUl9DT1JORVJfUkI6ICAzNixcbi8vIFRJTEVfRkxPT1JfQ09STkVSX0JMOiAgMzcsXG4vLyBUSUxFX0ZMT09SX0NPUk5FUl9MUjogIDM5LFxuICAgIFNwcml0ZS50aWxlc1tDLlRJTEVfV0FMTDFdID0gYXdhaXQgdGhpcy5pbml0U3ByaXRlKFNQUklURVNIRUVUX1VSSSwgU3ByaXRlU2hlZXQudGlsZXNldF8xKTtcbiAgICBTcHJpdGUudGlsZXNbQy5USUxFX1dBTEwyXSA9IGF3YWl0IHRoaXMuaW5pdFNwcml0ZShTUFJJVEVTSEVFVF9VUkksIFNwcml0ZVNoZWV0LnRpbGVzZXRfMik7XG4gICAgKi9cbiAgfTtcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIHNwcml0ZSBieSBsb2FkaW5nIGl0IGZyb20gYSBwYXJ0aWN1bGFyIHNsaWNlIG9mIHRoZSBnaXZlbiBpbWFnZS4gUHJvdmlkZXNcbiAgICogXCJzZW5zaWJsZVwiIGRlZmF1bHRzIGZvciBib3VuZGluZyBib3ggYW5kIGFuY2hvciBwb2ludCBpZiBub3QgcHJvdmlkZWQuXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgaW5pdFNwcml0ZSh1cmksIGRhdGEsIG9wdHMpIHtcbiAgICByZXR1cm4gdGhpcy5pbml0RHluYW1pY1Nwcml0ZShhd2FpdCB0aGlzLmxvYWRTbGljZSh1cmksIGRhdGEueCwgZGF0YS55LCBkYXRhLncsIGRhdGEuaCksIG9wdHMpO1xuICB9XG5cbiAgc3RhdGljIHJvdGF0ZUltYWdlKHNvdXJjZSwgcmFkKSB7XG4gICAgbGV0IGNhbnZhcyA9IG5ldyBDYW52YXMoc291cmNlLndpZHRoLCBzb3VyY2UuaGVpZ2h0KTtcbiAgICBjYW52YXMuY3R4LnRyYW5zbGF0ZShzb3VyY2Uud2lkdGggLyAyLCBzb3VyY2UuaGVpZ2h0IC8gMik7XG4gICAgY2FudmFzLmN0eC5yb3RhdGUocmFkKTtcbiAgICBjYW52YXMuY3R4LnRyYW5zbGF0ZSgtc291cmNlLndpZHRoIC8gMiwgLXNvdXJjZS5oZWlnaHQgLyAyKTtcbiAgICBjYW52YXMuY3R4LmRyYXdJbWFnZShzb3VyY2UsIDAsIDApO1xuICAgIHJldHVybiBjYW52YXMuY2FudmFzO1xuICB9XG5cbiAgc3RhdGljIG92ZXJsYXkoLi4uc291cmNlcykge1xuICAgIGxldCBjYW52YXMgPSBuZXcgQ2FudmFzKHNvdXJjZXNbMF0ud2lkdGgsIHNvdXJjZXNbMF0uaGVpZ2h0KTtcbiAgICBmb3IgKGxldCBzb3VyY2Ugb2Ygc291cmNlcykge1xuICAgICAgY2FudmFzLmN0eC5kcmF3SW1hZ2Uoc291cmNlLCAwLCAwKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhbnZhcy5jYW52YXM7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIHNwcml0ZSBieSBwYXNzaW5nIGl0IGEgcHJlLWRlZmluZWQgaW1hZ2Ugc291cmNlIChwcm9iYWJseSBnZW5lcmF0ZWQgZHluYW1pY2FsbHkpLlxuICAgKiBQcm92aWRlcyBcInNlbnNpYmxlXCIgZGVmYXVsdHMgZm9yIGJvdW5kaW5nIGJveCBhbmQgYW5jaG9yIHBvaW50IGlmIG5vdCBwcm92aWRlZC5cbiAgICovXG4gIHN0YXRpYyBpbml0RHluYW1pY1Nwcml0ZShzb3VyY2UsIG9wdHMpIHtcbiAgICBsZXQgdyA9IHNvdXJjZS53aWR0aCwgaCA9IHNvdXJjZS5oZWlnaHQ7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaW1nOiBzb3VyY2UsXG4gICAgICBhbmNob3I6IChvcHRzICYmIG9wdHMuYW5jaG9yKSB8fCB7IHg6IE1hdGguZmxvb3IodyAvIDIpLCB5OiBNYXRoLmZsb29yKGggLyAyKSB9LFxuICAgICAgYmJveDogKG9wdHMgJiYgb3B0cy5iYm94KSB8fCBbe3g6IDAsIHk6IDAgfSwgeyB4OiB3LCB5OiBoIH1dLFxuICAgICAgaGJveDogb3B0cyAmJiBvcHRzLmhib3hcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaGVscGVyIG1ldGhvZCByZXRyaWV2ZXMgYSBjYWNoZWQgaW1hZ2UsIGN1dHMgdGhlIHNwZWNpZmllZCBzbGljZSBvdXQgb2YgaXQsIGFuZCByZXR1cm5zIGl0LlxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGxvYWRTbGljZSh1cmksIHgsIHksIHcsIGgpIHtcbiAgICBjb25zdCBzb3VyY2UgPSBhd2FpdCB0aGlzLmxvYWRJbWFnZSh1cmkpO1xuICAgIGNvbnN0IHNsaWNlQ2FudmFzID0gbmV3IENhbnZhcyh3LCBoKTtcbiAgICBzbGljZUNhbnZhcy5jdHguZHJhd0ltYWdlKHNvdXJjZSwgeCwgeSwgdywgaCwgMCwgMCwgdywgaCk7XG4gICAgcmV0dXJuIHNsaWNlQ2FudmFzLmNhbnZhcztcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIHRoZSBpbWFnZSBmcm9tIHRoZSBnaXZlbiBVUkkgYW5kIGNhY2hlIGl0LlxuICAgKi9cbiAgc3RhdGljIGFzeW5jIGxvYWRJbWFnZSh1cmkpIHtcbiAgICBpZiAodGhpcy5pbWFnZXNbdXJpXSkgcmV0dXJuIHRoaXMuaW1hZ2VzW3VyaV07XG5cbiAgICByZXR1cm4gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICBpbWFnZS5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKGltYWdlKTtcbiAgICAgIGltYWdlLm9uZXJyb3IgPSAoZXJyKSA9PiByZWplY3QoZXJyKTtcbiAgICAgIGltYWdlLnNyYyA9IHVyaTtcbiAgICAgIHRoaXMuaW1hZ2VzW3VyaV0gPSBpbWFnZTtcbiAgICB9KTtcbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gJy4vSW5wdXQnO1xuXG4vLyBBIGZldyBxdWljayBjb25zdGFudHMgKDAqLCA0NSosIDkwKilcbmNvbnN0IEEwMCA9IDA7XG5jb25zdCBBNDUgPSAwLjcwNzEwNjc4MTE4NjU0NzU7XG5jb25zdCBBOTAgPSAxO1xuXG4vKipcbiAqIEtleWJvYXJkQWRhcHRlclxuICpcbiAqIE1hcHMga2V5Ym9hcmQgaW5wdXRzIHRvIGdhbWUgaW5wdXRzLlxuICovXG5leHBvcnQgY2xhc3MgS2V5Ym9hcmRBZGFwdGVyIHtcbiAgY29uc3RydWN0b3IoaGFuZGxlcikge1xuICAgIHRoaXMuaGFuZGxlciA9IGhhbmRsZXI7XG5cbiAgICAvLyBLZXkgTWFwcGluZzogICAgICBBQ1RJT04gICAgICAgICAgICAvLyBLZXlcbiAgICB0aGlzLm1hcCA9IFtdO1xuICAgIHRoaXMubWFwWzg4XSA9IElucHV0LkFjdGlvbi5BVFRBQ0s7ICAgIC8vIFtYXVxuICAgIHRoaXMubWFwWzkwXSA9IElucHV0LkFjdGlvbi5ERUZMRUNUOyAgIC8vIFtaXVxuICAgIHRoaXMubWFwWzY3XSA9IElucHV0LkFjdGlvbi5ET0RHRTsgICAgIC8vIFtDXVxuICAgIHRoaXMubWFwWzMyXSA9IElucHV0LkFjdGlvbi5TVVBFUjsgICAgIC8vIFtTUEFDRUJBUl1cbiAgICB0aGlzLm1hcFszOF0gPSBJbnB1dC5BY3Rpb24uVVA7ICAgICAgICAvLyBbVXBBcnJvd11cbiAgICB0aGlzLm1hcFs0MF0gPSBJbnB1dC5BY3Rpb24uRE9XTjsgICAgICAvLyBbRG93bkFycm93XVxuICAgIHRoaXMubWFwWzM3XSA9IElucHV0LkFjdGlvbi5MRUZUOyAgICAgIC8vIFtMZWZ0QXJyb3ddXG4gICAgdGhpcy5tYXBbMzldID0gSW5wdXQuQWN0aW9uLlJJR0hUOyAgICAgLy8gW1JpZ2h0QXJyb3ddXG4gICAgdGhpcy5tYXBbODddID0gSW5wdXQuQWN0aW9uLlVQOyAgICAgICAgLy8gW1ddXG4gICAgdGhpcy5tYXBbODNdID0gSW5wdXQuQWN0aW9uLkRPV047ICAgICAgLy8gW1NdXG4gICAgdGhpcy5tYXBbNjVdID0gSW5wdXQuQWN0aW9uLkxFRlQ7ICAgICAgLy8gW0FdXG4gICAgdGhpcy5tYXBbNjhdID0gSW5wdXQuQWN0aW9uLlJJR0hUOyAgICAgLy8gW0RdXG4gICAgdGhpcy5tYXBbMjddID0gSW5wdXQuQWN0aW9uLk1FTlU7ICAgICAgLy8gW0VTQ11cbiAgICB0aGlzLm1hcFs3N10gPSBJbnB1dC5BY3Rpb24uTVVURTsgICAgICAvLyBbTV1cbiAgICB0aGlzLm1hcFs3MF0gPSBJbnB1dC5BY3Rpb24uRlJFRVpFOyAgICAvLyBbRl1cbiAgICB0aGlzLm1hcFs4MF0gPSBJbnB1dC5BY3Rpb24uRlJFRVpFOyAgICAvLyBbUF1cblxuICAgIC8vIEZvciBrZXlib2FyZCwgd2Ugc3VwcG9ydCA4LXBvaW50IG1vdmVtZW50IChTLCBFLCBTRSwgZXRjLilcbiAgICB0aGlzLmFycm93RGlyZWN0aW9ucyA9IFtcbiAgICAgIHsgeDogIEEwMCwgeTogIEEwMCwgbTogMCB9LFxuICAgICAgeyB4OiAgQTAwLCB5OiAtQTkwLCBtOiAxIH0sXG4gICAgICB7IHg6ICBBMDAsIHk6ICBBOTAsIG06IDEgfSxcbiAgICAgIHsgeDogIEEwMCwgeTogIEEwMCwgbTogMCB9LFxuICAgICAgeyB4OiAtQTkwLCB5OiAgQTAwLCBtOiAxIH0sXG4gICAgICB7IHg6IC1BNDUsIHk6IC1BNDUsIG06IDEgfSxcbiAgICAgIHsgeDogLUE0NSwgeTogIEE0NSwgbTogMSB9LFxuICAgICAgeyB4OiAtQTkwLCB5OiAgQTAwLCBtOiAxIH0sXG4gICAgICB7IHg6ICBBOTAsIHk6ICBBMDAsIG06IDEgfSxcbiAgICAgIHsgeDogIEE0NSwgeTogLUE0NSwgbTogMSB9LFxuICAgICAgeyB4OiAgQTQ1LCB5OiAgQTQ1LCBtOiAxIH0sXG4gICAgICB7IHg6ICBBOTAsIHk6ICBBMDAsIG06IDEgfSxcbiAgICAgIHsgeDogIEEwMCwgeTogIEEwMCwgbTogMCB9LFxuICAgICAgeyB4OiAgQTAwLCB5OiAtQTkwLCBtOiAxIH0sXG4gICAgICB7IHg6ICBBMDAsIHk6ICBBOTAsIG06IDEgfSxcbiAgICAgIHsgeDogIEEwMCwgeTogIEEwMCwgbTogMCB9XG4gICAgXTtcblxuICAgIHRoaXMuaGVsZCA9IFtdO1xuXG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG5cbiAgYXN5bmMgaW5pdCgpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGV2ZW50ID0+IHtcbiAgICAgIGxldCBrID0gdGhpcy5tYXBbZXZlbnQua2V5Q29kZV07XG4gICAgICBjb25zb2xlLmxvZyhldmVudC5rZXlDb2RlKTtcbiAgICAgIGlmIChrKSB7XG4gICAgICAgIHRoaXMuaGVsZFtrXSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIC8vIEhhY2sgLSBmaXJzdCBrZXkgcHJlc3NlZCBpbiB3aW5kb3cgd2lsbCBpbml0aWFsaXplIHRoZSBhdWRpby5cbiAgICAgIC8vZ2FtZS5hdWRpby5pbml0KCk7XG4gICAgfSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBldmVudCA9PiB7XG4gICAgICBsZXQgayA9IHRoaXMubWFwW2V2ZW50LmtleUNvZGVdO1xuICAgICAgaWYgKGspIHtcbiAgICAgICAgdGhpcy5oZWxkW2tdID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgLy8gRm9yIGtleWJvYXJkcywgd2Ugd2FudCB0byBjb252ZXJ0IHRoZSBzdGF0ZSBvZiB0aGUgdmFyaW91cyBhcnJvdyBrZXlzIGJlaW5nIGhlbGQgZG93blxuICAgIC8vIGludG8gYSBkaXJlY3Rpb25hbCB2ZWN0b3IuIFdlIHVzZSB0aGUgYnJvd3NlcidzIGV2ZW50IHRvIGhhbmRsZSB0aGUgaGVsZCBzdGF0ZSBvZlxuICAgIC8vIHRoZSBvdGhlciBhY3Rpb24gYnV0dG9ucywgc28gd2UgZG9uJ3QgbmVlZCB0byBwcm9jZXNzIHRoZW0gaGVyZS5cbiAgICBsZXQgc3RhdGUgPSAodGhpcy5oZWxkW0lucHV0LkFjdGlvbi5VUF0gPyAxIDogMCkgK1xuICAgICAgICAgICAgICAgICh0aGlzLmhlbGRbSW5wdXQuQWN0aW9uLkRPV05dID8gMiA6IDApICtcbiAgICAgICAgICAgICAgICAodGhpcy5oZWxkW0lucHV0LkFjdGlvbi5MRUZUXSA/IDQgOiAwKSArXG4gICAgICAgICAgICAgICAgKHRoaXMuaGVsZFtJbnB1dC5BY3Rpb24uUklHSFRdID8gOCA6IDApO1xuXG4gICAgdGhpcy5kaXJlY3Rpb24gPSB0aGlzLmFycm93RGlyZWN0aW9uc1tzdGF0ZV07XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLmRpcmVjdGlvbiA9IHRoaXMuYXJyb3dEaXJlY3Rpb25zWzBdO1xuICAgIGZvciAobGV0IGFjdGlvbiBvZiBPYmplY3QudmFsdWVzKElucHV0LkFjdGlvbikpIHtcbiAgICAgIHRoaXMuaGVsZFthY3Rpb25dID0gZmFsc2U7XG4gICAgfVxuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IEdBTUVfV0lEVEggPSA0ODA7XG5jb25zdCBHQU1FX0hFSUdIVCA9IDI3MDtcblxuLyoqXG4qIFZpZXdwb3J0XG4qXG4qIFJlcHJlc2VudHMgdGhlIGdhbWUgZGlzcGxheSAoZm9yIHVzLCBhIGNhbnZhcykuXG4qL1xuZXhwb3J0IGNsYXNzIFZpZXdwb3J0IHtcbiAgYXN5bmMgaW5pdCgpIHtcbiAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW52YXMnKTtcbiAgICB0aGlzLmN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgdGhpcy5yZXNpemUodHJ1ZSk7XG4gIH1cblxuICAvLyBSZXNpemUgdGhlIGNhbnZhcyB0byBnaXZlIHVzIGFwcHJveGltYXRlbHkgb3VyIGRlc2lyZWQgZ2FtZSBkaXNwbGF5IHNpemUuXG4gIC8vXG4gIC8vIFJhdGhlciB0aGFuIGF0dGVtcHQgdG8gZXhwbGFpbiBpdCwgaGVyZSdzIGEgY29uY3JldGUgZXhhbXBsZTpcbiAgLy9cbiAgLy8gICAgIHdlIHN0YXJ0IHdpdGggYSBkZXNpcmVkIGdhbWUgZGltZW5zaW9uOiAgIDQ4MHgyNzBweFxuICAvLyAgICAgICAgICBnZXQgdGhlIGFjdHVhbCBicm93c2VyIGRpbWVuc2lvbnM6ICAxMzA5eDQ2OHB4XG4gIC8vICAgICAgICAgIGZhY3RvciBpbiB0aGUgZGlzcGxheSdzIERQSSByYXRpbzogIDI2MTh4OTM2cHhcbiAgLy8gICAgICAgICBub3cgY2FsY3VsYXRlIHRoZSBob3Jpem9udGFsIHNjYWxlOiAgICAgICA1LjQ1eFxuICAvLyAgICAgICAgICAgICAgICAgICAgIGFuZCB0aGUgdmVydGljYWwgc2NhbGU6ICAgICAgIDMuNDZ4XG4gIC8vICAgICAgICAgICAgb3VyIG5ldyBvZmZpY2FsIGdhbWUgc2NhbGluZyBpczogICAgICAgIDUuNHhcbiAgLy8gICAgICAgYW5kIG91ciBvZmZpY2lhbCB2aWV3cG9ydCBkaW1lbnNpb25zOiAgIDQ4NHgxNzNweFxuICAvL1xuICAvLyBUaGlzIGFwcHJvYWNoIGVtcGhhc2l6ZXMgY29ycmVjdCBhc3BlY3QgcmF0aW8gYW5kIG1haW50YWlucyBmdWxsLXdpbmRvdyByZW5kZXJpbmcsIGF0XG4gIC8vIHRoZSBwb3RlbnRpYWwgY29zdCBvZiBsaW1pdGluZyB2aXNpYmlsaXR5IG9mIHRoZSBnYW1lIGl0c2VsZiBpbiBlaXRoZXIgdGhlIFggb3IgWSBheGlzLlxuICAvLyBJZiB5b3UgdXNlIHRoaXMgYXBwcm9hY2gsIG1ha2Ugc3VyZSB5b3VyIEdVSSBjYW4gXCJmbG9hdFwiIChvdGhlcndpc2UgdGhlcmUgbWF5IGJlIHdob2xlXG4gIC8vIFVJIGVsZW1lbnRzIHRoZSBwbGF5ZXIgY2Fubm90IHNlZSEpLlxuICByZXNpemUoZm9yY2UpIHtcbiAgICBsZXQgZHBpID0gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG4gICAgbGV0IHdpZHRoID0gdGhpcy5jYW52YXMuY2xpZW50V2lkdGg7XG4gICAgbGV0IGhlaWdodCA9IHRoaXMuY2FudmFzLmNsaWVudEhlaWdodDtcbiAgICBsZXQgZHBpV2lkdGggPSB3aWR0aCAqIGRwaTtcbiAgICBsZXQgZHBpSGVpZ2h0ID0gaGVpZ2h0ICogZHBpO1xuXG4gICAgaWYgKGZvcmNlIHx8IHRoaXMuY2FudmFzLndpZHRoICE9PSBkcGlXaWR0aCB8fCB0aGlzLmNhbnZhcy5oZWlnaHQgIT09IGRwaUhlaWdodCkge1xuICAgICAgdGhpcy5jYW52YXMud2lkdGggPSBkcGlXaWR0aDtcbiAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IGRwaUhlaWdodDtcblxuICAgICAgdGhpcy5zY2FsZSA9IChNYXRoLmZsb29yKE1hdGgubWF4KGRwaVdpZHRoIC8gR0FNRV9XSURUSCwgZHBpSGVpZ2h0IC8gR0FNRV9IRUlHSFQpICogMTApIC8gMTApO1xuICAgICAgdGhpcy53aWR0aCA9IE1hdGguY2VpbCh0aGlzLmNhbnZhcy53aWR0aCAvIHRoaXMuc2NhbGUpO1xuICAgICAgdGhpcy5oZWlnaHQgPSBNYXRoLmNlaWwodGhpcy5jYW52YXMuaGVpZ2h0IC8gdGhpcy5zY2FsZSk7XG4gICAgICB0aGlzLmNlbnRlciA9IHsgdTogTWF0aC5mbG9vcih0aGlzLndpZHRoIC8gMiksIHY6IE1hdGguZmxvb3IodGhpcy5oZWlnaHQgLyAyKSB9O1xuICAgICAgdGhpcy5jbGllbnRXaWR0aCA9IHdpZHRoO1xuICAgICAgdGhpcy5jbGllbnRIZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgICAgIC8vIE5vdGU6IHNtb290aGluZyBmbGFnIGdldHMgcmVzZXQgb24gZXZlcnkgcmVzaXplIGJ5IHNvbWUgYnJvd3NlcnMsIHdoaWNoIGlzIHdoeVxuICAgICAgICAgICAgLy8gd2UgZG8gaXQgaGVyZS5cbiAgICAgICAgICAgIHRoaXMuY3R4LmltYWdlU21vb3RoaW5nRW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICB2aWV3cG9ydC5jYW52YXMuc3R5bGUuY3Vyc29yID0gJ25vbmUnO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBTaW5nbGV0b25cbmV4cG9ydCBjb25zdCB2aWV3cG9ydCA9IG5ldyBWaWV3cG9ydCgpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gJy4vSW5wdXQnO1xuaW1wb3J0IHsgdmlld3BvcnQgfSBmcm9tICcuLi9WaWV3cG9ydCc7XG5cbi8qKlxuICogTW91c2VBZGFwdGVyXG4gKlxuICogTWFwcyBtb3VzZSBpbnB1dHMgdG8gZ2FtZSBpbnB1dHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBNb3VzZUFkYXB0ZXIge1xuICBjb25zdHJ1Y3RvcihoYW5kbGVyKSB7XG4gICAgdGhpcy5oYW5kbGVyID0gaGFuZGxlcjtcblxuICAgIC8vIEtleSBNYXBwaW5nOiAgICAgIEFDVElPTiAgICAgICAgICAgIC8vIElucHV0XG4gICAgdGhpcy5tYXAgPSBbXTtcbiAgICB0aGlzLm1hcFswXSAgPSBJbnB1dC5BY3Rpb24uQVRUQUNLOyAgICAvLyBMTUJcblxuICAgIHRoaXMuaGVsZCA9IFtdO1xuXG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG5cbiAgYXN5bmMgaW5pdCgpIHtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZXZlbnQgPT4ge1xuICAgICAgaWYgKCF0aGlzLnBvaW50ZXIpIHRoaXMucG9pbnRlciA9IHt9O1xuICAgICAgLy90aGlzLmhhbmRsZXJzWydtb3VzZW1vdmUnXShldmVudC5tb3ZlbWVudFgsIGV2ZW50Lm1vdmVtZW50WSwgZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XG4gICAgICB0aGlzLnBvaW50ZXIudSA9IE1hdGguZmxvb3IoKGV2ZW50LmNsaWVudFggKiB2aWV3cG9ydC53aWR0aCkgLyB2aWV3cG9ydC5jbGllbnRXaWR0aCk7XG4gICAgICB0aGlzLnBvaW50ZXIudiA9IE1hdGguZmxvb3IoKGV2ZW50LmNsaWVudFkgKiB2aWV3cG9ydC5oZWlnaHQpIC8gdmlld3BvcnQuY2xpZW50SGVpZ2h0KTtcbiAgICB9KTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICAgIHRoaXMucG9pbnRlciA9IHVuZGVmaW5lZDtcbiAgICB9KTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBldmVudCA9PiB7XG4gICAgICBsZXQgayA9IHRoaXMubWFwW2V2ZW50LmJ1dHRvbl07XG4gICAgICBpZiAoaykgdGhpcy5oZWxkW2tdID0gdHJ1ZTtcbiAgICB9KTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgZXZlbnQgPT4ge1xuICAgICAgbGV0IGsgPSB0aGlzLm1hcFtldmVudC5idXR0b25dO1xuICAgICAgaWYgKGspIHRoaXMuaGVsZFtrXSA9IGZhbHNlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLnBvaW50ZXIgPSB1bmRlZmluZWQ7XG4gICAgZm9yIChsZXQgYWN0aW9uIG9mIE9iamVjdC52YWx1ZXMoSW5wdXQuQWN0aW9uKSkge1xuICAgICAgdGhpcy5oZWxkW2FjdGlvbl0gPSBmYWxzZTtcbiAgICB9XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgS2V5Ym9hcmRBZGFwdGVyIH0gZnJvbSAnLi9LZXlib2FyZEFkYXB0ZXInO1xuaW1wb3J0IHsgTW91c2VBZGFwdGVyIH0gZnJvbSAnLi9Nb3VzZUFkYXB0ZXInO1xuXG4vL2ltcG9ydCB7IEdhbWVwYWRBZGFwdGVyIH0gZnJvbSAnLi9HYW1lcGFkQWRhcHRlcic7XG4vL2ltcG9ydCB7IE5vcm1hbFZlY3RvciB9IGZyb20gJy4vR2VvbWV0cnknO1xuXG4vKipcbiAqIFRoaXMgaXMgb3VyIGFic3RyYWN0IGdhbWUgaW5wdXQgaGFuZGxlci5cbiAqXG4gKiBFYWNoIGZyYW1lLCB3ZSdsbCBjb2xsZWN0IGlucHV0IGRhdGEgZnJvbSBhbGwgb2Ygb3VyIHN1cHBvcnRlZCBpbnB1dCBhZGFwdGVycyxcbiAqIGFuZCB0dXJuIGl0IGludG8gZ2FtZSBpbnB1dC4gVGhpcyBnYW1lIGlucHV0IGNhbiB0aGVuIGJlIHVzZWQgYnkgdGhlIGdhbWVcbiAqIHVwZGF0ZSBmb3IgdGhlIGZyYW1lLlxuICpcbiAqIFRoZSBpbnB1dCBhZGFwdGVycyBnaXZlIHVzIGRhdGEgbGlrZSBcImtleSBYIHByZXNzZWRcIiwgb3IgXCJyaWdodCBtb3VzZSBidXR0b25cbiAqIGNsaWNrZWRcIiwgb3IgXCJidXR0b24gQlwiIHByZXNzZWQsIGFuZCB0aGVzZSBhcmUgdHJhbnNsYXRlZCBpbnRvIGEgZ2FtZSBpbnB1dFxuICogbGlrZSBcImRvZGdlXCIuXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnB1dCB7XG4gICAgYXN5bmMgaW5pdCgpIHtcbiAgICAgICAgLy8gQSB2ZWN0b3IgcmVwcmVzZW50aW5nIHRoZSBkaXJlY3Rpb24gdGhlIHVzZXIgaXMgcHJlc3NpbmcvZmFjaW5nLFxuICAgICAgICAvLyBzZXBhcmF0ZSBmcm9tIHByZXNzaW5nIGFuZCByZWxlYXNpbmcgaW5wdXRzLiBUcmVhdGluZyBcImRpcmVjdGlvblwiXG4gICAgICAgIC8vIHNlcGFyYXRlbHkgbWFrZXMgaXQgZWFzaWVyIHRvIGhhbmRsZSBnYW1lcGFkIHN0aWNrcy5cbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSB7IHg6IDAsIHk6IDAsIG06IDAgfTtcblxuICAgICAgICAvLyBcIlByZXNzZWRcIiBtZWFucyBhbiBpbnB1dCB3YXMgcHJlc3NlZCBUSElTIEZSQU1FLlxuICAgICAgICB0aGlzLnByZXNzZWQgPSB7fTtcblxuICAgICAgICAvLyBcIlJlbGVhc2VkXCIgbWVhbnMgYW4gaW5wdXQgd2FzIHJlbGVhc2VkIFRISVMgRlJBTUUuXG4gICAgICAgIHRoaXMucmVsZWFzZWQgPSB7fTtcblxuICAgICAgICAvLyBcIkhlbGRcIiBtZWFucyBhbiBpbnB1dCBpcyBoZWxkIGRvd24uIFRoZSBpbnB1dCB3YXMgXCJQcmVzc2VkXCIgZWl0aGVyXG4gICAgICAgIC8vIHRoaXMgZnJhbWUgb3IgaW4gYSBwYXN0IGZyYW1lLCBhbmQgaGFzIG5vdCBiZWVuIFwiUmVsZWFzZWRcIiB5ZXQuXG4gICAgICAgIHRoaXMuaGVsZCA9IHt9O1xuXG4gICAgICAgIC8vIEhvdyBtYW55IGZyYW1lcyB3YXMgdGhpcyBpbnB1dCBoZWxkIGRvd24gYnkgdGhlIHBsYXllci4gSWYgW2hlbGRdXG4gICAgICAgIC8vIGlzIGZhbHNlLCBpdCByZXByZXNlbnRzIGhvdyBsb25nIHRoZSBpbnB1dCB3YXMgbGFzdCBoZWxkIGRvd24uXG4gICAgICAgIHRoaXMuZnJhbWVzSGVsZCA9IHt9O1xuXG4gICAgICAgIHRoaXMua2V5Ym9hcmQgPSBuZXcgS2V5Ym9hcmRBZGFwdGVyKHRoaXMpO1xuICAgICAgICBhd2FpdCB0aGlzLmtleWJvYXJkLmluaXQoKTtcblxuICAgICAgICB0aGlzLm1vdXNlID0gbmV3IE1vdXNlQWRhcHRlcih0aGlzKTtcbiAgICAgICAgYXdhaXQgdGhpcy5tb3VzZS5pbml0KCk7XG5cbiAgICAgICAgLy90aGlzLmdhbWVwYWQgPSBuZXcgR2FtZXBhZEFkYXB0ZXIodGhpcyk7XG4gICAgICAgIC8vYXdhaXQgdGhpcy5nYW1lcGFkLmluaXQoKTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIC8vIFdlIGNvdWxkIGhhdmUgc29tZSBraW5kIG9mIFwiaW5wdXQgYWRhcHRlciB0b2dnbGVcIiwgYnV0IGl0J3MgZWFzaWVyIHRvIGp1c3QgdHJlYXQgYWxsIGlucHV0c1xuICAgICAgICAvLyBhcyB2YWxpZCAtLSBpZiB5b3UncmUgcHJlc3NpbmcgdGhlIFwiYXR0YWNrXCIgYnV0dG9uIG9uIGVpdGhlciBnYW1lcGFkIG9yIGtleWJvYXJkLCB0aGVuIHlvdSdyZVxuICAgICAgICAvLyBhdHRhY2tpbmcuIEZvciBkaXJlY3Rpb25hbCBpbnB1dCwgd2UgaW5zdGVhZCBjaGVjayB3aGV0aGVyIHRoZXJlJ3MgbW92ZW1lbnQgb24gdGhlIHRodW1ic3RpY2ssXG4gICAgICAgIC8vIGFuZCB3ZSB1c2UgaXQgaWYgdGhlcmUgaXMgLS0gb3RoZXJ3aXNlIHdlIHRyeSB0byBleHRyYWN0IG1vdmVtZW50IGZyb20gdGhlIGtleWJvYXJkIGluc3RlYWQuXG5cbiAgICAgICAgdGhpcy5rZXlib2FyZC51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5tb3VzZS51cGRhdGUoKTtcbiAgICAgICAgLy90aGlzLmdhbWVwYWQudXBkYXRlKCk7XG5cbiAgICAgICAgZm9yIChsZXQgYWN0aW9uIG9mIE9iamVjdC52YWx1ZXMoSW5wdXQuQWN0aW9uKSkge1xuICAgICAgICAgICAgbGV0IGhlbGQgPSB0aGlzLm1vdXNlLmhlbGRbYWN0aW9uXSB8fCB0aGlzLmtleWJvYXJkLmhlbGRbYWN0aW9uXTtcbiAgICAgICAgICAgIC8vbGV0IGhlbGQgPSB0aGlzLmdhbWVwYWQuaGVsZFthY3Rpb25dIHx8IHRoaXMua2V5Ym9hcmQuaGVsZFthY3Rpb25dO1xuICAgICAgICAgICAgdGhpcy5wcmVzc2VkW2FjdGlvbl0gPSAhdGhpcy5oZWxkW2FjdGlvbl0gJiYgaGVsZDtcbiAgICAgICAgICAgIHRoaXMucmVsZWFzZWRbYWN0aW9uXSA9IHRoaXMuaGVsZFthY3Rpb25dICYmICFoZWxkO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5wcmVzc2VkW2FjdGlvbl0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZyYW1lc0hlbGRbYWN0aW9uXSA9IDE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaGVsZFthY3Rpb25dICYmIGhlbGQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZyYW1lc0hlbGRbYWN0aW9uXSsrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmhlbGRbYWN0aW9uXSA9IGhlbGQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBvaW50ZXIgPSB0aGlzLm1vdXNlLnBvaW50ZXI7XG5cbiAgICAgICAgLy90aGlzLmRpcmVjdGlvbiA9IHRoaXMuZ2FtZXBhZC5kaXJlY3Rpb24ubSA+IDAgPyB0aGlzLmdhbWVwYWQuZGlyZWN0aW9uIDogdGhpcy5rZXlib2FyZC5kaXJlY3Rpb247XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gdGhpcy5rZXlib2FyZC5kaXJlY3Rpb247XG4gICAgfVxuXG4gICAgb25Eb3duKGFjdGlvbikge1xuICAgIH1cblxuICAgIG9uVXAoYWN0aW9uKSB7XG4gICAgfVxufVxuXG4vLyBHYW1lIElucHV0c1xuLy9cbi8vIE5vdGUgdGhhdCBtb3ZpbmcgdGhlIHBsYXllciBhcm91bmQgaXMgYWN0dWFsbHkgbm90IGNvbnNpZGVyZWQgYW4gYWN0aW9uOyBpdCdzXG4vLyBhIHNlcGFyYXRlIG5vbi1hY3Rpb24gaW5wdXQgY2FsbGVkIFwiZGlyZWN0aW9uXCIuIEl0IGp1c3Qgc28gaGFwcGVucyB0aGF0IG9uXG4vLyBrZXlib2FyZCwgZm9yIGV4YW1wbGUsIHByZXNzaW5nIHRoZSBcImRvd24gYXJyb3dcIiBrZXkgaXMgY29uc2lkZXJlZCBib3RoIGFcbi8vIHByZXNzIG9mIHRoZSBpbi1nYW1lIERPV04gYWN0aW9uIGFuZCBhIGRpcmVjdGlvbmFsIGlucHV0LiBJdCdzIHVwIHRvIHRoZSBpbnB1dFxuLy8gY29uc3VtZXIgdG8gZGVjaWRlIHdoaWNoIGlucHV0IGlzIHJlbGV2YW50IChpZiBhbnkpLiBGb3IgZXhhbXBsZSwgb24gYSBtZW51LFxuLy8gd2UgbWF5IGNvbnN1bWUgdGhlIERPV04vVVAgYWN0aW9ucyB0byBuYXZpZ2F0ZSB0aGUgbWVudSwgYnV0IGlnbm9yZSBkaXJlY3Rpb25hbFxuLy8gaW5wdXRzLlxuLy9cbklucHV0LkFjdGlvbiA9IHtcbiAgVVA6ICAgICAgMTEsXG4gIERPV046ICAgIDEyLFxuICBMRUZUOiAgICAxMyxcbiAgUklHSFQ6ICAgMTQsXG4gIEFUVEFDSzogIDIxLFxuICBERUZMRUNUOiAyMixcbiAgRE9ER0U6ICAgMjMsXG4gIFNVUEVSOiAgIDI0LFxuICBNRU5VOiAgICA5NixcbiAgTVVURTogICAgOTcsXG4gIEZSRUVaRTogIDk4XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBDb25zdGFudHMgYXMgQyB9IGZyb20gJy4vQ29uc3RhbnRzJ1xuaW1wb3J0IHsgZ2FtZSB9IGZyb20gJy4vR2FtZSc7XG5cbi8qKlxuICogR2VvbWV0cnlcbiAqXG4gKiBBIGhvcnJpYmxlIGdyYWIgYmFnIG9mIG1hdGgtcmVsYXRlZCBub25zZW5zZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEdlb21ldHJ5ID0ge1xuICBSQUQ6ICgoKSA9PiB7XG4gICAgbGV0IHJhZGlhblRhYmxlID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gMzYwOyBpKyspIHtcbiAgICAgIHJhZGlhblRhYmxlW2ldID0gTWF0aC5QSSAqIDIgKiBpIC8gMzYwO1xuICAgIH1cbiAgICByZXR1cm4gcmFkaWFuVGFibGU7XG4gIH0pKCksXG5cbiAgbm9ybWFsaXplVmVjdG9yKHApIHtcbiAgICBsZXQgbSA9IE1hdGguc3FydChwLnggKiBwLnggKyBwLnkgKiBwLnkpO1xuICAgIHJldHVybiAobSA9PT0gMCkgPyB7IHg6IDAsIHk6IDAsIG06IDAgfSA6IHsgeDogcC54IC8gbSwgeTogcC55IC8gbSwgbSB9O1xuICB9LFxuXG4gIHZlY3RvckJldHdlZW4ocDEsIHAyKSB7XG4gICAgcmV0dXJuIEdlb21ldHJ5Lm5vcm1hbGl6ZVZlY3Rvcih7IHg6IHAyLnggLSBwMS54LCB5OiBwMi55IC0gcDEueSB9KTtcbiAgfSxcblxuICBhbmdsZTJ2ZWN0b3Iocikge1xuICAgIHJldHVybiB7IHg6IE1hdGguY29zKHIpLCB5OiBNYXRoLnNpbihyKSwgbTogMSB9O1xuICB9LFxuXG4gIHZlY3RvcjJhbmdsZSh2KSB7XG4gICAgcmV0dXJuIE1hdGguYXRhbjIodi55LCB2LngpO1xuICB9LFxuXG4gIHh5MnFyKHBvcykge1xuICAgIHJldHVybiB7IHE6IChwb3MueCAvIEMuVElMRV9XSURUSCkgfCAwLCByOiAocG9zLnkgLyBDLlRJTEVfSEVJR0hUKSB8IDAgfTtcbiAgfSxcblxuICBxcjJ4eShwb3MpIHtcbiAgICByZXR1cm4geyB4OiBwb3MucSAqIEMuVElMRV9XSURUSCwgeTogcG9zLnIgKiBDLlRJTEVfSEVJR0hUIH07XG4gIH0sXG5cbiAgY2xhbXAodmFsdWUsIG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIHZhbHVlIDwgbWluID8gbWluIDogKHZhbHVlID4gbWF4ID8gbWF4IDogdmFsdWUpO1xuICB9LFxuXG4gIC8vIFRoZSBwYXJhbWV0ZXJzIHRvIHRoaXMgZnVuY3Rpb24gYXJlIChRLCBRKSBvciAoUiwgUikgLSBpLmUuIGhvcml6b250YWwgb3JcbiAgLy8gdmVydGljYWwgY29vcmRpbmF0ZXMgaW4gdGlsZSBzcGFjZS5cbiAgY2FsY3VsYXRlUmF5SW50ZXJzZWN0aW9uQW5kU3RlcChzdGFydFBvcywgZW5kUG9zKSB7XG4gICAgbGV0IG5leHQsIHN0ZXAsIGRpZmYgPSBlbmRQb3MgLSBzdGFydFBvcztcblxuICAgIGlmIChkaWZmID09PSAwKSB7XG4gICAgICAgIHN0ZXAgPSBOYU47XG4gICAgICAgIG5leHQgPSArSW5maW5pdHk7XG4gICAgfSBlbHNlIGlmIChkaWZmID4gMCkge1xuICAgICAgICBzdGVwID0gMSAvIGRpZmY7XG4gICAgICAgIG5leHQgPSAoMSAtIChzdGFydFBvcyAtIE1hdGguZmxvb3Ioc3RhcnRQb3MpKSkgKiBzdGVwO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHN0ZXAgPSAtMSAvIGRpZmY7XG4gICAgICAgIG5leHQgPSAoc3RhcnRQb3MgLSBNYXRoLmZsb29yKHN0YXJ0UG9zKSkgKiBzdGVwO1xuICAgIH1cblxuICAgIHJldHVybiB7IG5leHQsIHN0ZXAgfTtcbiAgfSxcblxuICAvLyBodHRwczovL3d3dy5nZW5lcmljZ2FtZWRldi5jb20vZ2VuZXJhbC9zaG9vdGluZy1yYXlzLXRocm91Z2gtdGlsZW1hcHMvXG4gICp0aWxlc0hpdEJldHdlZW4ocDEsIHAyKSB7XG4gICAgbGV0IHN0YXJ0USA9IHAxLnggLyBDLlRJTEVfV0lEVEgsIHN0YXJ0UiA9IHAxLnkgLyBDLlRJTEVfSEVJR0hUO1xuICAgIGxldCBlbmRRID0gcDIueCAvIEMuVElMRV9XSURUSCwgZW5kUiA9IHAyLnkgLyBDLlRJTEVfSEVJR0hUO1xuICAgIGxldCB0aWxlQ291bnQgPSBNYXRoLmFicyhNYXRoLmZsb29yKHN0YXJ0USkgLSBNYXRoLmZsb29yKGVuZFEpKSArIE1hdGguYWJzKE1hdGguZmxvb3Ioc3RhcnRSKSAtIE1hdGguZmxvb3IoZW5kUikpO1xuXG4gICAgeWllbGQgeyBxOiBzdGFydFEgfCAwLCByOiBzdGFydFIgfCAwLCBtOiAwIH07XG5cbiAgICAvLyBJZiB0aGVyZSdzIG9ubHkgMSBvciAyIGhpdCB0aWxlcywgd2UgZG9uJ3QgbmVlZCB0aGUgbWF0aCB0byBjb21wdXRlIHRoZSBtaWRkbGUuXG4gICAgaWYgKHRpbGVDb3VudCA+IDEpIHtcbiAgICAgIGxldCBxID0gc3RhcnRRLCByID0gc3RhcnRSLCBtID0gMDtcbiAgICAgIGxldCBzdGVwUSA9IE1hdGguc2lnbihlbmRRIC0gc3RhcnRRKTtcbiAgICAgIGxldCBzdGVwUiA9IE1hdGguc2lnbihlbmRSIC0gc3RhcnRSKTtcbiAgICAgIGxldCBpbnRlcnNlY3Rpb25RID0gR2VvbWV0cnkuY2FsY3VsYXRlUmF5SW50ZXJzZWN0aW9uQW5kU3RlcChzdGFydFEsIGVuZFEpO1xuICAgICAgbGV0IGludGVyc2VjdGlvblIgPSBHZW9tZXRyeS5jYWxjdWxhdGVSYXlJbnRlcnNlY3Rpb25BbmRTdGVwKHN0YXJ0UiwgZW5kUik7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGlsZUNvdW50IC0gMTsgaSsrKSB7XG4gICAgICAgIGlmIChpbnRlcnNlY3Rpb25RLm5leHQgPCBpbnRlcnNlY3Rpb25SLm5leHQpIHtcbiAgICAgICAgICBxICs9IHN0ZXBRO1xuICAgICAgICAgIG0gKz0gc3RlcFE7XG4gICAgICAgICAgaW50ZXJzZWN0aW9uUS5uZXh0ICs9IGludGVyc2VjdGlvblEuc3RlcDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByICs9IHN0ZXBSO1xuICAgICAgICAgIG0gKz0gc3RlcFI7XG4gICAgICAgICAgaW50ZXJzZWN0aW9uUi5uZXh0ICs9IGludGVyc2VjdGlvblIuc3RlcDtcbiAgICAgICAgfVxuICAgICAgICB5aWVsZCB7IHE6IHEgfCAwLCByOiByIHwgMCwgbSB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aWxlQ291bnQgPiAwKSB7XG4gICAgICB5aWVsZCB7IHE6IGVuZFEgfCAwLCByOiBlbmRSIHwgMCwgbTogMSB9O1xuICAgIH1cbiAgfSxcblxuICAqdGlsZXNIaXRCeShwLCB2KSB7XG4gICAgeWllbGQgKkdlb21ldHJ5LnRpbGVzSGl0QmV0d2VlbihwLCB7IHg6IHAueCArIHYueCwgeTogcC55ICsgdi55IH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge1hZW119IGJvdW5kcyAgdGhlIHVwcGVyLWxlZnQgYW5kIGxvd2VyLXJpZ2h0IGJvdW5kc1xuICAgKiBAeWllbGRzIHtRUn1cbiAgICovXG4gICp0aWxlc0hpdEluQm91bmRzKGJvdW5kcykge1xuICAgIGZvciAobGV0IHIgPSBNYXRoLmZsb29yKGJvdW5kc1swXS55IC8gQy5USUxFX0hFSUdIVCk7IHIgKiBDLlRJTEVfSEVJR0hUIDwgYm91bmRzWzFdLnk7IHIrKykge1xuICAgICAgZm9yIChsZXQgcSA9IE1hdGguZmxvb3IoYm91bmRzWzBdLnggLyBDLlRJTEVfV0lEVEgpOyBxICogQy5USUxFX1dJRFRIIDwgYm91bmRzWzFdLng7IHErKykge1xuICAgICAgICB5aWVsZCB7IHEsIHIgfTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7WFl9IHAxICB0aGUgc3RhcnRpbmcgcG9zaXRpb25cbiAgICogQHBhcmFtIHtYWX0gcDIgIHRoZSBlbmRpbmcgcG9zaXRpb25cbiAgICogQHBhcmFtIHtudW1iZXJ9IHIgIHRoZSByYWRpdXMgb2YgdGhlIG1vdmluZyBjaXJjbGVcbiAgICogQHlpZWxkcyB7UVJ9XG4gICAqL1xuICAqdGlsZXNIaXRCZXR3ZWVuQ2lyY2xlKHAxLCBwMiwgcikge1xuICAgIGxldCBib3VuZHMgPSBbXG4gICAgICB7IHg6IE1hdGgubWluKHAxLngsIHAyLngpIC0gciwgeTogTWF0aC5taW4ocDEueSwgcDIueSkgLSByIH0sXG4gICAgICB7IHg6IE1hdGgubWF4KHAxLngsIHAyLngpICsgciwgeTogTWF0aC5tYXgocDEueSwgcDIueSkgKyByIH1cbiAgICBdO1xuICAgIHlpZWxkICpHZW9tZXRyeS50aWxlc0hpdEluQm91bmRzKGJvdW5kcyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7WFl9IHAgIHRoZSBzdGFydGluZyBwb3NpdGlvblxuICAgKiBAcGFyYW0ge1hZfSB2ICB0aGUgdmVsb2NpdHkgKG1vdmVtZW50KVxuICAgKiBAcGFyYW0ge251bWJlcn0gciAgdGhlIHJhZGl1cyBvZiB0aGUgbW92aW5nIGNpcmNsZVxuICAgKiBAeWllbGRzIHtRUn1cbiAgICovXG4gICp0aWxlc0hpdEJ5Q2lyY2xlKHAsIHYsIHIpIHtcbiAgICB5aWVsZCAqR2VvbWV0cnkudGlsZXNIaXRCZXR3ZWVuQ2lyY2xlKHAsIHsgeDogcC54ICsgdi54LCB5OiBwLnkgKyB2LnkgfSwgcik7XG4gIH0sXG5cbiAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE4NzkwMzg5LzgwNjMwXG4gIGludGVyc2VjdENpcmNsZVJlY3RhbmdsZShwMSwgcDIsIHIsIGJvdW5kcykge1xuICAgIC8vIElmIHRoZSBib3VuZGluZyBib3ggYXJvdW5kIHRoZSBzdGFydCBhbmQgZW5kIHBvaW50cyAoK3JhZGl1cyBvbiBhbGxcbiAgICAvLyBzaWRlcykgZG9lcyBub3QgaW50ZXJzZWN0IHdpdGggdGhlIHJlY3RhbmdsZSwgZGVmaW5pdGVseSBub3QgYW5cbiAgICAvLyBpbnRlcnNlY3Rpb25cbiAgICBpZiAoTWF0aC5tYXgocDEueCwgcDIueCkgKyByIDwgYm91bmRzWzBdLnggfHxcbiAgICAgICAgTWF0aC5taW4ocDEueCwgcDIueCkgLSByID4gYm91bmRzWzFdLnggfHxcbiAgICAgICAgTWF0aC5tYXgocDEueSwgcDIueSkgKyByIDwgYm91bmRzWzBdLnkgfHxcbiAgICAgICAgTWF0aC5taW4ocDEueSwgcDIueSkgLSByID4gYm91bmRzWzFdLnkpXG4gICAgICByZXR1cm47XG5cbiAgICBsZXQgZHggPSBwMi54IC0gcDEueDtcbiAgICBsZXQgZHkgPSBwMi55IC0gcDEueTtcbiAgICBsZXQgaW52ZHggPSAoZHggPT09IDAgPyAwIDogMSAvIGR4KTtcbiAgICBsZXQgaW52ZHkgPSAoZHkgPT09IDAgPyAwIDogMSAvIGR5KTtcbiAgICBsZXQgY29ybmVyWCA9IEluZmluaXR5O1xuICAgIGxldCBjb3JuZXJZID0gSW5maW5pdHk7XG5cbiAgICAvLyBDaGVjayBlYWNoIHNpZGUgb2YgdGhlIHJlY3RhbmdsZSBmb3IgYSBzaW5nbGUtc2lkZSBpbnRlcnNlY3Rpb25cbiAgICAvLyBMZWZ0IFNpZGVcbiAgICBpZiAocDEueCAtIHIgPCBib3VuZHNbMF0ueCAmJiBwMi54ICsgciA+IGJvdW5kc1swXS54KSB7XG4gICAgICBsZXQgbHRpbWUgPSAoKGJvdW5kc1swXS54IC0gcikgLSBwMS54KSAqIGludmR4O1xuICAgICAgaWYgKGx0aW1lID49IDAgJiYgbHRpbWUgPD0gMSkge1xuICAgICAgICBsZXQgbHkgPSBkeSAqIGx0aW1lICsgcDEueTtcbiAgICAgICAgaWYgKGx5ID49IGJvdW5kc1swXS55ICYmIGx5IDw9IGJvdW5kc1sxXS55KSB7XG4gICAgICAgICAgcmV0dXJuIHsgeDogZHggKiBsdGltZSArIHAxLngsIHk6IGx5LCB0OiBsdGltZSwgbng6IC0xLCBueTogMCwgaXg6IGJvdW5kc1swXS54LCBpeTogbHkgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29ybmVyWCA9IGJvdW5kc1swXS54O1xuICAgIH1cbiAgICAvLyBSaWdodCBTaWRlXG4gICAgaWYgKHAxLnggKyByID4gYm91bmRzWzFdLnggJiYgcDIueCAtIHIgPCBib3VuZHNbMV0ueCkge1xuICAgICAgbGV0IHJ0aW1lID0gKHAxLnggLSAoYm91bmRzWzFdLnggKyByKSkgKiAtaW52ZHg7XG4gICAgICBpZiAocnRpbWUgPj0gMCAmJiBydGltZSA8PSAxKSB7XG4gICAgICAgIGxldCByeSA9IGR5ICogcnRpbWUgKyBwMi55O1xuICAgICAgICBpZiAocnkgPj0gYm91bmRzWzBdLnkgJiYgcnkgPD0gYm91bmRzWzFdLnkpIHtcbiAgICAgICAgICByZXR1cm4geyB4OiBkeCAqIHJ0aW1lICsgcDEueCwgeTogcnksIHQ6IHJ0aW1lLCBueDogMSwgbnk6IDAsIGl4OiBib3VuZHNbMV0ueCwgaXk6IHJ5IH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvcm5lclggPSBib3VuZHNbMV0ueDtcbiAgICB9XG4gICAgLy8gVG9wIFNpZGVcbiAgICBpZiAocDEueSAtIHIgPCBib3VuZHNbMF0ueSAmJiBwMi55ICsgciA+IGJvdW5kc1swXS55KSB7XG4gICAgICBsZXQgdHRpbWUgPSAoKGJvdW5kc1swXS55IC0gcikgLSBwMS55KSAqIGludmR5O1xuICAgICAgaWYgKHR0aW1lID49IDAgJiYgdHRpbWUgPD0gMSkge1xuICAgICAgICBsZXQgdHggPSBkeCAqIHR0aW1lICsgcDEueDtcbiAgICAgICAgaWYgKHR4ID49IGJvdW5kc1swXS54ICYmIHR4IDw9IGJvdW5kc1sxXS54KSB7XG4gICAgICAgICAgcmV0dXJuIHsgeDogdHgsIHk6IGR5ICogdHRpbWUgKyBwMS55LCB0OiB0dGltZSwgbng6IDAsIG55OiAtMSwgaXg6IHR4LCBpeTogYm91bmRzWzBdLnkgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29ybmVyWSA9IGJvdW5kc1swXS55O1xuICAgIH1cbiAgICAvLyBCb3R0b20gU2lkZVxuICAgIGlmIChwMS55ICsgciA+IGJvdW5kc1sxXS55ICYmIHAyLnkgLSByIDwgYm91bmRzWzFdLnkpIHtcbiAgICAgIGxldCBidGltZSA9IChwMS55IC0gKGJvdW5kc1sxXS55ICsgcikpICogLWludmR5O1xuICAgICAgaWYgKGJ0aW1lID49IDAgJiYgYnRpbWUgPD0gMSkge1xuICAgICAgICBsZXQgYnggPSBkeCAqIGJ0aW1lICsgcDEueDtcbiAgICAgICAgaWYgKGJ4ID49IGJvdW5kc1swXS54ICYmIGJ4IDw9IGJvdW5kc1sxXS54KSB7XG4gICAgICAgICAgcmV0dXJuIHsgeDogYngsIHk6IGR5ICogYnRpbWUgKyBwMS55LCB0OiBidGltZSwgbng6IDAsIG55OiAxLCBpeDogYngsIGl5OiBib3VuZHNbMF0ueSB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb3JuZXJZID0gYm91bmRzWzFdLnk7XG4gICAgfVxuXG4gICAgLy8gSWYgd2UgaGF2ZW4ndCB0b3VjaGVkIGFueXRoaW5nLCB0aGVyZSBpcyBubyBjb2xsaXNpb25cbiAgICBpZiAoY29ybmVyWCA9PT0gSW5maW5pdHkgJiYgY29ybmVyWSA9PT0gSW5maW5pdHkpIHJldHVybjtcblxuICAgIC8vIFdlIGRpZG4ndCBwYXNzIHRocm91Z2ggYSBzaWRlIGJ1dCBtYXkgYmUgaGl0dGluZyB0aGUgY29ybmVyXG4gICAgaWYgKGNvcm5lclggIT09IEluZmluaXR5ICYmIGNvcm5lclkgPT09IEluZmluaXR5KSB7XG4gICAgICBjb3JuZXJZID0gZHkgPiAwID8gYm91bmRzWzFdLnkgOiBib3VuZHNbMF0ueTtcbiAgICB9XG4gICAgaWYgKGNvcm5lclkgIT09IEluZmluaXR5ICYmIGNvcm5lclggPT09IEluZmluaXR5KSB7XG4gICAgICBjb3JuZXJYID0gZHggPiAwID8gYm91bmRzWzFdLnggOiBib3VuZHNbMF0ueDtcbiAgICB9XG5cbiAgICAvKiBTb2x2ZSB0aGUgdHJpYW5nbGUgYmV0d2VlbiB0aGUgc3RhcnQsIGNvcm5lciwgYW5kIGludGVyc2VjdGlvbiBwb2ludC5cbiAgICAgKlxuICAgICAqICAgICAgICAgICArLS0tLS0tLS0tLS1ULS0tLS0tLS0tLS0rXG4gICAgICogICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgIHxcbiAgICAgKiAgICAgICAgICBMfCAgICAgICAgICAgICAgICAgICAgICAgfFJcbiAgICAgKiAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqICAgICAgICAgICBDLS0tLS0tLS0tLS1CLS0tLS0tLS0tLS0rXG4gICAgICogICAgICAgICAgLyBcXFxuICAgICAqICAgICAgICAgLyAgIFxcciAgICAgXy4tRVxuICAgICAqICAgICAgICAvICAgICBcXCBfLi0nXG4gICAgICogICAgICAgLyAgICBfLi1JXG4gICAgICogICAgICAvIF8uLSdcbiAgICAgKiAgICAgUy0nXG4gICAgICpcbiAgICAgKiBTID0gc3RhcnQgb2YgY2lyY2xlJ3MgcGF0aFxuICAgICAqIEUgPSBlbmQgb2YgY2lyY2xlJ3MgcGF0aFxuICAgICAqIExUUkIgPSBzaWRlcyBvZiB0aGUgcmVjdGFuZ2xlXG4gICAgICogSSA9IHtpeCwgaVl9ID0gcG9pbnQgYXQgd2hpY2ggdGhlIGNpcmNsZSBpbnRlcnNlY3RzIHdpdGggdGhlIHJlY3RhbmdsZVxuICAgICAqIEMgPSBjb3JuZXIgb2YgaW50ZXJzZWN0aW9uIChhbmQgY29sbGlzaW9uIHBvaW50KVxuICAgICAqIEM9PkkgKHIpID0ge254LCBueX0gPSByYWRpdXMgYW5kIGludGVyc2VjdGlvbiBub3JtYWxcbiAgICAgKiBTPT5DID0gY29ybmVyZGlzdFxuICAgICAqIFM9PkkgPSBpbnRlcnNlY3Rpb25EaXN0YW5jZVxuICAgICAqIFM9PkUgPSBsaW5lTGVuZ3RoXG4gICAgICogPFMgPSBpbm5lckFuZ2xlXG4gICAgICogPEkgPSBhbmdsZTFcbiAgICAgKiA8QyA9IGFuZ2xlMlxuICAgICAqL1xuICAgIGxldCBpbnZlcnNlUmFkaXVzID0gMSAvIHI7XG4gICAgbGV0IGxpbmVMZW5ndGggPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xuICAgIGxldCBjb3JuZXJkeCA9IGNvcm5lclggLSBwMS54O1xuICAgIGxldCBjb3JuZXJkeSA9IGNvcm5lclkgLSBwMS55O1xuICAgIGxldCBjb3JuZXJEaXN0YW5jZSA9IE1hdGguc3FydChjb3JuZXJkeCAqIGNvcm5lcmR4ICsgY29ybmVyZHkgKiBjb3JuZXJkeSk7XG4gICAgbGV0IGlubmVyQW5nbGUgPSBNYXRoLmFjb3MoKGNvcm5lcmR4ICogZHggKyBjb3JuZXJkeSAqIGR5KSAvIChsaW5lTGVuZ3RoICogY29ybmVyRGlzdGFuY2UpKTtcblxuICAgIC8vIElmIHRoZSBjaXJjbGUgaXMgdG9vIGNsb3NlLCBubyBpbnRlcnNlY3Rpb25cbiAgICBpZiAoY29ybmVyRGlzdGFuY2UgPCByKSByZXR1cm47XG5cbiAgICAvLyBJZiBpbm5lciBhbmdsZSBpcyB6ZXJvLCBpdCdzIGdvaW5nIHRvIGhpdCB0aGUgY29ybmVyIHN0cmFpZ2h0IG9uLlxuICAgIGlmIChpbm5lckFuZ2xlID09PSAwKSB7XG4gICAgICBsZXQgdGltZSA9IChjb3JuZXJEaXN0YW5jZSAtIHIpIC8gbGluZUxlbmd0aDtcblxuICAgICAgICAvLyBJZ25vcmUgaWYgdGltZSBpcyBvdXRzaWRlIGJvdW5kYXJpZXMgb2YgKHAxLCBwMilcbiAgICAgICAgaWYgKHRpbWUgPiAxIHx8IHRpbWUgPCAwKSByZXR1cm47XG5cbiAgICAgICAgbGV0IGl4ID0gdGltZSAqIGR4ICsgcDEueDtcbiAgICAgICAgbGV0IGl5ID0gdGltZSAqIGR5ICsgcDEueTtcbiAgICAgICAgbGV0IG54ID0gY29ybmVyZHggLyBjb3JuZXJEaXN0YW5jZTtcbiAgICAgICAgbGV0IG55ID0gY29ybmVyZHkgLyBjb3JuZXJEaXN0YW5jZTtcblxuICAgICAgICByZXR1cm4gaXNOYU4oaXgpID8gdW5kZWZpbmVkIDogeyB4OiBpeCwgeTogaXksIHQ6IHRpbWUsIG54LCBueSwgaXg6IGNvcm5lclgsIGl5OiBjb3JuZXJZIH07XG4gICAgfVxuXG4gICAgbGV0IGlubmVyQW5nbGVTaW4gPSBNYXRoLnNpbihpbm5lckFuZ2xlKTtcbiAgICBsZXQgYW5nbGUxU2luID0gaW5uZXJBbmdsZVNpbiAqIGNvcm5lckRpc3RhbmNlICogaW52ZXJzZVJhZGl1cztcblxuICAgIC8vIElmIHRoZSBhbmdsZSBpcyB0b28gbGFyZ2UsIHRoZXJlIGlzIG5vIGNvbGxpc2lvblxuICAgIGlmIChNYXRoLmFicyhhbmdsZTFTaW4pID4gMSkgcmV0dXJuO1xuXG4gICAgbGV0IGFuZ2xlMSA9IE1hdGguUEkgLSBNYXRoLmFzaW4oYW5nbGUxU2luKTtcbiAgICBsZXQgYW5nbGUyID0gTWF0aC5QSSAtIGlubmVyQW5nbGUgLSBhbmdsZTE7XG4gICAgbGV0IGludGVyc2VjdGlvbkRpc3RhbmNlID0gciAqIE1hdGguc2luKGFuZ2xlMikgLyBpbm5lckFuZ2xlU2luO1xuICAgIGxldCB0aW1lID0gaW50ZXJzZWN0aW9uRGlzdGFuY2UgLyBsaW5lTGVuZ3RoO1xuXG4gICAgLy8gSWdub3JlIGlmIHRpbWUgaXMgb3V0c2lkZSBib3VuZGFyaWVzIG9mIChwMSwgcDIpXG4gICAgaWYgKHRpbWUgPiAxIHx8IHRpbWUgPCAwKSByZXR1cm47XG5cbiAgICBsZXQgaXggPSB0aW1lICogZHggKyBwMS54O1xuICAgIGxldCBpeSA9IHRpbWUgKiBkeSArIHAyLnk7XG4gICAgbGV0IG54ID0gKGl4IC0gY29ybmVyWCkgKiBpbnZlcnNlUmFkaXVzO1xuICAgIGxldCBueSA9IChpeSAtIGNvcm5lclkpICogaW52ZXJzZVJhZGl1cztcblxuICAgIHJldHVybiBpc05hTihpeCkgPyB1bmRlZmluZWQgOiB7IHg6IGl4LCB5OiBpeSwgdDogdGltZSwgbngsIG55LCBpeDogY29ybmVyWCwgaXk6IGNvcm5lclkgfTtcbiAgfSxcblxuICBmbG9vZChtYXplLCBwb3MpIHtcbiAgICBsZXQgcmVzdWx0ID0gR2VvbWV0cnkuYXJyYXkyZChtYXplWzBdLmxlbmd0aCwgbWF6ZS5sZW5ndGgsIDEwMCk7XG4gICAgY29uc29sZS5sb2cocmVzdWx0WzBdWzBdKTtcbiAgICBsZXQgc3RhY2sgPSBbeyAuLi5wb3MsIGNvc3Q6IDAgfV07XG4gICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgIGxldCB7IHEsIHIsIGNvc3QgfSA9IHN0YWNrLnNoaWZ0KCk7XG4gICAgICBpZiAocmVzdWx0W3JdW3FdIDw9IGNvc3QpIGNvbnRpbnVlO1xuICAgICAgcmVzdWx0W3JdW3FdID0gY29zdCsrO1xuICAgICAgaWYgKG1hemVbcl1bcSArIDFdICYmIHJlc3VsdFtyXVtxICsgMV0gPiBjb3N0KSBzdGFjay5wdXNoKHsgcTogcSArIDEsIHIsIGNvc3QgfSk7XG4gICAgICBpZiAobWF6ZVtyXVtxIC0gMV0gJiYgcmVzdWx0W3JdW3EgLSAxXSA+IGNvc3QpIHN0YWNrLnB1c2goeyBxOiBxIC0gMSwgciwgY29zdCB9KTtcbiAgICAgIGlmIChtYXplW3IgKyAxXVtxXSAmJiByZXN1bHRbciArIDFdW3FdID4gY29zdCkgc3RhY2sucHVzaCh7IHEsIHI6IHIgKyAxLCBjb3N0IH0pO1xuICAgICAgaWYgKG1hemVbciAtIDFdW3FdICYmIHJlc3VsdFtyIC0gMV1bcV0gPiBjb3N0KSBzdGFjay5wdXNoKHsgcSwgcjogciAtIDEsIGNvc3QgfSk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFtcIi0tLVwiLCByZXN1bHQsIFwiLS0tXCJdKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LFxuXG4gIGFycmF5MmQod2lkdGgsIGhlaWdodCwgdmFsdWUpIHtcbiAgICBsZXQgZm4gPSB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgPyB2YWx1ZSA6ICgpID0+IHZhbHVlO1xuICAgIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoOiBoZWlnaHQgfSwgKCkgPT4gQXJyYXkuZnJvbSh7IGxlbmd0aDogd2lkdGggfSwgZm4pKTtcbiAgfSxcblxuICB0aWxlSXNQYXNzYWJsZShxLCByKSB7XG4gICAgcmV0dXJuIGdhbWUubWF6ZS5tYXplW3JdW3FdO1xuICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFNlZWRlZCByYW5kb20gbnVtYmVyIGdlbmVyYXRvciwgdXNpbmcgU2ltcGxlRmFzdENvdW50ZXIgZm9yIGdlbmVyYXRvciBhbmRcbiAqIHhtdXIzIGZvciBoYXNoaW5nLlxuICpcbiAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzUyMTI5NS9zZWVkaW5nLXRoZS1yYW5kb20tbnVtYmVyLWdlbmVyYXRvci1pbi1qYXZhc2NyaXB0XG4gKi9cbmV4cG9ydCBjb25zdCBSYW5kb20gPSB7XG4gICAgc2ZjMzIoYSwgYiwgYywgZCkge1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgYSA+Pj49IDA7IGIgPj4+PSAwOyBjID4+Pj0gMDsgZCA+Pj49IDA7XG4gICAgICAgICAgICBsZXQgdCA9IChhICsgYikgfCAwO1xuICAgICAgICAgICAgYSA9IGIgXiBiID4+PiA5O1xuICAgICAgICAgICAgYiA9IGMgKyAoYyA8PCAzKSB8IDA7XG4gICAgICAgICAgICBjID0gKGMgPDwgMjEgfCBjID4+PiAxMSk7XG4gICAgICAgICAgICBkID0gZCArIDEgfCAwO1xuICAgICAgICAgICAgdCA9IHQgKyBkIHwgMDtcbiAgICAgICAgICAgIGMgPSBjICsgdCB8IDA7XG4gICAgICAgICAgICByZXR1cm4gKHQgPj4+IDApIC8gNDI5NDk2NzI5NjtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICB4bXVyMyhzdHIpIHtcbiAgICAgICAgbGV0IGksIGg7XG4gICAgICAgIGZvciAoaSA9IDAsIGggPSAxNzc5MDMzNzAzIF4gc3RyLmxlbmd0aDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaCA9IE1hdGguaW11bChoIF4gc3RyLmNoYXJDb2RlQXQoaSksIDM0MzI5MTgzNTMpO1xuICAgICAgICAgICAgaCA9IGggPDwgMTMgfCBoID4+PiAxOTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBoID0gTWF0aC5pbXVsKGggXiBoID4+PiAxNiwgMjI0NjgyMjUwNyk7XG4gICAgICAgICAgICBoID0gTWF0aC5pbXVsKGggXiBoID4+PiAxMywgMzI2NjQ4OTkwOSk7XG4gICAgICAgICAgICByZXR1cm4gKGggXj0gaCA+Pj4gMTYpID4+PiAwO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHNlZWQoc3RyKSB7XG4gICAgICAgIGxldCBzZWVkZm4gPSB0aGlzLnhtdXIzKHN0cik7XG4gICAgICAgIGxldCByYW5kZm4gPSB0aGlzLnNmYzMyKHNlZWRmbigpLCBzZWVkZm4oKSwgc2VlZGZuKCksIHNlZWRmbigpKTtcblxuICAgICAgICAvLyBJZiBtaW4vbWF4IGFyZSBub3Qgc3VwcGxpZWQsIHJldHVybnMgYSByYW5kb20gZmxvYXRpbmcgcG9pbnQgdmFsdWVcbiAgICAgICAgLy8gKD49MCAmJiA8MSkuIElmIHRoZXkgYXJlIHN1cHBsaWVkLCByZXR1cm5zIGEgcmFuZG9tIGludGVnZXIgdmFsdWVcbiAgICAgICAgLy8gKD49bWluICYmIDxtYXgpLlxuICAgICAgICByZXR1cm4gKG1pbiwgbWF4KSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG1pbiA9PT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgbWF4ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IocmFuZGZuKCkgKiAobWF4IC0gbWluKSkgKyBtaW47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiByYW5kZm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBodHRwczovL2pvdXJuYWwuc3R1ZmZ3aXRoc3R1ZmYuY29tLzIwMTQvMTIvMjEvcm9vbXMtYW5kLW1hemVzL1xuXG5cbmltcG9ydCB7IENvbnN0YW50cyBhcyBDIH0gZnJvbSAnLi9Db25zdGFudHMnO1xuaW1wb3J0IHsgR2VvbWV0cnkgYXMgRyB9IGZyb20gJy4vR2VvbWV0cnknO1xuaW1wb3J0IHsgUmFuZG9tIH0gZnJvbSAnLi9SYW5kb20nO1xuXG5jb25zdCBDUk9TUyA9IFtcbiAgICB7IHE6IDAsIHI6IDAgfSxcbiAgICB7IHE6IDAsIHI6IC0xIH0sXG4gICAgeyBxOiAwLCByOiAxIH0sXG4gICAgeyBxOiAtMSwgcjogMCB9LFxuICAgIHsgcTogMSwgcjogMCB9XG5dO1xuXG5jb25zdCBDQVJESU5BTFMgPSBbXG4gICAgeyBxOiAwLCByOiAtMSB9LFxuICAgIHsgcTogMCwgcjogMSB9LFxuICAgIHsgcTogLTEsIHI6IDAgfSxcbiAgICB7IHE6IDEsIHI6IDAgfVxuXTtcblxuLy8gTWF6ZSBHZW5lcmF0b3IgLSBUT0RPXG4vL1xuLy9cbmV4cG9ydCBjb25zdCBNYXplR2VuZXJhdG9yID0ge1xuICAgIG9wZW5Dcm9zc0NlbGxzKG1hemUsIHEsIHIpIHtcbiAgICAgICAgcmV0dXJuIENST1NTLmZpbHRlcihkaXIgPT4ge1xuICAgICAgICAgICAgbGV0IFtjcSwgY3JdID0gW3EgKyBkaXIucSwgciArIGRpci5yXTtcbiAgICAgICAgICAgIHJldHVybiBjciA+PSAwICYmIGNyIDwgbWF6ZS5sZW5ndGggJiYgY3EgPj0gMCAmJiBjcSA8IG1hemVbMF0ubGVuZ3RoICYmICFtYXplW2NyXVtjcV07XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBhdHRlbXB0Um9vbVBsYWNlbWVudChtYXplLCByYW5kLCBib3VuZHMsIHdpZHRoLCBoZWlnaHQsIHJvb21OdW1iZXIpIHtcbiAgICAgICAgbGV0IHEgPSByYW5kKDAsIChib3VuZHNbMV0ucSAtIHdpZHRoKSAvIDIpICogMiArIDE7XG4gICAgICAgIGxldCByID0gcmFuZCgwLCAoYm91bmRzWzFdLnIgLSBoZWlnaHQpIC8gMikgKiAyICsgMTtcbiAgICAgICAgbGV0IGZvdW5kID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRVTkVBQkxFXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFlvdSBjYW4gbmV2ZXIgXCJ0b3VjaFwiIHRoZSBzcGF3biByb29tIChSb29tICMxKS4gSWYgeW91IHRvdWNoIGFub3RoZXIgcm9vbSxcbiAgICAgICAgLy8gdGhlcmUncyBhIDklIGNoYW5jZSBmb3IgZWFjaCBhdHRlbXB0IHRvIGFsbG93IHRoZSByb29tIHRvIGJlIGJ1aWx0LCBwb3RlbnRpYWxseVxuICAgICAgICAvLyBvdmVybGFwcGluZy9pbnRlcnNlY3RpbmcsIG9yIGV2ZW4gY29tcGxldGVseSBlY2xpcHNpbmcgdGhlIHByZXZpb3VzIHJvb21cbiAgICAgICAgLy8gaWYgdGhpcyByb29tIGlzIGxhcmdlci5cbiAgICAgICAgLy9cbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBoZWlnaHQ7IGorKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3aWR0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hemVbcitqXVtxK2ldKSByb29tTnVtYmVyID0gZm91bmQgPSBtYXplW3Iral1bcStpXTtcbiAgICAgICAgICAgICAgICBpZiAobWF6ZVtyK2pdW3EraV09PT0xKSByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvdW5kICYmIHJhbmQoKSA+IDAuMDEpIHJldHVybjtcblxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGhlaWdodDsgaisrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdpZHRoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBtYXplW3Iral1bcStpXSA9IHJvb21OdW1iZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyBxLCByLCB3aWR0aCwgaGVpZ2h0LCByb29tTnVtYmVyIH07XG4gICAgfSxcblxuICAgIGNhcnZlTWF6ZShtYXplLCByYW5kLCBzdGFydFEsIHN0YXJ0Uiwgcm9vbU51bWJlcikge1xuICAgICAgICBsZXQgY2VsbHMgPSBbeyBxOiBzdGFydFEsIHI6IHN0YXJ0UiB9XTtcbiAgICAgICAgbWF6ZVtzdGFydFJdW3N0YXJ0UV0gPSByb29tTnVtYmVyO1xuXG4gICAgICAgIHdoaWxlIChjZWxscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gVFVORUFCTEVcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBXaGVuIGNhcnZpbmcsIHdlIGNhbiBhdHRlbXB0IHRvIGNhcnZlIG9mZiBhbnkgY2VsbCBpbiBvdXIgY29sbGVjdGVkIGxpc3QuIEZvclxuICAgICAgICAgICAgLy8gdGhpcyBnYW1lLCB3ZSBjaG9vc2UgNzUlIHRvIGtlZXAgY2FydmluZyBvZmYgdGhlIGxhc3QgY2VsbCB3ZSBjYXJ2ZWQgKHdpbmR5IHBhc3NhZ2UpLFxuICAgICAgICAgICAgLy8gYW5kIDI1JSB0byBjYXJ2ZSBzb21ld2hlcmUgZWxzZSAoYnJhbmNoKS4gSWYgd2UgY2hvb3NlIHRvIGJyYW5jaCwgdGhhdCdzIHRoZVxuICAgICAgICAgICAgLy8gbmV3IHdpbmR5IHBhc3NhZ2UsIGxlYXZpbmcgdGhlIG9sZCBvbmUgZm9yIGxhdGVyLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGxldCBpZHggPSByYW5kKCkgPCAwLjI1ID8gcmFuZCgwLCBjZWxscy5sZW5ndGgpIDogY2VsbHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGxldCBjZWxsID0gY2VsbHNbaWR4XTtcbiAgICAgICAgICAgIGlmIChpZHggIT09IGNlbGxzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBjZWxscy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICBjZWxscy5wdXNoKGNlbGwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcG9zc2libGUgPSBDQVJESU5BTFMuZmlsdGVyKGRpciA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hemVHZW5lcmF0b3Iub3BlbkNyb3NzQ2VsbHMobWF6ZSwgY2VsbC5xICsgZGlyLnEsIGNlbGwuciArIGRpci5yKS5sZW5ndGggPT09IDQ7XG4gICAgICAgICAgICB9KTtcbi8qXG4gICAgICAgICAgICBsZXQgcG9zc2libGUgPSBDQVJESU5BTFMuZmlsdGVyKGRpciA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2VsbC5yICsgZGlyLnIsIGNlbGwucSArIGRpci5xKTtcbiAgICAgICAgICAgICAgICBpZiAoY2VsbC5yICsgZGlyLnIgPCAwIHx8IGNlbGwuciArIGRpci5yID49IG1hemUubGVuZ3RoIHx8IGNlbGwucSArIGRpci5xIDwgMCB8fCBjZWxsLnEgKyBkaXIucSA+PSBtYXplWzBdLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChtYXplW2NlbGwuciArIGRpci5yXVtjZWxsLnEgKyBkaXIucV0pIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGxldCBvcGVuQ2VsbHMgPSBDQVJESU5BTFMuZmlsdGVyKGRpcjIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgW2NxLCBjcl0gPSBbY2VsbC5xICsgZGlyLnEgKyBkaXIyLnEsIGNlbGwuciArIGRpci5yICsgZGlyMi5yXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNyIDwgMCB8fCBjciA+PSBtYXplLmxlbmd0aCB8fCBjcSA8IDAgfHwgY3EgPj0gbWF6ZVswXS5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFtYXplW2NyXVtjcV07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coW2Rpci5xLCBkaXIuciwgb3BlbkNlbGxzLmxlbmd0aF0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wZW5DZWxscy5sZW5ndGggPT09IDM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBvc3NpYmxlKTtcbiAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIGlmIChwb3NzaWJsZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBjZWxscy5zcGxpY2UoY2VsbHMuaW5kZXhPZihjZWxsKSwgMSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBjaG9pY2UgPSBwb3NzaWJsZVtyYW5kKDAsIHBvc3NpYmxlLmxlbmd0aCldO1xuICAgICAgICAgICAgICAgIG1hemVbY2VsbC5yICsgY2hvaWNlLnJdW2NlbGwucSArIGNob2ljZS5xXSA9IHJvb21OdW1iZXI7XG4gICAgICAgICAgICAgICAgY2VsbHMucHVzaCh7IHE6IGNlbGwucSArIGNob2ljZS5xLCByOiBjZWxsLnIgKyBjaG9pY2UuciB9KTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjZWxscyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgY2FydmVDb25uZWN0b3JzKG1hemUsIHJhbmQpIHtcbiAgICAgICAgbGV0IGNvbm5lY3RvcnMgPSBbXTtcbiAgICAgICAgbGV0IHJvb21zID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgciA9IDE7IHIgPCBtYXplLmxlbmd0aCAtIDE7IHIrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgcSA9IDE7IHEgPCBtYXplLmxlbmd0aCAtIDE7IHErKykge1xuICAgICAgICAgICAgICAgIGxldCByb29tMSwgcm9vbTI7XG5cbiAgICAgICAgICAgICAgICBsZXQgW3VwLCBkb3duLCBsZWZ0LCByaWdodF0gPSBbXG4gICAgICAgICAgICAgICAgICAgIG1hemVbciAtIDFdW3FdLFxuICAgICAgICAgICAgICAgICAgICBtYXplW3IgKyAxXVtxXSxcbiAgICAgICAgICAgICAgICAgICAgbWF6ZVtyXVtxIC0gMV0sXG4gICAgICAgICAgICAgICAgICAgIG1hemVbcl1bcSArIDFdXG4gICAgICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgICAgIGlmICh1cCAmJiBkb3duICYmIHVwICE9PSBkb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvb20xID0gdXAsIHJvb20yID0gZG93bjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxlZnQgJiYgcmlnaHQgJiYgbGVmdCAhPT0gcmlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcm9vbTEgPSBsZWZ0LCByb29tMiA9IHJpZ2h0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChyb29tMSAmJiByb29tMikge1xuICAgICAgICAgICAgICAgICAgICBpZiAocm9vbTEgPiByb29tMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgW3Jvb20xLCByb29tMl0gPSBbcm9vbTIsIHJvb20xXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3JzLnB1c2goeyBxLCByLCByb29tMSwgcm9vbTIgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJvb21zLnB1c2gocm9vbTEsIHJvb20yKTtcbiAgICAgICAgICAgICAgICAgICAgLy9jb25uZWN0b3JzLnB1c2goeyBxLCByLCByb29tMTogcm9vbTIsIHJvb20yOiByb29tMSB9KTtcbiAgICAgICAgICAgICAgICAgICAgLypjb25uZWN0b3JzW3Jvb20xXSA9IGNvbm5lY3RvcnNbcm9vbTFdIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3JzW3Jvb20xXVtyb29tMl0gPSBjb25uZWN0b3JzW3Jvb20xXVtyb29tMl0gfHwgW107XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvcnNbcm9vbTFdW3Jvb20yXS5wdXNoKHsgcSwgciB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yc1tyb29tMl0gPSBjb25uZWN0b3JzW3Jvb20yXSB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yc1tyb29tMl1bcm9vbTFdID0gY29ubmVjdG9yc1tyb29tMl1bcm9vbTFdIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3JzW3Jvb20yXVtyb29tMV0ucHVzaCh7IHEsIHIgfSk7Ki9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZ3JvdXBzID0gWy4uLm5ldyBTZXQocm9vbXMpXS5tYXAoYSA9PiBbYV0pO1xuICAgICAgICBjb25zb2xlLmxvZyhncm91cHMpO1xuXG4gICAgICAgIHdoaWxlIChjb25uZWN0b3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCBpZHggPSByYW5kKDAsIGNvbm5lY3RvcnMubGVuZ3RoKTtcbiAgICAgICAgICAgIGxldCBjaG9pY2UgPSBjb25uZWN0b3JzLnNwbGljZShpZHgsIDEpWzBdO1xuICAgICAgICAgICAgbWF6ZVtjaG9pY2Uucl1bY2hvaWNlLnFdID0gY2hvaWNlLnJvb20xO1xuXG4gICAgICAgICAgICBsZXQgZ3JvdXAxID0gZ3JvdXBzLmZpbmQoZ3JvdXAgPT4gZ3JvdXAuaW5jbHVkZXMoY2hvaWNlLnJvb20xKSk7XG4gICAgICAgICAgICBsZXQgZ3JvdXAyID0gZ3JvdXBzLmZpbmQoZ3JvdXAgPT4gZ3JvdXAuaW5jbHVkZXMoY2hvaWNlLnJvb20yKSk7XG5cbiAgICAgICAgICAgIGlmIChyYW5kKCkgPiAwLjIpIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0b3JzID0gY29ubmVjdG9ycy5maWx0ZXIoYyA9PiAhKFxuICAgICAgICAgICAgICAgICAgICAoZ3JvdXAxLmluY2x1ZGVzKGMucm9vbTEpICYmIGdyb3VwMi5pbmNsdWRlcyhjLnJvb20yKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgKGdyb3VwMi5pbmNsdWRlcyhjLnJvb20xKSAmJiBncm91cDEuaW5jbHVkZXMoYy5yb29tMikpXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChncm91cDEgIT09IGdyb3VwMikge1xuICAgICAgICAgICAgICAgIGdyb3Vwcy5zcGxpY2UoZ3JvdXBzLmluZGV4T2YoZ3JvdXAyKSwgMSk7XG4gICAgICAgICAgICAgICAgZ3JvdXAxLnB1c2goLi4uZ3JvdXAyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuLypcbiAgICAgICAgd2hpbGUgKGdyb3Vwcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBsZXQgYSA9IHJhbmQoMCwgZ3JvdXBzLmxlbmd0aCk7XG4gICAgICAgICAgICBsZXQgYiA9IChhICsgMSkgJSBncm91cHMubGVuZ3RoO1xuICAgICAgICAgICAgbGV0IHBvc3NpYmxlID0gY29ubmVjdG9ycy5maWx0ZXIocGFpciA9PiBncm91cHNbYV0uaW5jbHVkZXMocGFpci5yb29tMSkgJiYgZ3JvdXBzW2JdLmluY2x1ZGVzKHBhaXIucm9vbTIpKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBvc3NpYmxlKTtcbiAgICAgICAgICAgIGxldCBjaG9pY2UgPSBwb3NzaWJsZVtyYW5kKDAsIHBvc3NpYmxlLmxlbmd0aCldO1xuXG4gICAgICAgICAgICBtYXplW2Nob2ljZS5yXVtjaG9pY2UucV0gPSBwYWlyLnJvb20xO1xuICAgICAgICAgICAgZ3JvdXBzLnNwbGljZShiLCAxKTtcbiAgICAgICAgICAgIGdyb3Vwc1thXSA9IGdyb3Vwc1thXS5jb25jYXQoZ3JvdXBzW2JdKTtcbiAgICAgICAgfVxuICAgICAgICAqL1xuXG4gICAgICAgIC8qZm9yIChsZXQgcGFpciBvZiBPYmplY3Qua2V5cyhjb25uZWN0b3JzKSkge1xuICAgICAgICAgICAgbGV0IGNob2ljZSA9IGNvbm5lY3RvcnNbcGFpcl1bcmFuZCgwLCBjb25uZWN0b3JzW3BhaXJdLmxlbmd0aCldO1xuICAgICAgICAgICAgbWF6ZVtjaG9pY2Uucl1bY2hvaWNlLnFdID0gMjtcbiAgICAgICAgfSovXG4gICAgfSxcblxuICAgIHBydW5lRGVhZEVuZHMobWF6ZSwgcmFuZCkge1xuICAgICAgICBsZXQgZGVhZEVuZHMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCByID0gMDsgciA8IG1hemUubGVuZ3RoOyByKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHEgPSAwOyBxIDwgbWF6ZVswXS5sZW5ndGg7IHErKykge1xuICAgICAgICAgICAgICAgIGlmIChtYXplW3JdW3FdICYmIE1hemVHZW5lcmF0b3Iub3BlbkNyb3NzQ2VsbHMobWF6ZSwgcSwgcikubGVuZ3RoID49IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVhZEVuZHMucHVzaCh7IHEsIHIgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKGRlYWRFbmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCBpZHggPSByYW5kKDAsIGRlYWRFbmRzLmxlbmd0aCk7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IGRlYWRFbmRzLnNwbGljZShpZHgsIDEpWzBdO1xuXG4gICAgICAgICAgICBpZiAocmFuZCgpIDwgMC40NSkge1xuICAgICAgICAgICAgICAgIGxldCBwb3NzaWJsZSA9IENBUkRJTkFMUy5maWx0ZXIoZGlyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hemVHZW5lcmF0b3Iub3BlbkNyb3NzQ2VsbHMobWF6ZSwgY2VsbC5xICsgZGlyLnEsIGNlbGwuciArIGRpci5yKS5sZW5ndGggPD0gMiAmJlxuICAgICAgICAgICAgICAgICAgICAgIChjZWxsLnErZGlyLnEpID49IDAgJiYgKGNlbGwucStkaXIucSkgPCBtYXplWzBdLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgICAgICAgIChjZWxsLnIrZGlyLnIpID49IDAgJiYgKGNlbGwucitkaXIucikgPCBtYXplLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBsZXQgY2hvaWNlID0gcG9zc2libGVbcmFuZCgwLCBwb3NzaWJsZS5sZW5ndGgpXTtcbiAgICAgICAgICAgICAgICBpZiAoY2hvaWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hemVbY2VsbC5yICsgY2hvaWNlLnJdW2NlbGwucSArIGNob2ljZS5xXSA9IG1hemVbY2VsbC5yXVtjZWxsLnFdO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyYW5kKCkgPiAwLjA1KSB7XG4gICAgICAgICAgICAgICAgbWF6ZVtjZWxsLnJdW2NlbGwucV0gPSAwO1xuICAgICAgICAgICAgICAgIENBUkRJTkFMUy5mb3JFYWNoKGRpciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBbY3EsIGNyXSA9IFtjZWxsLnEgKyBkaXIucSwgY2VsbC5yICsgZGlyLnJdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF6ZVtjcl1bY3FdICYmIE1hemVHZW5lcmF0b3Iub3BlbkNyb3NzQ2VsbHMobWF6ZSwgY3EsIGNyKS5sZW5ndGggPj0gMyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgY3EgPj0gMCAmJiBjcSA8IG1hemVbMF0ubGVuZ3RoICYmIGNyID49IDAgJiYgY3IgPCBtYXplLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVhZEVuZHMucHVzaCh7IHE6IGNxLCByOiBjciB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGNyZWF0ZVJvb21Mb29rdXAocm9vbXMpIHtcbiAgICAgICAgcmV0dXJuIHJvb21zLnJlZHVjZSgoaGFzaCwgcm9vbSkgPT4ge1xuICAgICAgICAgICAgaGFzaFtyb29tLnJvb21OdW1iZXJdID0gaGFzaFtyb29tLnJvb21OdW1iZXJdIHx8IFtdO1xuICAgICAgICAgICAgaGFzaFtyb29tLnJvb21OdW1iZXJdLnB1c2gocm9vbSk7XG4gICAgICAgICAgICByZXR1cm4gaGFzaDtcbiAgICAgICAgfSwge30pO1xuICAgIH0sXG5cbiAgICBjcmVhdGVUaWxlcyhtYXplLCByYW5kKSB7XG4gICAgICAgIGxldCB0aWxlcyA9IEcuYXJyYXkyZChtYXplWzBdLmxlbmd0aCwgbWF6ZS5sZW5ndGgsICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAocmFuZCgpIDwgMC4xID8gQy5USUxFX1dBTEwyIDogQy5USUxFX1dBTEwxKSArICgwYjAwMF8wMTBfMDAwIDw8IDQpO1xuICAgICAgICB9KTtcbiAgICAgICAgZm9yIChsZXQgciA9IDA7IHIgPCB0aWxlcy5sZW5ndGg7IHIrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgcSA9IDA7IHEgPCB0aWxlc1swXS5sZW5ndGg7IHErKykge1xuICAgICAgICAgICAgICAgIGlmIChtYXplW3JdW3FdKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBrZXkgPVxuICAgICAgICAgICAgICAgICAgICAgICAgKG1hemVbciAtIDFdW3EgLSAxXSA/IDAgOiAwYjEwMF8wMDBfMDAwKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAobWF6ZVtyIC0gMV1bcV0gICAgID8gMCA6IDBiMDEwXzAwMF8wMDApICtcbiAgICAgICAgICAgICAgICAgICAgICAgIChtYXplW3IgLSAxXVtxICsgMV0gPyAwIDogMGIwMDFfMDAwXzAwMCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgKG1hemVbcl1bcSAtIDFdICAgICA/IDAgOiAwYjAwMF8xMDBfMDAwKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAobWF6ZVtyXVtxXSAgICAgICAgID8gMCA6IDBiMDAwXzAxMF8wMDApICtcbiAgICAgICAgICAgICAgICAgICAgICAgIChtYXplW3JdW3EgKyAxXSAgICAgPyAwIDogMGIwMDBfMDAxXzAwMCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgKG1hemVbciArIDFdW3EgLSAxXSA/IDAgOiAwYjAwMF8wMDBfMTAwKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAobWF6ZVtyICsgMV1bcV0gICAgID8gMCA6IDBiMDAwXzAwMF8wMTApICtcbiAgICAgICAgICAgICAgICAgICAgICAgIChtYXplW3IgKyAxXVtxICsgMV0gPyAwIDogMGIwMDBfMDAwXzAwMSk7XG4gICAgICAgICAgICAgICAgICAgIHRpbGVzW3JdW3FdID0gKGtleSA8PCA0KSArIEMuVElMRV9GTE9PUjE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aWxlcztcbiAgICB9LFxuXG4gICAgZ2VuZXJhdGUoc2VlZCkge1xuICAgICAgICBsZXQgbWF6ZSA9IEcuYXJyYXkyZCg5OSwgOTksIDApO1xuICAgICAgICAvL2xldCByYW5kID0gUmFuZG9tLnNlZWQoXCJhcHBsZXNcIik7XG4gICAgICAgIGxldCByYW5kID0gUmFuZG9tLnNlZWQoc2VlZCk7XG5cbiAgICAgICAgbGV0IHJvb21OdW1iZXIgPSAxO1xuXG4gICAgICAgIGxldCByZXN1bHQgPSBNYXplR2VuZXJhdG9yLmF0dGVtcHRSb29tUGxhY2VtZW50KG1hemUsIHJhbmQsIFt7IHE6IDAsIHI6IDAgfSwgeyBxOiA5OSwgcjogOTkgfV0sIDExLCA5LCByb29tTnVtYmVyKyspO1xuICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgICBsZXQgcm9vbXMgPSBbcmVzdWx0XTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdyA9IHJhbmQoMywgNCkgKiAyICsgMTtcbiAgICAgICAgICAgIGxldCBoID0gcmFuZCgzLCA0KSAqIDIgKyAxO1xuICAgICAgICAgICAgcmVzdWx0ID0gTWF6ZUdlbmVyYXRvci5hdHRlbXB0Um9vbVBsYWNlbWVudChtYXplLCByYW5kLCBbeyBxOiAwLCByOiAwIH0sIHsgcTogOTksIHI6IDk5IH1dLCB3LCBoLCByb29tTnVtYmVyKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHJvb21zLnB1c2gocmVzdWx0KTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnJvb21OdW1iZXIgPT09IHJvb21OdW1iZXIpIHJvb21OdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdyA9IHJhbmQoMiwgNCkgKiAyICsgMTtcbiAgICAgICAgICAgIGxldCBoID0gcmFuZCgyLCA0KSAqIDIgKyAxO1xuICAgICAgICAgICAgcmVzdWx0ID0gTWF6ZUdlbmVyYXRvci5hdHRlbXB0Um9vbVBsYWNlbWVudChtYXplLCByYW5kLCBbeyBxOiAwLCByOiAwIH0sIHsgcTogOTksIHI6IDk5IH1dLCB3LCBoLCByb29tTnVtYmVyKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHJvb21zLnB1c2gocmVzdWx0KTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnJvb21OdW1iZXIgPT09IHJvb21OdW1iZXIpIHJvb21OdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdyA9IHJhbmQoMSwgNCkgKiAyICsgMTtcbiAgICAgICAgICAgIGxldCBoID0gcmFuZCgxLCA0KSAqIDIgKyAxO1xuICAgICAgICAgICAgcmVzdWx0ID0gTWF6ZUdlbmVyYXRvci5hdHRlbXB0Um9vbVBsYWNlbWVudChtYXplLCByYW5kLCBbeyBxOiAwLCByOiAwIH0sIHsgcTogOTksIHI6IDk5IH1dLCB3LCBoLCByb29tTnVtYmVyKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHJvb21zLnB1c2gocmVzdWx0KTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnJvb21OdW1iZXIgPT09IHJvb21OdW1iZXIpIHJvb21OdW1iZXIrKztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qXG4gICAgICAgIHJhbmRvbSByb29tIHBsYWNlbWVudFxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgOTAwOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB3ID0gcmFuZCgxLCA0KSAqIDIgKyAxO1xuICAgICAgICAgICAgbGV0IGggPSByYW5kKDEsIDQpICogMiArIDE7XG4gICAgICAgICAgICByZXN1bHQgPSBNYXplR2VuZXJhdG9yLmF0dGVtcHRSb29tUGxhY2VtZW50KG1hemUsIHJhbmQsIFt7IHE6IDAsIHI6IDAgfSwgeyBxOiA5OSwgcjogOTkgfV0sIHcsIGgsIHJvb21OdW1iZXIrKyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgICovXG5cbiAgICAgICAgZm9yIChsZXQgciA9IDE7IHIgPCA5OTsgciArPSAyKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBxID0gMTsgcSA8IDk5OyBxICs9IDIpIHtcbiAgICAgICAgICAgICAgICBpZiAoTWF6ZUdlbmVyYXRvci5vcGVuQ3Jvc3NDZWxscyhtYXplLCBxLCByKS5sZW5ndGggPT09IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgTWF6ZUdlbmVyYXRvci5jYXJ2ZU1hemUobWF6ZSwgcmFuZCwgcSwgciwgcm9vbU51bWJlcisrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBNYXplR2VuZXJhdG9yLmNhcnZlQ29ubmVjdG9ycyhtYXplLCByYW5kKTtcblxuICAgICAgICBNYXplR2VuZXJhdG9yLnBydW5lRGVhZEVuZHMobWF6ZSwgcmFuZCk7XG5cbiAgICAgICAgbGV0IGhvbWVmbG93ID0gRy5mbG9vZChtYXplLCByb29tc1swXSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtYXplLFxuICAgICAgICAgICAgdGlsZXM6IE1hemVHZW5lcmF0b3IuY3JlYXRlVGlsZXMobWF6ZSwgcmFuZCksXG4gICAgICAgICAgICByYW5kLFxuICAgICAgICAgICAgcm9vbXM6IHRoaXMuY3JlYXRlUm9vbUxvb2t1cChyb29tcyksXG4gICAgICAgICAgICBmbG93aG9tZTogaG9tZWZsb3dcbiAgICAgICAgfTtcbiAgICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICcuL0Fzc2V0cyc7XG5pbXBvcnQgeyBDYW52YXMgfSBmcm9tICcuL0NhbnZhcyc7XG5cbmNvbnN0IENfV0lEVEggPSAzO1xuY29uc3QgQ19IRUlHSFQgPSA1O1xuXG4vLyBWZXJ5IHNpbXBsZSB2YXJpYWJsZS13aWR0aCBmb250IGltcGxlbWVudGF0aW9uLiBUaGUgY2hhcmFjdGVycyBpbiB0aGUgZm9udCBzdHJpcFxuLy8gYXJlIGxlZnQtYWxpZ25lZCBpbiB0aGVpciAzeDUgcGl4ZWwgYm94ZXMsIHNvIGluIG9yZGVyIHRvIGhhdmUgdmFyaWFibGUgd2lkdGgsXG4vLyB3ZSBqdXN0IG5lZWQgdG8gbm90ZSB0aGUgY2hhcmFjdGVycyB0aGF0IEFSRU4nVCBmdWxsIHdpZHRoLiBBbnl0aGluZyBub3QgaW5cbi8vIHRoaXMgbGlzdCBoYXMgZnVsbCBzaGlmdCAoMysxID0gNCBwaXhlbHMpLlxuY29uc3QgQ19TSElGVCA9IHtcbiAgICAzMjogMywgICAgICAgICAgLy8gU3BhY2VcbiAgICA0NDogMywgICAgICAgICAgLy8gQ29tbWFcbiAgICA0NjogMywgICAgICAgICAgLy8gUGVyaW9kXG4gICAgNzM6IDIgICAgICAgICAgIC8vIElcbn07XG5cbi8qKlxuICogVGV4dFxuICpcbiAqIFV0aWxpdGllcyBmb3IgZHJhd2luZyB0ZXh0IHVzaW5nIGluLWdhbWUgcGl4ZWwgZm9udC5cbiAqL1xuZXhwb3J0IGNvbnN0IFRleHQgPSB7XG4gICAgYXN5bmMgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5kZWZhdWx0ID0gU3ByaXRlLmZvbnQuaW1nO1xuICAgICAgICB0aGlzLmZpcmUgPSB0aGlzLnJlY29sb3IodGhpcy5kZWZhdWx0LCBjdHggPT4ge1xuICAgICAgICAgICAgbGV0IGdyYWRpZW50ID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIDAsIDAsIHRoaXMuZGVmYXVsdC5oZWlnaHQpO1xuICAgICAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDAsICdyZ2JhKDI0MCwxMzQsNTEsMSknKTtcbiAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgxLCAncmdiYSgyNTAsMjIwLDc0LDEpJyk7XG4gICAgICAgICAgICByZXR1cm4gZ3JhZGllbnQ7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNoYWRvdyA9IHRoaXMucmVjb2xvcih0aGlzLmRlZmF1bHQsICdyZ2JhKDI0MCwgMjQwLCAyNTUsIDAuMjUpJyk7XG4gICAgfSxcblxuICAgIGRyYXdUZXh0KGN0eCwgdGV4dCwgdSwgdiwgZm9udCA9IHRoaXMuZGVmYXVsdCwgc2NhbGUgPSAxKSB7XG4gICAgICAgIHRleHQgPSB0ZXh0LnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHRleHQubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgbGV0IGMgPSB0ZXh0LmNoYXJDb2RlQXQoaWR4KTtcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoXG4gICAgICAgICAgICAgICAgZm9udCxcbiAgICAgICAgICAgICAgICAoYyAtIDMyKSAqIChDX1dJRFRIICsgMSksIDAsIENfV0lEVEgsIENfSEVJR0hULFxuICAgICAgICAgICAgICAgIHUsIHYsIENfV0lEVEggKiBzY2FsZSwgQ19IRUlHSFQgKiBzY2FsZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHUgKz0gKENfU0hJRlRbY10gfHwgKENfV0lEVEggKyAxKSkgKiBzY2FsZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBkcmF3UmlnaHRUZXh0KGN0eCwgdGV4dCwgdSwgdiwgZm9udCA9IHRoaXMuZGVmYXVsdCwgc2NhbGUgPSAxKSB7XG4gICAgICAgIHRleHQgPSB0ZXh0LnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIHUgLT0gdGhpcy5tZWFzdXJlV2lkdGgodGV4dCwgc2NhbGUpO1xuICAgICAgICB0aGlzLmRyYXdUZXh0KGN0eCwgdGV4dCwgdSwgdiwgZm9udCwgc2NhbGUpO1xuICAgIH0sXG5cbiAgICBkcmF3UGFyYWdyYXBoKGN0eCwgdGV4dCwgdSwgdiwgdywgaCwgZm9udCA9IHRoaXMuZGVmYXVsdCwgc2NhbGUgPSAxKSB7XG4gICAgICAgIGxldCBjdSA9IHUsIGN2ID0gdiwgcGhyYXNlcyA9IHRleHQudG9VcHBlckNhc2UoKS5zcGxpdCgnICcpO1xuXG4gICAgICAgIGZvciAobGV0IHBocmFzZSBvZiBwaHJhc2VzKSB7XG4gICAgICAgICAgICBsZXQgcGhyYXNlV2lkdGggPSB0aGlzLm1lYXN1cmVXaWR0aChwaHJhc2UsIHNjYWxlKTtcbiAgICAgICAgICAgIGlmIChjdSArIHBocmFzZVdpZHRoIC0gdSA+IHcpIHtcbiAgICAgICAgICAgICAgICBjdSA9IHU7XG4gICAgICAgICAgICAgICAgY3YgKz0gKENfSEVJR0hUICsgMikgKiBzY2FsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZHJhd1RleHQoY3R4LCBwaHJhc2UsIGN1LCBjdiwgZm9udCwgc2NhbGUpO1xuICAgICAgICAgICAgY3UgKz0gcGhyYXNlV2lkdGggKyAoQ19TSElGVFszMl0gfHwgNCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgbWVhc3VyZVdpZHRoKHRleHQsIHNjYWxlKSB7XG4gICAgICAgIHJldHVybiB0ZXh0LnNwbGl0KCcnKS5yZWR1Y2UoKHN1bSwgYykgPT4gc3VtICsgKENfU0hJRlRbYy5jaGFyQ29kZUF0KDApXSB8fCA0KSwgMCkgKiBzY2FsZTtcbiAgICB9LFxuXG4gICAgcmVjb2xvcihmb250LCBjb2xvcikge1xuICAgICAgICBsZXQgY2FudmFzID0gbmV3IENhbnZhcyhmb250LndpZHRoLCBmb250LmhlaWdodCk7XG4gICAgICAgIGNhbnZhcy5jdHguZmlsbFN0eWxlID0gdHlwZW9mIGNvbG9yID09PSBcImZ1bmN0aW9uXCIgPyBjb2xvcihjYW52YXMuY3R4KSA6IGNvbG9yO1xuICAgICAgICBjYW52YXMuY3R4LmZpbGxSZWN0KDAsIDAsIGZvbnQud2lkdGgsIGZvbnQuaGVpZ2h0KTtcbiAgICAgICAgY29uc29sZS5sb2coZm9udC53aWR0aCwgZm9udC5oZWlnaHQsIGNvbG9yLCBjYW52YXMpO1xuICAgICAgICBjYW52YXMuY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdkZXN0aW5hdGlvbi1pbic7XG4gICAgICAgIGNhbnZhcy5jdHguZHJhd0ltYWdlKGZvbnQsIDAsIDApO1xuICAgICAgICByZXR1cm4gY2FudmFzLmNhbnZhcztcbiAgICB9LFxufTtcbiIsImltcG9ydCB7IGdhbWUgfSBmcm9tICcuL0dhbWUnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnLi9Bc3NldHMnO1xuaW1wb3J0IHsgSW5wdXQgfSBmcm9tICcuL2lucHV0L0lucHV0JztcblxuLyoqXG4gKiBNb25zdGVyXG4gKi9cbmV4cG9ydCBjbGFzcyBCdWxsZXQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnBvcyA9IHsgeDogMCwgeTogMCB9O1xuICAgIHRoaXMudmVsID0geyB4OiAwLCB5OiAwIH07XG4gICAgY29uc29sZS5sb2coXCJjcmVhdGVkXCIpO1xuICB9XG5cbiAgdGhpbmsoKSB7XG4gICAgdGhpcy52ZWwueCAqPSAwLjg1O1xuICAgIHRoaXMudmVsLnkgKj0gMC44NTtcblxuICAgIHRoaXMucG9zLnggKz0gdGhpcy52ZWwueDtcbiAgICB0aGlzLnBvcy55ICs9IHRoaXMudmVsLnk7XG5cbiAgICBpZiAoTWF0aC5hYnModGhpcy52ZWwueCkgPCAxICYmIE1hdGguYWJzKHRoaXMudmVsLnkpIDwgMSkge1xuICAgICAgY29uc29sZS5sb2coXCJjdWxsZWRcIik7XG4gICAgICB0aGlzLmN1bGwgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGRyYXcodmlld3BvcnQpIHtcbiAgICBTcHJpdGUuZHJhd1ZpZXdwb3J0U3ByaXRlKHZpZXdwb3J0LCBTcHJpdGUuYnVsbGV0LCB0aGlzLnBvcywgZ2FtZS5jYW1lcmEucG9zKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgZ2FtZSB9IGZyb20gJy4vR2FtZSc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICcuL0Fzc2V0cyc7XG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gJy4vaW5wdXQvSW5wdXQnO1xuaW1wb3J0IHsgR2VvbWV0cnkgYXMgRyB9IGZyb20gJy4vR2VvbWV0cnknO1xuaW1wb3J0IHsgQnVsbGV0IH0gZnJvbSAnLi9CdWxsZXQnO1xuaW1wb3J0IHsgQ29uc3RhbnRzIGFzIEMgfSBmcm9tICcuL0NvbnN0YW50cyc7XG5cbi8qKlxuICogUGxheWVyXG4gKi9cbmV4cG9ydCBjbGFzcyBQbGF5ZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnBvcyA9IHsgeDogMCwgeTogMCB9O1xuICAgIHRoaXMudmVsID0geyB4OiAwLCB5OiAwIH07XG4gICAgdGhpcy5mYWNpbmcgPSB7IHg6IDAsIHk6IC0xLCBtOiAwIH07XG4gICAgdGhpcy5ocCA9IDEwMDtcbiAgfVxuXG4gIHRoaW5rKCkge1xuICAgIGlmIChnYW1lLnBvaW50ZXJYWSgpKSB7XG4gICAgICB0aGlzLmZhY2luZyA9IEcudmVjdG9yQmV0d2Vlbih0aGlzLnBvcywgZ2FtZS5wb2ludGVyWFkoKSk7XG4gICAgfVxuXG4gICAgbGV0IHYgPSB7XG4gICAgICB4OiBnYW1lLmlucHV0LmRpcmVjdGlvbi54ICogZ2FtZS5pbnB1dC5kaXJlY3Rpb24ubSAqIDIuNSxcbiAgICAgIHk6IGdhbWUuaW5wdXQuZGlyZWN0aW9uLnkgKiBnYW1lLmlucHV0LmRpcmVjdGlvbi5tICogMi41XG4gICAgfTtcbiAgICB0aGlzLnZlbC54ID0gKHRoaXMudmVsLnggKyB2LngpIC8gMjtcbiAgICB0aGlzLnZlbC55ID0gKHRoaXMudmVsLnkgKyB2LnkpIC8gMjtcblxuICAgIGlmIChnYW1lLmlucHV0LnByZXNzZWRbSW5wdXQuQWN0aW9uLkFUVEFDS10pIHtcbiAgICAgIHRoaXMuZmlyZVNob3RndW4oKTtcbiAgICB9XG4gIH1cblxuICBkcmF3KHZpZXdwb3J0KSB7XG4gICAgU3ByaXRlLmRyYXdWaWV3cG9ydFNwcml0ZSh2aWV3cG9ydCwgU3ByaXRlLnBsYXllciwgdGhpcy5wb3MsIGdhbWUuY2FtZXJhLnBvcyk7XG5cbiAgICB2aWV3cG9ydC5jdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsIDI1NSwgNjQsIDAuMyknO1xuICAgIHZpZXdwb3J0LmN0eC5iZWdpblBhdGgoKTtcbiAgICBsZXQgdXYgPSBnYW1lLnh5MnV2KHRoaXMucG9zKTtcbiAgICB2aWV3cG9ydC5jdHguYXJjKHV2LnUsIHV2LnYsIEMuUExBWUVSX0JPVU5EX1JBRElVUywgMCwgMiAqIE1hdGguUEkpO1xuICAgIHZpZXdwb3J0LmN0eC5zZXRMaW5lRGFzaChbMiwgMV0pO1xuICAgIHZpZXdwb3J0LmN0eC5zdHJva2UoKTtcbiAgICB2aWV3cG9ydC5jdHguc2V0TGluZURhc2goW10pO1xuICB9XG5cbiAgZmlyZVNob3RndW4oKSB7XG4gICAgY29uc29sZS5sb2codGhpcy5mYWNpbmcpO1xuICAgIGxldCBhbmdsZSA9IEcudmVjdG9yMmFuZ2xlKHRoaXMuZmFjaW5nKTtcbiAgICBsZXQgc3ByZWFkID0gRy5SQURbNjBdO1xuICAgIGxldCBwZWxsZXRzID0gMTI7XG4gICAgLy8gc2hvdGd1bjogNjAsIDEyLCAxMFxuICAgIC8vIHNuaXBlcjogNSwgMTIsIDQwXG5cbiAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBwZWxsZXRzOyBpZHgrKykge1xuICAgICAgbGV0IHBlbGxldEFuZ2xlID0gKGlkeCAqIHNwcmVhZCAvIChwZWxsZXRzIC0gMSkpICsgYW5nbGUgLSBzcHJlYWQgLyAyO1xuICAgICAgbGV0IHBlbGxldFZlY3RvciA9IEcuYW5nbGUydmVjdG9yKHBlbGxldEFuZ2xlKTtcbiAgICAgIGxldCBidWxsZXQgPSBuZXcgQnVsbGV0KCk7XG4gICAgICBidWxsZXQucG9zID0geyAuLi50aGlzLnBvcyB9O1xuICAgICAgYnVsbGV0LnZlbCA9IHsgeDogcGVsbGV0VmVjdG9yLnggKiAxMCwgeTogcGVsbGV0VmVjdG9yLnkgKiAxMCB9O1xuICAgICAgZ2FtZS5lbnRpdGllcy5wdXNoKGJ1bGxldCk7XG4gICAgfVxuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IGdhbWUgfSBmcm9tICcuL0dhbWUnO1xuaW1wb3J0IHsgR2VvbWV0cnkgYXMgRyB9IGZyb20gJy4vR2VvbWV0cnknO1xuaW1wb3J0IHsgQ29uc3RhbnRzIGFzIEMgfSBmcm9tICcuL0NvbnN0YW50cyc7XG5cbi8qKlxuICogRGV0ZWN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBEZXRlY3Rpb24gPSB7XG4gIGxpbmVPZlNpZ2h0KGEsIGIpIHtcbiAgICAgIC8vIHRvZG86IHRoaXMgY2hlY2tzIGNlbnRlciBtYXNzXG4gICAgICBmb3IgKGxldCB0aWxlIG9mIEcudGlsZXNIaXRCZXR3ZWVuKGEucG9zLCBiLnBvcykpIHtcbiAgICAgICAgaWYgKCFHLnRpbGVJc1Bhc3NhYmxlKHRpbGUucSwgdGlsZS5yKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyB0b2RvOiBkaXN0YW5jZSBhd2F5XG4gICAgICAvLyB0b2RvOiBmYWNpbmcgY2hlY2tcbiAgICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEJlaGF2aW9yXG4gKi9cbmV4cG9ydCBjb25zdCBCZWhhdmlvciA9IHtcbiAgSURMRTogICAxMDEsXG4gIFdBTkRFUjogMTAyLFxuICBDSEFTRTogIDEwMyxcbiAgSFVOVDogICAxMDQsXG4gIEZMRUU6ICAgMTA1LFxuXG4gIGFwcGx5KGVudGl0aWVzKSB7XG4gICAgZm9yIChsZXQgZW50aXR5IG9mIGVudGl0aWVzKSB7XG4gICAgICBpZiAoZW50aXR5LnRoaW5rKSBlbnRpdHkudGhpbmsoKTtcbiAgICB9XG4gIH1cbn07XG4iLCJpbXBvcnQgeyBnYW1lIH0gZnJvbSAnLi9HYW1lJztcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gJy4vQXNzZXRzJztcbmltcG9ydCB7IElucHV0IH0gZnJvbSAnLi9pbnB1dC9JbnB1dCc7XG5pbXBvcnQgeyBHZW9tZXRyeSBhcyBHIH0gZnJvbSAnLi9HZW9tZXRyeSc7XG5pbXBvcnQgeyBEZXRlY3Rpb24gfSBmcm9tICcuL0RldGVjdGlvbic7XG5pbXBvcnQgeyBCZWhhdmlvciB9IGZyb20gJy4vc3lzdGVtcy9CZWhhdmlvcic7XG5cbi8qKlxuICogTW9uc3RlclxuICovXG5leHBvcnQgY2xhc3MgTW9uc3RlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucG9zID0geyB4OiAwLCB5OiAwIH07XG4gICAgdGhpcy52ZWwgPSB7IHg6IDAsIHk6IDAgfTtcbiAgICB0aGlzLmZhY2luZyA9IHsgeDogMCwgeTogLTEsIG06IDAgfTtcbiAgICB0aGlzLmhwID0gMTAwO1xuICB9XG5cbiAgdGhpbmsoKSB7XG4gICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICBjYXNlIEJlaGF2aW9yLklETEU6XG4gICAgICAgIGlmIChEZXRlY3Rpb24ubGluZU9mU2lnaHQodGhpcywgZ2FtZS5wbGF5ZXIpKSB7XG4gICAgICAgICAgdGhpcy5zdGF0ZSA9IEJlaGF2aW9yLkNIQVNFO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBCZWhhdmlvci5DSEFTRTpcbiAgICAgICAgbGV0IGRpZmYgPSBHLnZlY3RvckJldHdlZW4odGhpcy5wb3MsIGdhbWUucGxheWVyLnBvcyk7XG4gICAgICAgIGRpZmYubSA9IEcuY2xhbXAoZGlmZi5tLCAwLCAxKTtcbiAgICAgICAgdGhpcy52ZWwgPSB7IHg6IGRpZmYueCAqIGRpZmYubSwgeTogZGlmZi55ICogZGlmZi5tIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy5zdGF0ZSA9IEJlaGF2aW9yLklETEU7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGRyYXcodmlld3BvcnQpIHtcbiAgICAvLyBUT0RPXG4gICAgU3ByaXRlLmRyYXdWaWV3cG9ydFNwcml0ZSh2aWV3cG9ydCwgU3ByaXRlLm1vbnN0ZXIsIHRoaXMucG9zLCBnYW1lLmNhbWVyYS5wb3MpO1xuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IFRleHQgfSBmcm9tICcuL1RleHQnO1xuXG5leHBvcnQgY29uc3QgTWVudSA9IHtcbiAgICBkcmF3KHZpZXdwb3J0KSB7XG5cbiAgICAgICAgdmlld3BvcnQuY3R4LmZpbGxTdHlsZSA9ICcjMzkzOTk0JztcbiAgICAgICAgdmlld3BvcnQuY3R4LmZpbGxSZWN0KDQwLCA0MCwgMTQwLCA4MCk7XG5cblxuICAgICAgICBsZXQgb3B0aW9ucyA9IFtcbiAgICAgICAgICAgIHsgbmFtZTogJ0Fib21pbmFibGUgU25vd21hbicsIGNvc3Q6IDUwMCB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnU3dvcmRzIHRvIFBsb3dzaGFyZXMnLCBjb3N0OiA2MDAgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ1NvbWV0aGluZycsIGNvc3Q6IDI1MCB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnUGxvd3NoYXJlcycsIGNvc3Q6IDMwMCB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnV2lsbCAxJywgY29zdDogNDAwIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdXaWxsIDEnLCBjb3N0OiAyNDAgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ0VscGVnYW50JywgY29zdDogMzAwIH1cbiAgICAgICAgXTtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBvcHRpb25zLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGxldCBvcHRpb24gPSBvcHRpb25zW2lkeF07XG4gICAgICAgICAgICBUZXh0LmRyYXdUZXh0KHZpZXdwb3J0LmN0eCwgb3B0aW9uLm5hbWUsIDQzLCA0MCArIDIgKyBpZHggKiA5LCBUZXh0LnNoYWRvdyk7XG4gICAgICAgICAgICBUZXh0LmRyYXdUZXh0KHZpZXdwb3J0LmN0eCwgb3B0aW9uLm5hbWUsIDQyLCA0MCArIDIgKyBpZHggKiA5KTtcblxuICAgICAgICAgICAgVGV4dC5kcmF3UmlnaHRUZXh0KHZpZXdwb3J0LmN0eCwgU3RyaW5nKG9wdGlvbi5jb3N0KSwgMTgwIC0gMSwgNDAgKyAyICsgaWR4ICogOSwgVGV4dC5zaGFkb3cpO1xuICAgICAgICAgICAgVGV4dC5kcmF3UmlnaHRUZXh0KHZpZXdwb3J0LmN0eCwgU3RyaW5nKG9wdGlvbi5jb3N0KSwgMTgwIC0gMiwgNDAgKyAyICsgaWR4ICogOSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKlxuICAgICAgICBUZXh0LmRyYXdUZXh0KGN0eCwgXCJBYm9taW5hYmxlIFNub3dtYW5cIiwgMTIwLCA1MCk7XG4gICAgICAgIFRleHQuZHJhd1RleHQoY3R4LCBcIkFib21pbmFibGUgU25vd21hblwiLCAxMjEsIDUwLCBUZXh0LnNoYWRvdyk7XG4gICAgICAgIFRleHQuZHJhd1JpZ2h0VGV4dChjdHgsIFwiNTAwXCIsIDEyMCwgNzApO1xuICAgICAgICBUZXh0LmRyYXdSaWdodFRleHQoY3R4LCBcIjEsMjAwXCIsIDEyMCwgODApO1xuICAgICAgICBUZXh0LmRyYXdSaWdodFRleHQoY3R4LCBcIjUsMDAwXCIsIDEyMCwgOTApO1xuICAgICAgICBUZXh0LmRyYXdSaWdodFRleHQoY3R4LCBcIjUsMDAwXCIsIDEyMSwgOTEsIFRleHQuc2hhZG93KTtcblxuXG4gICAgICAgIDVweCA3cHggOXB4XG5cbiAgICAgICAgZHJhdyh2aWV3cG9ydCkge1xuICAgICAgICAgICAgU3ByaXRlLmRyYXdWaWV3cG9ydFNwcml0ZSh2aWV3cG9ydCwgU3ByaXRlLnBsYXllciwgdGhpcy5wb3MsIGdhbWUuY2FtZXJhLnBvcyk7XG5cbiAgICAgICAgICAgIHZpZXdwb3J0LmN0eC5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwgMjU1LCA2NCwgMC4zKSc7XG4gICAgICAgICAgICB2aWV3cG9ydC5jdHguYmVnaW5QYXRoKCk7Ki9cblxuICAgIH1cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IGdhbWUgfSBmcm9tICcuLi9HYW1lJztcbmltcG9ydCB7IEdlb21ldHJ5IGFzIEcgfSBmcm9tICcuLi9HZW9tZXRyeSc7XG5pbXBvcnQgeyBDb25zdGFudHMgYXMgQyB9IGZyb20gJy4uL0NvbnN0YW50cyc7XG5cbi8qKlxuICogTW92ZW1lbnRcbiAqL1xuZXhwb3J0IGNvbnN0IE1vdmVtZW50ID0ge1xuICBhcHBseShlbnRpdGllcykge1xuICAgIGZvciAobGV0IGVudGl0eSBvZiBlbnRpdGllcykge1xuICAgICAgLy8gTW92ZW1lbnQgb25seSBhcHBsaWVzIHRvIGFjdGl2ZSBlbnRpdGllcyB3aXRoIHBvc2l0aW9ucyBhbmQgdmVsb2NpdGllc1xuICAgICAgaWYgKCFlbnRpdHkucG9zIHx8ICFlbnRpdHkudmVsIHx8IGVudGl0eS5jdWxsKSBjb250aW51ZTtcblxuICAgICAgTW92ZW1lbnQuY2xpcFZlbG9jaXR5QWdhaW5zdFdhbGxzKGVudGl0eSk7XG5cbiAgICAgIGVudGl0eS5wb3MueCArPSBlbnRpdHkudmVsLng7XG4gICAgICBlbnRpdHkucG9zLnkgKz0gZW50aXR5LnZlbC55O1xuICAgIH1cbiAgfSxcblxuICBjbGlwVmVsb2NpdHlBZ2FpbnN0V2FsbHMoZW50aXR5KSB7XG4gICAgZm9yIChsZXQgcm91bmRzID0gMDsgcm91bmRzIDwgNTsgcm91bmRzKyspIHtcbiAgICAgIGxldCBjb2xsaWRlZCA9IGZhbHNlO1xuICAgICAgZm9yIChsZXQgdGlsZSBvZiBHLnRpbGVzSGl0QnlDaXJjbGUoZW50aXR5LnBvcywgZW50aXR5LnZlbCwgQy5QTEFZRVJfQk9VTkRfUkFESVVTKSkge1xuICAgICAgICBpZiAoIUcudGlsZUlzUGFzc2FibGUodGlsZS5xLCB0aWxlLnIpKSB7XG4gICAgICAgICAgbGV0IGJvdW5kcyA9IFtHLnFyMnh5KHRpbGUpLCBHLnFyMnh5KHsgcTogdGlsZS5xICsgMSwgcjogdGlsZS5yICsgMSB9KV07XG4gICAgICAgICAgbGV0IGhpdCA9IEcuaW50ZXJzZWN0Q2lyY2xlUmVjdGFuZ2xlKFxuICAgICAgICAgICAgZW50aXR5LnBvcyxcbiAgICAgICAgICAgIHsgeDogZW50aXR5LnBvcy54ICsgZW50aXR5LnZlbC54LCB5OiBlbnRpdHkucG9zLnkgKyBlbnRpdHkudmVsLnkgfSxcbiAgICAgICAgICAgIEMuUExBWUVSX0JPVU5EX1JBRElVUyxcbiAgICAgICAgICAgIGJvdW5kc1xuICAgICAgICAgICk7XG5cbiAgICAgICAgICAvLyBUaGUgXCJtYXRoXCIgcGFydCBvZiBkZXRlY3RpbmcgY29sbGlzaW9uIHdpdGggd2FsbHMgaXMgYnVyaWVkIGluIHRoZSBnZW9tZXRyeSBmdW5jdGlvbnNcbiAgICAgICAgICAvLyBhYm92ZSwgYnV0IGl0J3Mgbm90IHRoZSB3aG9sZSBzdG9yeSAtLSBpZiB3ZSBkbyBkZXRlY3QgYSBjb2xsaXNpb24sIHdlIHN0aWxsIG5lZWQgdG9cbiAgICAgICAgICAvLyBkZWNpZGUgd2hhdCB0byBkbyBhYm91dCBpdC5cbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vIElmIHRoZSBub3JtYWwgdmVjdG9yIGlzIGhvcml6b250YWwgb3IgdmVydGljYWwsIHdlIHplcm8gb3V0IHRoZSBwb3J0aW9uIG9mIHRoZSB2ZWN0b3JcbiAgICAgICAgICAvLyBtb3ZpbmcgaW50byB0aGUgd2FsbCwgYWxsb3dpbmcgZnJpY3Rpb25sZXNzIHNsaWRpbmcgKGlmIHdlIHdhbnRlZCB0byBhcHBseSBmcmljdGlvbixcbiAgICAgICAgICAvLyB3ZSBjb3VsZCBhbHNvIHJlZHVjZSB0aGUgb3RoZXIgYXhpcyBzbGlnaHRseSkuXG4gICAgICAgICAgLy9cbiAgICAgICAgICAvLyBJZiB0aGUgbm9ybWFsIHZlY3RvciBpcyBub3QgOTAqLCB3ZSBcImJhY2sgdXBcIiBvZmYgdGhlIHdhbGwgYnkgZXhhY3RseSB0aGUgbm9ybWFsIHZlY3Rvci5cbiAgICAgICAgICAvLyBJZiB0aGUgcGxheWVyIHJ1bnMgaW50byBhIGNvcm5lciBhdCBFWEFDVExZIGEgNDUgZGVncmVlIGFuZ2xlLCB0aGV5IHdpbGwgc2ltcGx5IFwic3RpY2tcIlxuICAgICAgICAgIC8vIG9uIGl0IC0tIGJ1dCBvbmUgZGVncmVlIGxlZnQgb3IgcmlnaHQgYW5kIHRoZXknbGwgc2xpZGUgYXJvdW5kIHRoZSBjb3JuZXIgb250byB0aGUgd2FsbCxcbiAgICAgICAgICAvLyB3aGljaCBpcyB0aGUgZGVzaXJlZCByZXN1bHQuXG4gICAgICAgICAgaWYgKGhpdCkge1xuICAgICAgICAgICAgaWYgKGhpdC5ueCA9PT0gMCkge1xuICAgICAgICAgICAgICBlbnRpdHkudmVsLnkgPSBoaXQueSAtIGVudGl0eS5wb3MueTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaGl0Lm55ID09PSAwKSB7XG4gICAgICAgICAgICAgIGVudGl0eS52ZWwueCA9IGhpdC54IC0gZW50aXR5LnBvcy54O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZW50aXR5LnZlbC54ICs9IGhpdC5ueDtcbiAgICAgICAgICAgICAgZW50aXR5LnZlbC55ICs9IGhpdC5ueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbGxpZGVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghY29sbGlkZWQpIGJyZWFrO1xuICAgIH1cbiAgfVxufTtcbiIsIi8qaW1wb3J0IHsgSW5wdXQgfSBmcm9tICcuL0lucHV0JztcbmltcG9ydCB7IFBsYXllciB9IGZyb20gJy4vUGxheWVyJztcbmltcG9ydCB7IFNjcmVlblNoYWtlIH0gZnJvbSAnLi9TY3JlZW5TaGFrZSc7XG5pbXBvcnQgeyBIdWQgfSBmcm9tICcuL0h1ZCc7XG5pbXBvcnQgeyBNZW51LCBQYXVzZU1lbnUsIEludHJvTWVudUEsIEludHJvTWVudUIsIE91dHJvTWVudSB9IGZyb20gJy4vTWVudSc7XG5pbXBvcnQgeyBBdWRpbyB9IGZyb20gJy4vQXVkaW8nO1xuaW1wb3J0IHsgQXNzZXRzLCBTcHJpdGUsIGRyYXdQb2x5IH0gZnJvbSAnLi9Bc3NldHMnO1xuaW1wb3J0IHsgRGVtb24xIH0gZnJvbSAnLi9EZW1vbjEnO1xuaW1wb3J0IHsgQ2FudmFzIH0gZnJvbSAnLi9DYW52YXMnO1xuaW1wb3J0IHsgUGFydGljbGUsIFBvcnRhbFBhcnRpY2xlLCBTdXBlclBhcnRpY2xlIH0gZnJvbSAnLi9QYXJ0aWNsZSc7XG5pbXBvcnQgeyBIaXZlIH0gZnJvbSAnLi9IaXZlJztcbmltcG9ydCB7IFBvaW50LCBpbnRlcnNlY3RpbmdQb2x5Z29ucywgaW50ZXJzZWN0aW5nQ2lyY2xlcywgUkFELCB2ZWN0b3JGcm9tQW5nbGUsIGRpc3RhbmNlIH0gZnJvbSAnLi9HZW9tZXRyeSc7XG5pbXBvcnQgeyBIRUFSVEJFQVQgfSBmcm9tICcuL0NvbmZpZyc7XG5pbXBvcnQgeyBUd2VlbiB9IGZyb20gJy4vVHdlZW4nO1xuKi9cblxuaW1wb3J0IHsgQXNzZXRzLCBTcHJpdGUgfSBmcm9tICcuL0Fzc2V0cyc7XG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gJy4vaW5wdXQvSW5wdXQnO1xuaW1wb3J0IHsgTWF6ZUdlbmVyYXRvciB9IGZyb20gJy4vTWF6ZUdlbmVyYXRvcic7XG5pbXBvcnQgeyBUZXh0IH0gZnJvbSAnLi9UZXh0JztcbmltcG9ydCB7IFBsYXllcn0gZnJvbSAnLi9QbGF5ZXInO1xuaW1wb3J0IHsgTW9uc3RlciB9IGZyb20gJy4vTW9uc3Rlcic7XG5pbXBvcnQgeyB2aWV3cG9ydCB9IGZyb20gJy4vVmlld3BvcnQnO1xuaW1wb3J0IHsgQ29uc3RhbnRzIGFzIEMgfSBmcm9tICcuL0NvbnN0YW50cyc7XG5pbXBvcnQgeyBHZW9tZXRyeSBhcyBHIH0gZnJvbSAnLi9HZW9tZXRyeSc7XG5pbXBvcnQgeyBNZW51IH0gZnJvbSAnLi9NZW51JztcblxuaW1wb3J0IHsgQmVoYXZpb3IgfSBmcm9tICcuL3N5c3RlbXMvQmVoYXZpb3InO1xuaW1wb3J0IHsgTW92ZW1lbnQgfSBmcm9tICcuL3N5c3RlbXMvTW92ZW1lbnQnO1xuXG4vKipcbiAqIEdhbWUgc3RhdGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBHYW1lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICB9XG5cbiAgICBhc3luYyBpbml0KCkge1xuICAgICAgICB2aWV3cG9ydC5pbml0KCk7XG5cbiAgICAgICAgdGhpcy5pbnB1dCA9IG5ldyBJbnB1dCgpO1xuICAgICAgICBhd2FpdCB0aGlzLmlucHV0LmluaXQoKTtcblxuICAgICAgICB0aGlzLm1hemUgPSBNYXplR2VuZXJhdG9yLmdlbmVyYXRlKFwiYXBwbGVzXCIpO1xuICAgICAgICB0aGlzLmNhbWVyYSA9IHsgcG9zOiB7IHg6IDEsIHk6IDEgfSB9O1xuXG4gICAgICAgIGF3YWl0IEFzc2V0cy5pbml0KCk7XG4gICAgICAgIGF3YWl0IFRleHQuaW5pdCgpO1xuXG4gICAgICAgIHRoaXMuZW50aXRpZXMgPSBbXTtcblxuICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBQbGF5ZXIoKTtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5tYXplLnJvb21zKTtcbiAgICAgICAgdGhpcy5wbGF5ZXIucG9zLnggPSB0aGlzLm1hemUucm9vbXNbMV1bMF0ucSAqIEMuVElMRV9XSURUSCArIEMuVElMRV9XSURUSCAvIDI7XG4gICAgICAgIHRoaXMucGxheWVyLnBvcy55ID0gdGhpcy5tYXplLnJvb21zWzFdWzBdLnIgKiBDLlRJTEVfV0lEVEggKyBDLlRJTEVfV0lEVEggLyAyO1xuXG4gICAgICAgIHRoaXMuZW50aXRpZXMucHVzaCh0aGlzLnBsYXllcik7XG5cbiAgICAgICAgbGV0IG1vbnN0ZXIgPSBuZXcgTW9uc3RlcigpO1xuICAgICAgICBtb25zdGVyLnBvcy54ID0gMTEgKiAzMiArIDE2O1xuICAgICAgICBtb25zdGVyLnBvcy55ID0gMTEgKiAzMiArIDE2O1xuICAgICAgICB0aGlzLmVudGl0aWVzLnB1c2gobW9uc3Rlcik7XG5cbiAgICAgICAgLypcblxuICAgICAgICBhd2FpdCBBc3NldHMuaW5pdCgpO1xuXG4gICAgICAgIHRoaXMuYXJ0aWZhY3RzID0gW1xuICAgICAgICAgICAgYXdhaXQgQXNzZXRzLmdyYXlzY2FsZU5vaXNlKHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpLFxuICAgICAgICAgICAgYXdhaXQgQXNzZXRzLmdyYXlzY2FsZU5vaXNlKHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpLFxuICAgICAgICAgICAgYXdhaXQgQXNzZXRzLmdyYXlzY2FsZU5vaXNlKHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5pbnB1dCA9IG5ldyBJbnB1dCgpO1xuICAgICAgICBhd2FpdCB0aGlzLmlucHV0LmluaXQoKTtcblxuICAgICAgICB0aGlzLnBsYXllciA9IG5ldyBQbGF5ZXIoKTtcblxuICAgICAgICB0aGlzLmh1ZCA9IG5ldyBIdWQoKTtcblxuICAgICAgICB0aGlzLnBhcnRpY2xlcyA9IFtdO1xuICAgICAgICB0aGlzLnNjcmVlbnNoYWtlcyA9IFtdO1xuICAgICAgICB0aGlzLm1lbnVTdGFjayA9IFtdO1xuXG4gICAgICAgIHRoaXMubW9uc3RlcnMgPSBbXTtcblxuICAgICAgICAvLyBDcmVhdGUsIGJ1dCBkbyBub3QgaW5pdGlhbGl6ZSwgdGhlIGF1ZGlvIG9iamVjdC4gVGhlIGF1ZGlvIG9iamVjdCB3aWxsIGJlXG4gICAgICAgIC8vIGluaXRpYWxpemVkIGFzIHNvb24gYXMgcG9zc2libGUgYnkgdGhlIGZpcnN0IHVzZXIgaW5wdXQgZXZlbnQsIHRvIG1lZXRcbiAgICAgICAgLy8gcmVxdWlyZW1lbnRzIG9mIHRoZSBicm93c2VyLlxuICAgICAgICB0aGlzLmF1ZGlvID0gbmV3IEF1ZGlvKCk7XG5cbiAgICAgICAgdGhpcy5zY29yZSA9IDA7XG5cbiAgICAgICAgdGhpcy5oaXZlID0gbmV3IEhpdmUoKTtcblxuICAgICAgICAqL1xuICAgIH1cblxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLmZyYW1lID0gMDtcblxuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblxuICAgICAgICAvKlxuICAgICAgICB0aGlzLm1lbnVTdGFjay5wdXNoKG5ldyBJbnRyb01lbnVBKHtcbiAgICAgICAgICAgIG9uQ2xvc2U6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1lbnVTdGFjay5wdXNoKG5ldyBJbnRyb01lbnVCKHt9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTsqL1xuXG4gICAgICAgIC8vdGhpcy5mcmFtZW1zID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5vbkZyYW1lKDEpKTtcbiAgICAgICAgLy90aGlzLmZyYW1lID0gMDtcbiAgICB9XG5cbiAgICBvbkZyYW1lKGN1cnJlbnRtcykge1xuICAgICAgICB0aGlzLmZyYW1lKys7XG4gICAgICAgIHZpZXdwb3J0LnJlc2l6ZSgpO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICB0aGlzLmRyYXcodmlld3BvcnQuY3R4KTtcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLm9uRnJhbWUoY3VycmVudG1zKSk7XG4gICAgfVxuXG4gICAgdXBkYXRlKCkge1xuICAgICAgICAvLyBQdWxsIGluIGZyYW1lIGJ5IGZyYW1lIGJ1dHRvbiBwdXNoZXMgLyBrZXlwcmVzc2VzIC8gbW91c2UgY2xpY2tzXG4gICAgICAgIHRoaXMuaW5wdXQudXBkYXRlKCk7XG5cbiAgICAgICAgLy8gQmVoYXZpb3IgKEFJLCBwbGF5ZXIgaW5wdXQsIGV0Yy4pXG4gICAgICAgIEJlaGF2aW9yLmFwcGx5KHRoaXMuZW50aXRpZXMpO1xuXG4gICAgICAgIC8vIE1vdmVtZW50IChhcHBseSBlbnRpdHkgdmVsb2NpdHkgdG8gcG9zaXRpb24pXG4gICAgICAgIE1vdmVtZW50LmFwcGx5KHRoaXMuZW50aXRpZXMpO1xuXG4gICAgICAgIC8vIGNhbWVyYSBsb2dpYyEgd2hlcmUgZG9lcyBpdCBnbyEgKGFuIGVudGl0eSBwZXJoYXBzPylcbiAgICAgICAgbGV0IGRpZmYgPSB7XG4gICAgICAgICAgICB4OiB0aGlzLnBsYXllci5wb3MueCAtIHRoaXMuY2FtZXJhLnBvcy54LFxuICAgICAgICAgICAgeTogdGhpcy5wbGF5ZXIucG9zLnkgLSB0aGlzLmNhbWVyYS5wb3MueVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNhbWVyYS5wb3MueCArPSBkaWZmLnggKiAwLjM7XG4gICAgICAgIHRoaXMuY2FtZXJhLnBvcy55ICs9IGRpZmYueSAqIDAuMztcblxuICAgICAgICAvLyBDdWxsaW5nIFN0ZXBcbiAgICAgICAgdGhpcy5lbnRpdGllcyA9IHRoaXMuZW50aXRpZXMuZmlsdGVyKGVudGl0eSA9PiAhZW50aXR5LmN1bGwpO1xuICAgIH1cblxuICAgIGRyYXcoY3R4KSB7XG4gICAgICAgIGN0eC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgICAgIGN0eC5zY2FsZSh2aWV3cG9ydC5zY2FsZSwgdmlld3BvcnQuc2NhbGUpO1xuXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSg0OCwzMiw0OCwxKSc7XG4gICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCB2aWV3cG9ydC53aWR0aCwgdmlld3BvcnQuaGVpZ2h0KTtcblxuICAgICAgICAvKmN0eC5maWxsU3R5bGUgPSAncmdiYSgxNTAsIDEyOCwgMTI4LCAxKSc7XG4gICAgICAgIGN0eC5maWxsUmVjdCgxMCwgMTAsIDEwMCwgMTAwKTsqL1xuXG4gICAgICAgIHRoaXMuZHJhd01hemUoY3R4LCB0aGlzLm1hemUpO1xuXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAnd2hpdGUnO1xuICAgICAgICBjdHguZm9udCA9ICc4cHggc2VyaWYnO1xuICAgICAgICBjdHguZmlsbFRleHQoW3ZpZXdwb3J0LnNjYWxlLHZpZXdwb3J0LndpZHRoLHZpZXdwb3J0LmhlaWdodF0uam9pbignLCAnKSwgMTAsIDEwKTtcblxuICAgICAgICAvKlxuICAgICAgICBUZXh0LmRyYXdQYXJhZ3JhcGgoY3R4LFxuICAgICAgICAgICAgXCJIb2xkIGRvd24gZmlyZSBidXR0b24gdG8gZGVjcmVhc2Ugc3ByZWFkIGFuZCBpbmNyZWFzZSByYW5nZS5cIiArXG4gICAgICAgICAgICBcIiBNb3N0IGNyaXRpY2FsIGhpdHMsIHdoZW4gdXNlZCwgd2lsbCBnbyB1cCAxNzUlLlwiLFxuICAgICAgICAgICAgMTIxLCA1MCwgMjI1LCAxMDAsIFRleHQuc2hhZG93LCAxKTtcbiAgICAgICAgVGV4dC5kcmF3UGFyYWdyYXBoKGN0eCxcbiAgICAgICAgICAgIFwiSG9sZCBkb3duIGZpcmUgYnV0dG9uIHRvIGRlY3JlYXNlIHNwcmVhZCBhbmQgaW5jcmVhc2UgcmFuZ2UuXCIgK1xuICAgICAgICAgICAgXCIgTW9zdCBjcml0aWNhbCBoaXRzLCB3aGVuIHVzZWQsIHdpbGwgZ28gdXAgMTc1JS5cIixcbiAgICAgICAgICAgIDEyMCwgNTAsIDIyNSwgMTAwLCBUZXh0LmZpcmUsIDEpO1xuICAgICAgICAgICAgKi9cblxuICAgICAgICBTcHJpdGUuZHJhd1Nwcml0ZShjdHgsIFNwcml0ZS5kZW1vbl93YWxrLCA1MCwgNTApO1xuXG4gICAgICAgIGxldCBwdHIgPSB0aGlzLmlucHV0LnBvaW50ZXI7XG4gICAgICAgIGlmIChwdHIpIHtcbiAgICAgICAgICAgIFRleHQuZHJhd1RleHQoY3R4LCBKU09OLnN0cmluZ2lmeShwdHIpLCAyMCwgMjApO1xuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwgMTIwLCAxMjAsIDEpJztcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChwdHIudSAtIDEsIHB0ci52IC0gMSwgMywgMyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBlbnRpdHkgb2YgdGhpcy5lbnRpdGllcykge1xuICAgICAgICAgICAgZW50aXR5LmRyYXcodmlld3BvcnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVE9ET1xuICAgICAgICAvLyB0aGlzLnRyYWNlKHZpZXdwb3J0KTtcblxuICAgICAgICAvLyB4XG5cbiAgICAgICAgLypcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDE1MCwgMTI4LCAxMjgsIDEpJztcbiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuXG4gICAgICAgIHRoaXMuc2hhZG93LmN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnY29weSc7XG4gICAgICAgIC8vdGhpcy5zaGFkb3cuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5zaGFkb3cuY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDAsIDAsIDAsIDAuOTkpJztcbiAgICAgICAgdGhpcy5zaGFkb3cuY3R4LmZpbGxSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuXG4gICAgICAgIHRoaXMuc2hhZG93LmN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnZGVzdGluYXRpb24tb3V0JztcbiAgICAgICAgbGV0IGdyZCA9IHRoaXMuc2hhZG93LmN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChnYW1lLnBsYXllci54LCBnYW1lLnBsYXllci55LCAwLCBnYW1lLnBsYXllci54LCBnYW1lLnBsYXllci55LCAyMDApO1xuICAgICAgICBncmQuYWRkQ29sb3JTdG9wKDAsIFwicmdiYSgwLCAwLCAwLCAxKVwiKTtcbiAgICAgICAgZ3JkLmFkZENvbG9yU3RvcCgwLjUsIFwicmdiYSgwLCAwLCAwLCAwLjk1KVwiKTtcbiAgICAgICAgZ3JkLmFkZENvbG9yU3RvcCgxLCBcInJnYmEoMCwgMCwgMCwgMClcIik7XG4gICAgICAgIHRoaXMuc2hhZG93LmN0eC5maWxsU3R5bGUgPSBncmQ7XG4gICAgICAgIHRoaXMuc2hhZG93LmN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgdGhpcy5zaGFkb3cuY3R4LmFyYyhnYW1lLnBsYXllci54LCBnYW1lLnBsYXllci55LCAyMDAsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgICAgdGhpcy5zaGFkb3cuY3R4LmZpbGwoKTtcblxuICAgICAgICBmb3IgKGxldCBwYXJ0aWNsZSBvZiB0aGlzLnBhcnRpY2xlcy5maWx0ZXIocCA9PiBwIGluc3RhbmNlb2YgUG9ydGFsUGFydGljbGUpKSB7XG4gICAgICAgICAgICBsZXQgciA9IChwYXJ0aWNsZSBhcyBQb3J0YWxQYXJ0aWNsZSkuZWZmZWN0aXZlUmFkaXVzKCk7XG4gICAgICAgICAgICB0aGlzLnNoYWRvdy5jdHguZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2Rlc3RpbmF0aW9uLW91dCc7XG4gICAgICAgICAgICBsZXQgZ3JkID0gdGhpcy5zaGFkb3cuY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KHBhcnRpY2xlLngsIHBhcnRpY2xlLnksIDAsIHBhcnRpY2xlLngsIHBhcnRpY2xlLnksIHIpO1xuICAgICAgICAgICAgZ3JkLmFkZENvbG9yU3RvcCgwLCBcInJnYmEoMCwgMCwgMCwgMC43KVwiKTtcbiAgICAgICAgICAgIGdyZC5hZGRDb2xvclN0b3AoMSwgXCJyZ2JhKDAsIDAsIDAsIDApXCIpO1xuICAgICAgICAgICAgdGhpcy5zaGFkb3cuY3R4LmZpbGxTdHlsZSA9IGdyZDtcbiAgICAgICAgICAgIHRoaXMuc2hhZG93LmN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIHRoaXMuc2hhZG93LmN0eC5hcmMocGFydGljbGUueCwgcGFydGljbGUueSwgciwgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICAgICAgdGhpcy5zaGFkb3cuY3R4LmZpbGwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2hhZG93LmN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnc291cmNlLWF0b3AnO1xuICAgICAgICBmb3IgKGxldCBtb25zdGVyIG9mIHRoaXMubW9uc3RlcnMpIHtcbiAgICAgICAgICAgIHRoaXMuc2hhZG93LmN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIHRoaXMuc2hhZG93LmN0eC5hcmMobW9uc3Rlci54LCBtb25zdGVyLnksIDIwMCwgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLypcbiAgICAgICAgICB3ZSBkb24ndCBldmVuIHVzZSBibG9vZHBsYW5lcyAoc3BsYXR0ZXIgdGVycmFpbikgYW55bW9yZSBiZWNhdXNlIGkganVzdFxuICAgICAgICAgIHJlbmRlciBhbGwgb2YgdGhlbSBhcyBwYXJ0aWNsZXNcbiAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gMSAtIHRoaXMuYmxvb2RwbGFuZXNbMF1bMV0gLyB0aGlzLmJsb29kcGxhbmVzWzBdWzJdO1xuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAwLjk7XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5ibG9vZHBsYW5lc1swXVswXS5jYW52YXMsIDAsIDApO1xuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxIC0gdGhpcy5ibG9vZHBsYW5lc1sxXVsxXSAvIHRoaXMuYmxvb2RwbGFuZXNbMV1bMl07XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5ibG9vZHBsYW5lc1sxXVswXS5jYW52YXMsIDAsIDApO1xuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxIC0gdGhpcy5ibG9vZHBsYW5lc1syXVsxXSAvIHRoaXMuYmxvb2RwbGFuZXNbMl1bMl07XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5ibG9vZHBsYW5lc1syXVswXS5jYW52YXMsIDAsIDApO1xuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxO1xuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICBsZXQgc2hha2VYID0gMCwgc2hha2VZID0gMDtcbiAgICAgICAgdGhpcy5zY3JlZW5zaGFrZXMuZm9yRWFjaChzaGFrZSA9PiB7XG4gICAgICAgICAgICBzaGFrZVggKz0gc2hha2UueDtcbiAgICAgICAgICAgIHNoYWtlWSArPSBzaGFrZS55O1xuICAgICAgICB9KTtcbiAgICAgICAgY3R4LnRyYW5zbGF0ZShzaGFrZVgsIHNoYWtlWSk7XG5cbiAgICAgICAgLy8gbG93LWhhbmdpbmcgZnJ1aXQgaGVyZSAocHJlLXJlbmRlciB0aGUgbWFwIHNpbmNlIGl0IG5ldmVyIGNoYW5nZXMpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAxMDsgaisrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGsgPSAoKGkgKiBpICogMTMpICsgaiAqIDE3KSAlIDk7XG4gICAgICAgICAgICAgICAgU3ByaXRlLmRyYXdTcHJpdGUoY3R4LCBTcHJpdGUudGlsZXNba10sIGkgKiAzMiAtIDE2LCBqICogMzIgLSA4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IHBhcnRpY2xlIG9mIHRoaXMucGFydGljbGVzKSBpZiAoIXBhcnRpY2xlLmZvcmVncm91bmQgJiYgIWdhbWUuc3VwZXJGaXJlZCkgcGFydGljbGUuZHJhdyhjdHgpO1xuXG4gICAgICAgIHRoaXMucGxheWVyLmRyYXcoY3R4KTtcblxuICAgICAgICAvL1RleHQucmVuZGVyVGV4dChjdHgsIDI1MCwgMTIwLCAyMCwgJ1RIRSBFTEVQSEFOVFMnKTtcbiAgICAgICAgLy9UZXh0LnJlbmRlclRleHQoY3R4LCAxMDAsIDIwMCwgNjQsICdBQjAxMjM0NTY3ODknKTtcbiAgICAgICAgLy9UZXh0LnJlbmRlclRleHQoY3R4LCAxMDAsIDE1MCwgMzAsICdBQjAxMjM0NTY3ODknKTtcblxuICAgICAgICBmb3IgKGxldCBtb25zdGVyIG9mIHRoaXMubW9uc3RlcnMpIG1vbnN0ZXIuZHJhdyhjdHgpO1xuXG4gIC8vICAgICAgdmFyIGJ1YmJsZSA9IGN0eC5jcmVhdGVMaW5lYXJHcmFkaWVudChcbiAgICAgICAgLy8gTGV0J3MgYWRkIGJsdWUgbm9pc2U/XG4gICAgICAgIC8qZm9yIChsZXQgaSA9IDEwMDsgaSA8IDMwMDsgaSArPSA1KSB7XG4gICAgICAgICAgICBmb3IobGV0IGogPSAxMDA7IGogPCAxMjA7IGogKz0gNSkge1xuICAgICAgICAgICAgICAgIGxldCBbeCwgeV0gPSBbTWF0aC5yYW5kb20oKSAqIDUsIE1hdGgucmFuZG9tKCkgKiA1XTtcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwwLDAsMC41KSc7XG4gICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KGkrTWF0aC5mbG9vcih4KSxqK01hdGguZmxvb3IoeSksMSwxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBwYXJ0aWNsZSBvZiB0aGlzLnBhcnRpY2xlcykgaWYgKHBhcnRpY2xlLmZvcmVncm91bmQpIHBhcnRpY2xlLmRyYXcoY3R4KTtcblxuICAgICAgICBjdHguZHJhd0ltYWdlKHRoaXMuc2hhZG93LmNhbnZhcywgMCwgMCk7XG4gICAgICAgIGxldCBub2lzZUxvb3AgPSBNYXRoLmZsb29yKHRoaXMuZnJhbWUgLyA4KSAlIDM7XG4gICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDAuMDY7XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5hcnRpZmFjdHNbbm9pc2VMb29wXS5jYW52YXMsIDAsIDApO1xuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxO1xuXG4gICAgICAgIHRoaXMuaHVkLmRyYXcoY3R4KTtcbiAgICAgICAgdGhpcy5oaXZlLmRyYXcoY3R4KTtcblxuICAgICAgICBjdHgucmVzdG9yZSgpO1xuXG4gICAgICAgIC8qXG4gICAgICAgIGlmICh0aGlzLmZyYW1lICUgSEVBUlRCRUFUID09PSAwIHx8ICh0aGlzLmZyYW1lIC0gMSkgJSBIRUFSVEJFQVQgPT09IDAgfHwgKHRoaXMuZnJhbWUgLSAyKSAlIEhFQVJUQkVBVCA9PT0gMCkge1xuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwgMjU1LCAzMCwgMC4zKSc7XG4gICAgICAgICAgICBjdHguZmlsbFJlY3QoMTAwLCAwLCAxMDAsIDEwKTtcbiAgICAgICAgKi9cblxuICAgICAgICBNZW51LmRyYXcodmlld3BvcnQpO1xuICAgIH1cblxuICAgIGRyYXdNYXplKGN0eCwgbWF6ZSkge1xuICAgICAgICBsZXQgb2Zmc2V0ID0ge1xuICAgICAgICAgICAgeDogdmlld3BvcnQuY2VudGVyLnUgLSB0aGlzLmNhbWVyYS5wb3MueCxcbiAgICAgICAgICAgIHk6IHZpZXdwb3J0LmNlbnRlci52IC0gdGhpcy5jYW1lcmEucG9zLnlcbiAgICAgICAgfTtcbiAgICAgICAgY29uc29sZS5sb2coU3ByaXRlLndhbGxzKTtcbiAgICAgICAgZm9yIChsZXQgciA9IDA7IHIgPCBtYXplLnRpbGVzLmxlbmd0aDsgcisrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBxID0gMDsgcSA8IG1hemUudGlsZXNbcl0ubGVuZ3RoOyBxKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgeCA9IHEgKiAzMiArIG9mZnNldC54LCB5ID0gciAqIDMyICsgb2Zmc2V0Lnk7XG4gICAgICAgICAgICAgICAgaWYgKHggPCAtNTAgfHwgeSA8IC01MCB8fCB4ID4gNTAwIHx8IHkgPiA1MDApIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgbGV0IHNwcml0ZSA9IFNwcml0ZS50aWxlc1ttYXplLnRpbGVzW3JdW3FdICYgMGIxMTExXTtcbiAgICAgICAgICAgICAgICBpZiAoIXNwcml0ZSkgdGhyb3cgbmV3IEVycm9yKGAke3F9LCR7cn0gdGlsZSAke21hemUudGlsZXNbcl1bcV19YCk7XG4gICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShzcHJpdGUuaW1nLCB4LCB5KTtcblxuICAgICAgICAgICAgICAgIHNwcml0ZSA9IFNwcml0ZS53YWxsc1ttYXplLnRpbGVzW3JdW3FdID4+IDRdO1xuICAgICAgICAgICAgICAgIGlmIChzcHJpdGUpIGN0eC5kcmF3SW1hZ2Uoc3ByaXRlLmltZywgeCwgeSk7XG5cbiAgICAgICAgICAgICAgICAvL2lmICh0aGlzLm1hemUuZmxvd2hvbWVbcl1bcV0gPCAxMDApXG4gICAgICAgICAgICAgICAgLy9UZXh0LmRyYXdUZXh0KGN0eCwgU3RyaW5nKHRoaXMubWF6ZS5mbG93aG9tZVtyXVtxXSksIHgsIHkpO1xuICAgICAgICAgICAgICAgIFRleHQuZHJhd1RleHQoY3R4LCBTdHJpbmcobWF6ZS50aWxlc1tyXVtxXSA+PiA0KSwgeCwgeSk7XG5cbiAgICAgICAgICAgICAgICAvL2N0eC5maWxsUmVjdChxICogNCAtIHRoaXMuY2FtZXJhLnBvcy54ICsgdGhpcy5jZW50ZXIucGl4ZWwudSwgciAqIDQgLSB0aGlzLmNhbWVyYS5wb3MueSArIHRoaXMuY2VudGVyLnBpeGVsLnYsIDQsIDQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcG9pbnRlclhZKCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5wdXQucG9pbnRlcikgcmV0dXJuO1xuICAgICAgICByZXR1cm4gdGhpcy51djJ4eSh0aGlzLmlucHV0LnBvaW50ZXIpO1xuICAgIH1cblxuICAgIHh5MnV2KHBvcykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdTogcG9zLnggLSB0aGlzLmNhbWVyYS5wb3MueCArIHZpZXdwb3J0LmNlbnRlci51LFxuICAgICAgICAgICAgdjogcG9zLnkgLSB0aGlzLmNhbWVyYS5wb3MueSArIHZpZXdwb3J0LmNlbnRlci52XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdXYyeHkocG9zKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiBwb3MudSAtIHZpZXdwb3J0LmNlbnRlci51ICsgdGhpcy5jYW1lcmEucG9zLngsXG4gICAgICAgICAgICB5OiBwb3MudiAtIHZpZXdwb3J0LmNlbnRlci52ICsgdGhpcy5jYW1lcmEucG9zLnlcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB0cmFjZSh2aWV3cG9ydCkge1xuICAgICAgICBpZiAoIXRoaXMuaW5wdXQucG9pbnRlcikgcmV0dXJuO1xuICAgICAgICBsZXQgcCA9IHRoaXMucGxheWVyO1xuICAgICAgICBmb3IgKGxldCBlIG9mIHRoaXMuZW50aXRpZXMpIHtcbiAgICAgICAgICAgIGlmIChwID09PSBlKSBjb250aW51ZTtcbiAgICAgICAgICAgIHZpZXdwb3J0LmN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIHZpZXdwb3J0LmN0eC5zdHJva2VTdHlsZSA9ICdyZWQnO1xuICAgICAgICAgICAgdmlld3BvcnQuY3R4Lm1vdmVUbyh2aWV3cG9ydC5jZW50ZXIudSAtIHRoaXMuY2FtZXJhLnBvcy54ICsgcC5wb3MueCxcbiAgICAgICAgICAgICAgICB2aWV3cG9ydC5jZW50ZXIudiAtIHRoaXMuY2FtZXJhLnBvcy55ICsgcC5wb3MueSk7XG4gICAgICAgICAgICB2aWV3cG9ydC5jdHgubGluZVRvKHRoaXMuaW5wdXQucG9pbnRlci51LCB0aGlzLmlucHV0LnBvaW50ZXIudik7XG4gICAgICAgICAgICB2aWV3cG9ydC5jdHguc3Ryb2tlKCk7XG5cbiAgICAgICAgICAgIHRoaXMucmF5dHJhY2UocC5wb3MsIHRoaXMucG9pbnRlclhZKCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gaHR0cHM6Ly93d3cuZ2VuZXJpY2dhbWVkZXYuY29tL2dlbmVyYWwvc2hvb3RpbmctcmF5cy10aHJvdWdoLXRpbGVtYXBzL1xuICAgIHJheXRyYWNlKHAxLCBwMikge1xuICAgICAgICBsZXQgcmVkZ3JlZW4gPSAnZ3JlZW4nO1xuXG4gICAgICAgIGZvciAobGV0IHsgcSwgciB9IG9mIEcudGlsZXNIaXRCZXR3ZWVuKHAxLCBwMikpIHtcbiAgICAgICAgICAgIGxldCBvZmZzZXQgPSB7XG4gICAgICAgICAgICAgICAgeDogdmlld3BvcnQuY2VudGVyLnUgLSB0aGlzLmNhbWVyYS5wb3MueCxcbiAgICAgICAgICAgICAgICB5OiB2aWV3cG9ydC5jZW50ZXIudiAtIHRoaXMuY2FtZXJhLnBvcy55XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKCFnYW1lLm1hemUubWF6ZVtyXVtxXSkgcmVkZ3JlZW4gPSAncmVkJztcbiAgICAgICAgICAgIGxldCBoaWdobGlnaHQgPSByZWRncmVlbiA9PT0gJ3JlZCcgPyAncmdiYSgyNTUsIDEyOCwgMTI4LCAwLjUpJyA6ICdyZ2JhKDEyOCwgMjU1LCAxMjgsIDAuNSknO1xuICAgICAgICAgICAgdmlld3BvcnQuY3R4LmZpbGxTdHlsZSA9IGhpZ2hsaWdodDtcbiAgICAgICAgICAgIHZpZXdwb3J0LmN0eC5zdHJva2VTdHlsZSA9IGhpZ2hsaWdodDtcbiAgICAgICAgICAgIHZpZXdwb3J0LmN0eC5maWxsUmVjdChxICogMzIgKyBvZmZzZXQueCwgciAqIDMyICsgb2Zmc2V0LnksIDMyLCAzMik7XG4gICAgICAgICAgICB2aWV3cG9ydC5jdHguc3Ryb2tlUmVjdChxICogMzIgKyBvZmZzZXQueCwgciAqIDMyICsgb2Zmc2V0LnksIDMyLCAzMik7XG4gICAgICAgICAgICBpZiAocmVkZ3JlZW4gPT09ICdyZWQnKSBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IGdhbWUgPSBuZXcgR2FtZSgpO1xuIiwiaW1wb3J0IHsgZ2FtZSB9IGZyb20gJy4vR2FtZSc7XG5cbi8qKlxuICogQ3JlYXRlIGFuZCBsYXVuY2ggZ2FtZS5cbiAqL1xuZ2FtZS5pbml0KCkudGhlbigoKSA9PiBnYW1lLnN0YXJ0KCkpO1xuIl0sIm5hbWVzIjpbIkMiLCJHIl0sIm1hcHBpbmdzIjoiOzs7SUFFTyxNQUFNLFNBQVMsR0FBRztJQUN6QixJQUFJLEVBQUUsRUFBRSxDQUFDO0lBQ1QsSUFBSSxHQUFHLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRyxHQUFHO0lBQ3RCLElBQUksSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFO0lBQ2pCLElBQUksSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLEdBQUcsR0FBRztJQUN2QixJQUFJLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUM7QUFDckI7SUFDQTtJQUNBLElBQUksVUFBVSxFQUFFLEVBQUU7SUFDbEIsSUFBSSxXQUFXLEVBQUUsRUFBRTtBQUNuQjtJQUNBO0lBQ0EsSUFBSSxXQUFXLGFBQWEsQ0FBQztJQUM3QixJQUFJLFdBQVcsYUFBYSxDQUFDO0lBQzdCLElBQUksVUFBVSxjQUFjLENBQUM7SUFDN0IsSUFBSSxVQUFVLGNBQWMsQ0FBQztBQUM3QjtJQUNBLElBQUksbUJBQW1CLEVBQUUsQ0FBQztJQUMxQixDQUFDOztJQ2xCRDtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ08sTUFBTSxNQUFNLENBQUM7SUFDcEIsRUFBRSxXQUFXLENBQUMsS0FBSyxFQUFFLE1BQU0sRUFBRTtJQUM3QixJQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNuRCxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUM5QixJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztJQUNoQyxJQUFJLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDNUMsR0FBRztJQUNIOztJQ2RBO0lBQ0E7SUFDQTtBQUdBO0lBQ08sTUFBTSxXQUFXO0lBQ3hCO0lBQ0EsRUFBRSxRQUFRLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQ3hDLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUN6QyxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDMUMsRUFBRSxRQUFRLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzFDLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUMxQyxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDMUMsRUFBRSxRQUFRLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzFDLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUMxQyxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDM0MsRUFBRSxRQUFRLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzNDLEVBQUUsU0FBUyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUM1QyxFQUFFLE1BQU0sRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDdkMsRUFBRSxVQUFVLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzNDLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUN4QyxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDekMsRUFBRSxXQUFXLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzdDLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUMxQyxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDM0MsRUFBRSxRQUFRLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzVDLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUM1QyxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDNUMsRUFBRSxRQUFRLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzVDLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUM1QyxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDNUMsRUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzNDLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUMxQyxFQUFFLFNBQVMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDM0MsRUFBRSxZQUFZLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFO0lBQy9DLEVBQUUsWUFBWSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRTtJQUNoRCxFQUFFLFlBQVksRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUU7SUFDaEQsRUFBRSxZQUFZLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFO0lBQ2pELEVBQUUsWUFBWSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRTtJQUNqRCxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDekMsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzFDLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUMxQyxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDMUMsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzNDLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUMzQyxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDM0MsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzNDLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUMzQyxFQUFFLFNBQVMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDM0MsRUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzVDLEVBQUUsU0FBUyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUM1QyxFQUFFLFNBQVMsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDNUMsRUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzdDLEVBQUUsU0FBUyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUM3QyxFQUFFLFNBQVMsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDN0MsRUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUU7SUFDL0M7SUFDQTs7SUNwREEsTUFBTSxlQUFlLEdBQUcscUJBQXFCLENBQUM7QUFDOUM7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ08sTUFBTSxNQUFNLENBQUM7SUFDcEI7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLEVBQUUsT0FBTyxVQUFVLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQ3ZDLElBQUksR0FBRyxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN4RSxHQUFHO0FBQ0g7SUFDQSxFQUFFLE9BQU8sa0JBQWtCLENBQUMsUUFBUSxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsU0FBUyxFQUFFO0lBQ3BFLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxTQUFTO0lBQzFCLE1BQU0sTUFBTSxDQUFDLEdBQUc7SUFDaEIsTUFBTSxTQUFTLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3JFLE1BQU0sU0FBUyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxTQUFTLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNyRSxLQUFLLENBQUM7SUFDTixHQUFHO0FBQ0g7SUFDQTtJQUNBO0lBQ0E7SUFDQSxFQUFFLE9BQU8sZUFBZSxDQUFDLEdBQUcsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUM1QyxJQUFJLEdBQUcsQ0FBQyxXQUFXLEdBQUcsc0JBQXNCLENBQUM7SUFDN0MsSUFBSSxHQUFHLENBQUMsVUFBVTtJQUNsQixNQUFNLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUMsTUFBTSxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzVDLE1BQU0sTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3pDLE1BQU0sTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3pDLEtBQUssQ0FBQztJQUNOLEdBQUc7QUFDSDtJQUNBO0lBQ0E7SUFDQTtJQUNBLEVBQUUsT0FBTyxVQUFVLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQ3ZDLElBQUksSUFBSSxNQUFNLENBQUMsSUFBSSxFQUFFO0lBQ3JCLE1BQU0sR0FBRyxDQUFDLFdBQVcsR0FBRyxzQkFBc0IsQ0FBQztJQUMvQyxNQUFNLEdBQUcsQ0FBQyxVQUFVO0lBQ3BCLFFBQVEsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM5QyxRQUFRLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDOUMsUUFBUSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDM0MsUUFBUSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDM0MsT0FBTyxDQUFDO0lBQ1IsS0FBSztJQUNMLEdBQUc7QUFDSDtJQUNBLEVBQUUsT0FBTyxpQkFBaUIsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUN6QyxJQUFJLElBQUksRUFBRSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2pELElBQUksSUFBSSxFQUFFLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDakQsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDcEMsSUFBSSxPQUFPO0lBQ1gsTUFBTSxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztJQUN4RSxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQ3hFLE1BQU0sQ0FBQztJQUNQLEtB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QWEsQ0FBQztJQUMvQixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDO0lBQy9CLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUM7SUFDL0IsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQztJQUMvQixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDO0lBQy9CLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUM7SUFDL0IsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQztJQUMvQixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLEdBQUcsSUFBSSxDQUFDO0FBQ3ZDO0lBQ0EsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQztJQUMvQixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDO0lBQy9CLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUM7SUFDL0IsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQztJQUMvQixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDO0lBQy9CLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUM7SUFDL0IsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQztJQUMvQixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRUEsU0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDNUY7SUFDQSxJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDO0lBQy9CLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUM7SUFDL0IsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQztJQUMvQixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMs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Q0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFO0lBQ3JGLE1BQU0sSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7SUFDbEUsTUFBTSxJQUFJLEVBQUUsSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJO0lBQzdCLEtBQUssQ0FBQztJQUNOLEdBQUc7QUFDSDtJQUNBO0lBQ0E7SUFDQTtJQUNBLEVBQUUsYUFBYSxTQUFTLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUMxQyxJQUFJLE1BQU0sTUFBTSxHQUFHLE1BQU0sSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM3QyxJQUFJLE1BQU0sV0FBVyxHQUFHLElBQUksTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN6QyxJQUFJLFdBQVcsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDOUQsSUFBSSxPQUFPLFdBQVcsQ0FBQyxNQUFNLENBQUM7SUFDOUIsR0FBRztBQUNIO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsRUFBRSxhQUFhLFNBQVMsQ0FBQyxHQUFHLEVBQUU7SUFDOUIsSUFBSSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEVBQUUsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2xEO0lBQ0EsSUFBSSxPQUFPLE1BQU0sSUFBSSxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsTUFBTSxLQUFLO0lBQ2xELE1BQU0sSUFBSSxLQUFLLEdBQUcsSUFBSSxLQUFLLEVBQUUsQ0FBQztJQUM5QixNQUFNLEtBQUssQ0FBQyxNQUFNLEdBQUcsTUFBTSxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDMUMsTUFBTSxLQUFLLENBQUMsT0FBTyxHQUFHLENBQUMsR0FBRyxLQUFLLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMzQyxNQUFNLEtBQUssQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO0lBQ3RCLE1BQU0sSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUM7SUFDL0IsS0FBSyxDQUFDLENBQUM7SUFDUCxHQUFHO0lBQ0g7O0lDblRBO0lBQ0EsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDO0lBQ2QsTUFBTSxHQUFHLEdBQUcsa0JBQWtCLENBQUM7SUFDL0IsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDO0FBQ2Q7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ08sTUFBTSxlQUFlLENBQUM7SUFDN0IsRUFBRSxXQUFXLENBQUMsT0FBTyxFQUFFO0lBQ3ZCLElBQUksSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7QUFDM0I7SUFDQTtJQUNBLElBQUksSUFBSSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUM7SUFDbEIsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQ3ZDLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQztJQUN4QyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDdEMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDO0lBQ3RDLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQztJQUNuQyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDckMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ3JDLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztJQUN0QyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7SUFDbkMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ3JDLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNyQyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDdEMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ3JDLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNyQyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7SUFDdkMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO0FBQ3ZDO0lBQ0E7SUFDQSxJQUFJLElBQUksQ0FBQyxlQUFlLEdBQUc7SUFDM0IsTUFBTSxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQ2hDLE1BQU0sRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQ2hDLE1BQU0sRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUNoQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDaEMsTUFBTSxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDaEMsTUFBTSxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUNoQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUNoQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUNoQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDaEMsTUFBTSxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDaEMsTUFBTSxFQUFFLENBQUMsR0FB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TSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxRQUFRLENBQUM7SUFDbkMsTUFBTSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUM7QUFDckM7SUFDQSxNQUFNLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsR0FBRyxVQUFVLEVBQUUsU0FBUyxHQUFHLFdBQVcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQ3BHLE1BQU0sSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM3RCxNQUFNLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDL0QsTUFBTSxJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDdEYsTUFBTSxJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztJQUMvQixNQUFNLElBQUksQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFDO0FBQ2pDO0lBQ0E7SUFDQTtJQUNBLFlBQVksSUFBSSxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsR0FBRyxLQUFLLENBQUM7QUFDbkQ7SUFDQSxZQUFZLFFBQVEsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7SUFDbEQsU0FBUztJQUNULEtBQUs7SUFDTCxDQUFDO0FBQ0Q7SUFDQTtJQUNPLE1BQU0sUUFBUSxH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USxJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztBQUM5QztJQUNBO0lBQ0EsUUFBUSxJQUFJLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQztBQUMxQjtJQUNBO0lBQ0EsUUFBUSxJQUFJLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQztBQUMzQjtJQUNBO0lBQ0E7SUFDQSxRQUFRLElBQUksQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDO0FBQ3ZCO0lBQ0E7SUFDQTtJQUNBLFFBQVEsSUFBSSxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7QUFDN0I7SUFDQSxRQUFRLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbEQsUUFBUSxNQUFNLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDbkM7SUFDQSxRQUFRLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxZQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDNUMsUUFBUSxNQUFNLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7QUFDaEM7SUFDQTtJQUNBO0lBQ0EsS0FBSztBQUNMO0lBQ0EsSUFBSSxNQUFNLEdBQUc7SUFDYjtJQUNBO0lBQ0E7SUFDQTtBQUNBO0lBQ0EsUUFBUSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQy9CLFFBQVEsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUM1QjtBQUNBO0lBQ0EsUUFBUSxLQUFLLElBQUksTUFBTSxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFO0lBQ3hELFlBQVksSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsTUFBTSxD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QUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzlDLFFBQVEsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDOUMsTUFBTSxPQUFPO0FBQ2I7SUFDQSxJQUFJLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN6QixJQUFJLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN6QixJQUFJLElBQUksS0FBSyxJQUFJLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUN4QyxJQUFJLElBQUksS0FBSyxJQUFJLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUN4QyxJQUFJLElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQztJQUMzQixJQUFJLElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQztBQUMzQjtJQUNBO0lBQ0E7SUFDQSxJQUFJLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO0lBQzFELE1BQU0sSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLElBQUksS0FBSyxDQUFDO0lBQ3JELE1BQU0sSUFBSSxLQUFLLElBQUksQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLEVBQUU7SUFDcEMsUUFBUSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsS0FBSyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDbkMsUUFBUSxJQUFJLEVBQUUsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO0lBQ3BELFVBQVUsT0FBTyxFQUFFLENBQUMsRUFBRSxFQUFFLEdBQUcsS0FBSyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztJQUNuRyxTQUFTO0lBQ1QsT0FBTztJQUNQLE1BQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUIsS0FBSztJQUNMO0lBQ0EsSUFBSSxJQUFJLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRTtJQUMxRCxNQUFNLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ3RELE1BQU0sSUFBSSxLQUFLLElBQUksQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLEVBQUU7SUFDcEMsUUFBUSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsS0FBSyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDbkMsUUFBUSxJQUFJLEVBQUUsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO0lBQ3BELFVBQVUsT0FBTyxFQUFFLENBQUMsRUFBRSxFQUFFLEdBQUcsS0FBSyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUM7SUFDbEcsU0FBUztJQUNULE9BQU87SUFDUCxNQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzVCLEtBQUs7SUFDTDtJQUNBLElBQUksSUFBSSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7SUFDMUQsTUFBTSxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUM7SUFDckQsTUFBTSxJQUFJLEtBQUssSUFBSSxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsRUFBRTtJQUNwQyxRQUFRLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxLQUFLLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNuQyxRQUFRLElBQUksRUFBRSxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7SUFDcEQsVUFBVSxPQUFPLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxHQUFHLEtBQUssR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQ25HLFNBQVM7SUFDVCxPQUFPO0lBQ1AsTUFBTSxPQUFPLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM1QixLQUFLO0lBQ0w7SUFDQSxJQUFJLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO0lBQzFELE1BQU0sSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDdEQsTUFBTSxJQUFJLEtBQUssSUFBSSxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsRUFBRTtJQUNwQyxRQUFRLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxLQUFLLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNuQyxRQUFRLElBQUksRUFBRSxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7SUFDcEQsVUFBVSxPQUFPLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxHQUFHLEtBQUssR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNsRyxTQUFTO0lBQ1QsT0FBTztJQUNQLE1BQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUIsS0FBSztBQUNMO0lBQ0E7SUFDQSxJQUFJLElBQUksT0FBTyxLQUFLLFFBQVEsSUFBSSxPQUFPLEtBQUssUUFBUSxFQUFFLE9BQU87QUFDN0Q7SUFDQTtJQUNBLElBQUksSUFBSSxPQUFPLEtBQUssUUFBUSxJQUFJLE9BQU8sS0FBSyxRQUFRLEVBQUU7SUFDdEQsTUFBTSxPQUFPLEdBQUcsRUFBRSxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbkQsS0FBSztJQUNMLElBQUksSUFBSSxPQUFPLEtBQUssUUFBUSxJQUFJLE9BQU8sS0FBSyxRQUFRLEVBQUU7SUFDdEQsTUFBTSxPQUFPLEdBQUcsRUFBRSxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbkQsS0FBSztBQUNMO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsSUFBSSxJQUFJLGFBQWEsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzlCLElBQUksSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUNsRCxJQUFJLElBQUksUUFBUSxHQUFHLE9BQU8sR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2xDLElBQUksSUFBSSxRQUFRLEdBQUcsT0FBTyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDbEMsSUFBSSxJQUFJLGNBQWMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLEdBQUcsUUFBUSxHQUFHLFFBQVEsQ0FBQyxDQUFDO0lBQzlFLElBQUksSUFBSSxVQUFVLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLFFBQVEsR0FBRyxFQUFFLEdBQUcsUUFBUSxHQUFHLEVBQUUsS0FBSyxVQUFVLEdBQUcsY0FBYyxDQUFDLENBQUMsQ0FBQztBQUNoRztJQUNBO0lBQ0EsSUFBSSxJQUFJLGNBQWMsR0FBRyxDQUFDLEVBQUUsT0FBTztBQUNuQztJQUNBO0lBQ0EsSUFBSSxJQUFJLFVBQVUsS0FBSyxDQUFDLEVBQUU7SUFDMUIsTUFBTSxJQUFJLElBQUksR0FBRyxDQUFDLGNBQWMsR0FBRyxDQUFDLElBQUksVUFBVSxDQUFDO0FBQ25EO0lBQ0E7SUFDQSxRQUFRLElBQUksSUFBSSxHQUFHLENBQUMsSUFBSSxJQUFJLEdBQUcsQ0FBQyxFQUFFLE9BQU87QUFDekM7SUFDQSxRQUFRLElBQUksRUFBRSxHQUFHLElBQUksR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNsQyxRQUFRLElBQUksRUFBRSxHQUFHLElBQUksR0FBRyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNsQyxRQUFRLElBQUksRUFBRSxHQUFHLFFBQVEsR0FBRyxjQUFjLENBQUM7SUFDM0MsUUFBUSxJQUFJLEVBQUUsR0FBRyxRQUFRLEdBQUcsY0FBYyxDQUFDO0FBQzNDO0lBQ0EsUUFBUSxPQUFPLEtBQUssQ0FBQyxFQUFFLENBQUMsR0FBRyxTQUFTLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRSxDQUFDO0lBQ25HLEtBQUs7QUFDTDtJQUNBLElBQUksSUFBSSxhQUFhLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUM3QyxJQUFJLElBQUksU0FBUyxHQUFHLGFBQWEsR0FBRyxjQUFjLEdBQUcsYUFBYSxDQUFDO0FBQ25FO0lBQ0E7SUFDQSxJQUFJLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLEVBQUUsT0FBTztBQUN4QztJQUNBLElBQUksSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ2hELElBQUksSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxVQUFVLEdBQUcsTUFBTSxDQUFDO0lBQy9DLElBQUksSUFBSSxvQkFBb0IsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxhQUFhLENBQUM7SUFDcEUsSUFBSSxJQUFJLElBQUksR0FBRyxvQkFBb0IsR0FBRyxVQUFVLENBQUM7QUFDakQ7SUFDQTtJQUNBLElBQUksSUFBSSxJQUFJLEdBQUcsQ0FBQyxJQUFJLElBQUksR0FBRyxDQUFDLEVBQUUsT0FBTztBQUNyQztJQUNBLElBQUksSUFBSSxFQUFFLEdBQUcsSUFBSSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzlCLElBQUksSUFBSSxFQUFFLEdBQUcsSUFBSSxHQUFHLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQzlCLElBQUksSUFBSSxFQUFFLEdBQUcsQ0FBQyxFQUFFLEdBQUcsT0FBTyxJQUFJLGFBQWEsQ0FBQztJQUM1QyxJQUFJLElBQUksRUFBRSxHQUFHLENBQUMsRUFBRSxHQUFHLE9BQU8sSUFBSSxhQUFhLENBQUM7QUFDNUM7SUFDQSxJQUFJLE9BQU8sS0FBSyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFNBQVMsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUUsT0FBTyxFQUFFLENBQUM7SUFDL0YsR0FBRztBQUNIO0lBQ0EsRUFBRSxLQUFLLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFBRTtJQUNuQixJQUFJLElBQUksTUFBTSxHQUFHLFFBQVEsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ3BFLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM5QixJQUFJLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUN0QyxJQUFJLE9BQU8sS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUU7SUFDN0IsTUFBTSxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsR0FBRyxLQUFLLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDekMsTUFBTSxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLEVBQUUsU0FBUztJQUN6QyxNQUFNLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQztJQUM1QixNQUFNLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7SUFDdkYsTUFBTSxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBQ3ZGLE1BQU0sSUFBSSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUN2RixNQUFNLElBQUksSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7SUFDdkYsS0FBSztJQUNMLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUN4QyxJQUFJLE9BQU8sTUFBTSxDQUFDO0lBQ2xCLEdBQUc7QUFDSDtJQUNBLEVBQUUsT0FBTyxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFO0lBQ2hDLElBQUksSUFB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QUFFLEVBQUU7SUFDdEMsWUFBWSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdkMsWUFBWSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdkMsWUFBWSxNQUFNLEdBQUcsYUFBYSxDQUFDLG9CQUFvQixDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQzFILFlBQVksSUFBSSxNQUFNLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUMzQyxZQUFZLElBQUksTUFBTSxJQUFJLE1BQU0sQ0FBQyxVQUFVLEtBQUssVUFBVSxFQUFFLFVBQVUsRUFBRSxDQUFDO0lBQ3pFLFNBQVM7SUFDVCxRQUFRLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDdEMsWUFBWSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdkMsWUFBWSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdkMsWUFBWSxNQUFNLEdBQUcsYUFBYSxDQUFDLG9CQUFvQixDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQzFILFlBQVksSUFBSSxNQUFNLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUMzQyxZQUFZLElBQUksTUFBTSxJQUFJLE1BQU0sQ0FBQyxVQUFVLEtBQUssVUFBVSxFQUFFLFVBQVUsRUFBRSxDQUFDO0lBQ3pFLFNBQVM7SUFDVCxRQUFRLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDdEMsWUFBWSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdkMsWUFBWSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdkMsWUFBWSxNQUFNLEdBQUcsYUFBYSxDQUFDLG9CQUFvQixDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQzFILFlBQVksSUFBSSxNQUFNLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUMzQyxZQUFZLElBQUksTUFBTSxJQUFJLE1BQU0sQ0FBQyxVQUFVLEtBQUssVUFBVSxFQUFFLFVBQVUsRUFBRSxDQUFDO0lBQ3pFLFNBQVM7QUFDVDtJQUNBO0lBQ0E7QUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0FBQ0E7SUFDQSxRQUFRLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENB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QUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO0lBQ3BFLEtBQUs7QUFDTDtJQUNBLElBQUksTUFBTSxHQUFHO0lBQ2I7SUFDQSxRQUFRLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDNUI7SUFDQTtJQUNBLFFBQVEsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDdEM7SUFDQTtJQUNBLFFBQVEsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDdEM7SUFDQTtJQUNBLFFBQVEsSUFBSSxJQUFJLEdBQUc7SUFDbkIsWUFBWSxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDcEQsWUFBWSxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDcEQsU0FBUyxDQUFDO0lBQ1YsUUFBUSxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7SUFDMUMsUUFBUSxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUM7QUFDMUM7SUFDQTtJQUNBLFFBQVEsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxNQUFNLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDckUsS0FBSztBQUNMO0lBQ0EsSUFBSSxJQUFJLENBQUMsR0FBRyxFQUFFO0lBQ2QsUUFBUSxHQUFHLENBQUMsWUFBWSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDM0MsUUFBUSxHQUFHLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ2xEO0lBQ0EsUUFBUSxHQUFHLENBQUMsU0FBUyxHQUFHLGtCQUFrQixDQUFDO0lBQzNDLFFBQVEsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzVEO0lBQ0E7SUFDQTtBQUNBO0lBQ0EsUUFBUSxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDdEM7SUFDQSxRQUFRLEdBQUcsQ0FBQyxTQUFTLEdBQUcsT0FBTyxDQUFDO0lBQ2hDLFFBQVEsR0FBRyxDQUFDLElBQUksR0FBRyxXQUFXLENBQUM7SUFDL0IsUUFBUSxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ3pGO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBLFFBQVEsTUFBTSxDQUFDLFVBQVUsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLFVBQVUsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFDMUQ7SUFDQSxRQUFRLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDO0lBQ3JDLFFBQVEsSUFBSSxHQUFHLEVBQUU7SUFDakIsWUFBWSxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUM1RCxZQUFZLEdBQUcsQ0FBQyxTQUFTLEdBQUcsd0JBQXdCLENBQUM7SUFDckQsWUFBWSxHQUFHLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNyRCxTQUFTO0FBQ1Q7SUFDQSxRQUFRLEtBQUssSUFBSSxNQUFNLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtJQUMxQyxZQUFZLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDbEMsU0FBUztBQUNUO0lBQ0E7SUFDQTtBQUNBO0lBQ0E7QUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0FBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNBO0lBQ0E7QUFDQTtJQUNBO0FBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBO0FBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0FBQ0E7SUFDQTtBQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNBO0lBQ0E7SUFDQTtBQUNBO0lBQ0E7QUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBLFFBQVEsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUM1QixLQUFLO0FBQ0w7SUFDQSxJQUFJLFFBQVEsQ0FBQyxHQUFHLEVBQUUs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QUFDO0lBQzVELFlBQVksQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM1RCxTQUFTLENBQUM7SUFDVixLQUFLO0FBQ0w7SUFDQSxJQUFJLEtBQUssQ0FBQyxHQUFHLEVBQUU7SUFDZixRQUFRLE9BQU87SUFDZixZQUFZLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDNUQsWUFBWSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzVELFNBQVMsQ0FBQztJQUNWLEtBQUs7QUFDTDtJQUNBLElBQUksS0FBSyxDQUFDLFFBQVEsRUFBRTtJQUNwQixRQUFRLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxPQUFPO0lBQ3hDLFFBQVEsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUM1QixRQUFRLEtBQUssSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtJQUNyQyxZQUFZLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBRSxTQUFTO0lBQ2xDLFlBQVksUUFBUSxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsQ0FBQztJQUNyQyxZQUFZLFFBQVEsQ0FBQyxHQUFHLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztJQUM3QyxZQUFZLFFBQVEsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDL0UsZ0JBQWdCLFFB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</script><script>// Generated using https://zzfx.3d2k.com/
if (typeof AudioContext === 'undefined') { AudioContext = webkitAudioContext }
// ZzFX - Zuper Zmall Zound Zynth - Minified Version - MIT License - Copyright 2019 Frank Force
function ZZFXLib(){this.x=new AudioContext;this.r=Date.now();this.buffer=0;this.volume=.5;this.randomness=.1}ZZFXLib.prototype.z=function(b,d){var a=this.Generate(b),c;for(c in d)a[c]=d[c];return this.Z(a.volume,a.randomness,a.frequency,a.length,a.attack,a.slide,a.noise,a.modulation,a.modulationPhase)};
ZZFXLib.prototype.Z=function(b,d,a,c,e,g,h,k,l){c=void 0===c?1:c;e=void 0===e?.1:e;g=void 0===g?0:g;h=void 0===h?0:h;k=void 0===k?0:k;l=void 0===l?0:l;b*=this.volume;a*=2*Math.PI/44100;a*=1+d*(2*this.R()-1);g*=1E3*Math.PI/Math.pow(44100,2);c=0<c?44100*(10<c?10:c)|0:1;e*=c|0;k*=2*Math.PI/44100;l*=Math.PI;d=[];for(var m=0,n=0,f=0;f<c;++f)d[f]=b*Math.cos(m*a*Math.cos(n*k+l))*(f<e?f/e:1-(f-e)/(c-e)),m+=1+h*(2*this.R()-1),n+=1+h*(2*this.R()-1),a+=g;this.buffer=d;b=this.x.createBuffer(1,d.length,44100);
a=this.x.createBufferSource();b.getChannelData(0).set(d);a.buffer=b;a.connect(this.x.destination);a.start();return a};
ZZFXLib.prototype.Generate=function(b){var d=this.r;this.r=b;for(var a=9;a--;)this.R();a={};a.seed=b;a.volume=1;a.randomness=b?this.randomness:0;a.frequency=b?2E3*Math.pow(this.R(),2)|0:220;a.slide=b?parseFloat((10*Math.pow(this.R(),3)).toFixed(1)):0;a.length=b?parseFloat((.1+this.R()).toFixed(1)):1;a.attack=b?parseFloat(this.R().toFixed(2)):.1;a.noise=b?parseFloat((5*Math.pow(this.R(),3)).toFixed(1)):0;a.modulation=b?parseFloat((99*Math.pow(this.R(),5)).toFixed(1)):0;a.modulationPhase=b?parseFloat(this.R().toFixed(2)):
0;this.r=d;return a};ZZFXLib.prototype.Note=function(b,d){return b*Math.pow(2,d/12)};ZZFXLib.prototype.R=function(){this.r^=this.r<<13;this.r^=this.r>>7;this.r^=this.r<<17;return Math.abs(this.r)%1E9/1E9};var ZZFX=new ZZFXLib;</script>