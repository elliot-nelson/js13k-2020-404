<style>body,html{margin:0;padding:0;background-color:#000}div{position:absolute;top:0;bottom:0;left:0;right:0}#canvas{width:100%;height:100%}</style><div><canvas id="canvas"></canvas></div><script>(function () {
    'use strict';

    const Constants = {
        R0: 0,
        R90: Math.PI * 0.5,
        R180: Math.PI,
        R270: Math.PI * 1.5,
        R360: Math.PI * 2,

        // Size in pixels of tiles in the game maze
        TILE_WIDTH: 32,
        TILE_HEIGHT: 32,

        // Tile constants
        TILE_FLOOR1:            0,
        TILE_FLOOR2:            1,
        TILE_WALL1:             2,
        TILE_WALL2:             3,

        PLAYER_BOUND_RADIUS: 9
    };

    /**
     * This helper class encapsulates creating temporary off-screen canvases. Off-screen
     * canvases are great tools for building patterns, image masks, and other components
     * that we'll use to draw things on the primary canvas.
     */
    class Canvas {
      constructor(width, height) {
        this.canvas = document.createElement('canvas');
        this.canvas.width = width;
        this.canvas.height = height;
        this.ctx = this.canvas.getContext('2d');
      }
    }

    /**
     * This module is generate by `gulp generateSpriteSheetData`.
     */

    const SpriteSheet =
    /* <generated> */
    { bullet_1: { x: 0, y: 0, w: 32, h: 32 },
      demon1_1: { x: 0, y: 32, w: 16, h: 22 },
      demon1_2: { x: 16, y: 32, w: 16, h: 22 },
      demon1_3: { x: 32, y: 32, w: 16, h: 22 },
      demon1_4: { x: 48, y: 32, w: 16, h: 22 },
      demon1_5: { x: 64, y: 32, w: 16, h: 22 },
      demon1_6: { x: 80, y: 32, w: 16, h: 22 },
      demon1_7: { x: 96, y: 32, w: 16, h: 22 },
      demon1_8: { x: 112, y: 32, w: 16, h: 22 },
      demon1_9: { x: 128, y: 32, w: 16, h: 22 },
      demon1_10: { x: 144, y: 32, w: 16, h: 22 },
      font_1: { x: 0, y: 54, w: 236, h: 6 },
      hud_healthbar_1: { x: 0, y: 60, w: 109, h: 9 },
      hud_healthbar_2: { x: 109, y: 60, w: 109, h: 9 },
      hud_shells_1: { x: 0, y: 69, w: 6, h: 7 },
      hud_shells_2: { x: 6, y: 69, w: 6, h: 7 },
      monster2_1: { x: 0, y: 76, w: 32, h: 32 },
      monster2_2: { x: 32, y: 76, w: 32, h: 32 },
      paper_1: { x: 0, y: 108, w: 32, h: 32 },
      paper_2: { x: 32, y: 108, w: 32, h: 32 },
      particles_1: { x: 0, y: 140, w: 11, h: 11 },
      player_1: { x: 0, y: 151, w: 64, h: 64 },
      player_2: { x: 64, y: 151, w: 64, h: 64 },
      player_3: { x: 128, y: 151, w: 64, h: 64 },
      player_4: { x: 192, y: 151, w: 64, h: 64 },
      player_5: { x: 256, y: 151, w: 64, h: 64 },
      player_6: { x: 320, y: 151, w: 64, h: 64 },
      player_7: { x: 384, y: 151, w: 64, h: 64 },
      player_8: { x: 448, y: 151, w: 64, h: 64 },
      player2_1: { x: 0, y: 215, w: 32, h: 32 },
      portal_1: { x: 0, y: 247, w: 32, h: 32 },
      sparkle_1: { x: 0, y: 279, w: 11, h: 11 },
      tiles_1: { x: 0, y: 290, w: 32, h: 32 },
      tiles_2: { x: 32, y: 290, w: 32, h: 32 },
      tiles_3: { x: 64, y: 290, w: 32, h: 32 },
      tiles_4: { x: 96, y: 290, w: 32, h: 32 },
      tiles_5: { x: 128, y: 290, w: 32, h: 32 },
      tiles_6: { x: 160, y: 290, w: 32, h: 32 },
      tiles_7: { x: 192, y: 290, w: 32, h: 32 },
      tiles_8: { x: 224, y: 290, w: 32, h: 32 },
      tiles_9: { x: 256, y: 290, w: 32, h: 32 },
      tileset_1: { x: 0, y: 322, w: 32, h: 32 },
      tileset_2: { x: 32, y: 322, w: 32, h: 32 },
      tileset_3: { x: 64, y: 322, w: 32, h: 32 },
      tileset_4: { x: 96, y: 322, w: 32, h: 32 },
      tileset_5: { x: 128, y: 322, w: 32, h: 32 },
      tileset_6: { x: 160, y: 322, w: 32, h: 32 },
      tileset_7: { x: 192, y: 322, w: 32, h: 32 },
      tileset_8: { x: 224, y: 322, w: 32, h: 32 } }
    /* </generated> */
    ;

    const SPRITESHEET_URI = 'sprites.png'; // produced during gulp build

    /**
     * Sprites!
     *
     * For this game, a "sprite" is a little object that has an attached image, an anchor
     * point, a bounding box, and an optional hit box. This keeps pixel-level data about
     * the image all in one place (by passing a Sprite around, we know what image to draw,
     * what point in the image to rotate around, what areas of the image can get hit by
     * things, and what areas can hit other things).
     *
     * Whether the bounding box or hitbox do anything isn't up to the Sprite, it would be
     * up to the Frame that references it. (This is helpful because it's convenient for
     * a simple game like this to have only one hit frame, but the animation may call
     * for showing the sword swipe for 5-6 frames.)
     */
    class Sprite {
      /**
       * A small helper that draws a sprite onto a canvas, respecting the anchor point of
       * the sprite. Note that the canvas should be PRE-TRANSLATED and PRE-ROTATED, if
       * that's appropriate!
       */
      static drawSprite(ctx, sprite, u, v) {
        ctx.drawImage(sprite.img, u - sprite.anchor.x, v - sprite.anchor.y);
      }

      static drawViewportSprite(viewport, sprite, spritePos, cameraPos) {
        viewport.ctx.drawImage(
          sprite.img,
          spritePos.x - sprite.anchor.x - cameraPos.x + viewport.center.u,
          spritePos.y - sprite.anchor.y - cameraPos.y + viewport.center.v
        );
      }

      /**
       * Draw a sprite's bounding box, for debugging, using the same rules as drawSprite.
       */
      static drawBoundingBox(ctx, sprite, x, y) {
        ctx.strokeStyle = 'rgba(0, 255, 0, 0.5)';
        ctx.strokeRect(
          x - sprite.anchor.x + sprite.bbox[0].x,
          y - sprite.anchor.y + sprite.bbox[0].y,
          sprite.bbox[1].x - sprite.bbox[0].x,
          sprite.bbox[1].y - sprite.bbox[0].y
        );
      }

      /**
       * Draw a sprite's hit box, for debugging, using the same rules as drawSprite.
       */
      static drawHitBox(ctx, sprite, x, y) {
        if (sprite.hbox) {
          ctx.strokeStyle = 'rgba(255, 0, 0, 0.7)';
          ctx.strokeRect(
            x - sprite.anchor.x + sprite.hbox[0].x,
            y - sprite.anchor.y + sprite.hbox[0].y,
            sprite.hbox[1].x - sprite.hbox[0].x,
            sprite.hbox[1].y - sprite.hbox[0].y
          );
        }
      }

      static getBoundingCircle(sprite, x, y) {
        let dx = sprite.bbox[1].x - sprite.bbox[0].x;
        let dy = sprite.bbox[1].y - sprite.bbox[0].y;
        let r = (dx > dy ? dx : dy) / 2;
        return {
          x: x - sprite.anchor.x + (sprite.bbox[0].x + sprite.bbox[1].x) / 2,
          y: y - sprite.anchor.y + (sprite.bbox[0].y + sprite.bbox[1].y) / 2,
          r
        };
      }

      static getBoundingBoxPolygon(sprite, x, y) {
        return this.getSpriteBoxPolygon(sprite.anchor, sprite.bbox, x, y);
      }

      static getHitBoxPolygon(sprite, x, y) {
        return this.getSpriteBoxPolygon(sprite.anchor, sprite.hbox, x, y);
      }

      static getSpriteBoxPolygon(anchor, box, x, y) {
        return {
          x: x,
          y: y,
          p: [
            { x: box[0].x - anchor.x, y: box[0].y - anchor.y },
            { x: box[1].x - anchor.x, y: box[0].y - anchor.y },
            { x: box[1].x - anchor.x, y: box[1].y - anchor.y },
            { x: box[0].x - anchor.x, y: box[1].y - anchor.y }
          ]
        };
      }
    }

    /**
     * The Assets module loads raw PNGs we'll use to draw the game, does any postprocessing stuff
     * we might need to do, and then saves references to them for later.
     */
    class Assets {
      static async init() {
        this.images = {};

        // Base Pixel Font (see `Text.init` for additional manipulation)
        Sprite.font = await this.initSprite(SPRITESHEET_URI, SpriteSheet.font_1);

        // Player
        Sprite.player = await this.initSprite(SPRITESHEET_URI, SpriteSheet.player2_1);

        // Bullets
        Sprite.bullet = await this.initSprite(SPRITESHEET_URI, SpriteSheet.bullet_1);

        // Enemy
        Sprite.monster = await this.initSprite(SPRITESHEET_URI, SpriteSheet.monster2_1);
        Sprite.monster_dead = await this.initSprite(SPRITESHEET_URI, SpriteSheet.monster2_2);
        Sprite.demon_walk = await this.initSprite(SPRITESHEET_URI, SpriteSheet.demon1_1);

        // GUI
        Sprite.hud_shells_empty = await this.initSprite(SPRITESHEET_URI, SpriteSheet.hud_shells_1);
        Sprite.hud_shells_full = await this.initSprite(SPRITESHEET_URI, SpriteSheet.hud_shells_2);
        Sprite.hud_health_frame = await this.initSprite(SPRITESHEET_URI, SpriteSheet.hud_healthbar_1);
        Sprite.hud_health_fill = await this.initSprite(SPRITESHEET_URI, SpriteSheet.hud_healthbar_2);

        // Tiles
        Sprite.tiles = [];
        Sprite.tiles[Constants.TILE_FLOOR1] = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_3);
        Sprite.tiles[Constants.TILE_WALL1] = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_1);
        Sprite.tiles[Constants.TILE_WALL2] = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_2);

        // Walls
        let edge = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_5);
        let turn = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_6);
        let deadend = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_7);
        let corner = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_8);

        Sprite.walls = [];
        Sprite.walls[0b000_100_000] =
        Sprite.walls[0b100_100_000] =
        Sprite.walls[0b000_100_100] =
        Sprite.walls[0b100_100_100] = edge;

        Sprite.walls[0b000_001_000] =
        Sprite.walls[0b001_001_000] =
        Sprite.walls[0b000_001_001] =
        Sprite.walls[0b001_001_001] = this.initDynamicSprite(this.rotateImage(edge.img, Constants.R180));

        Sprite.walls[0b010_000_000] =
        Sprite.walls[0b110_000_000] =
        Sprite.walls[0b011_000_000] =
        Sprite.walls[0b111_000_000] = this.initDynamicSprite(this.rotateImage(edge.img, Constants.R90));

        Sprite.walls[0b000_001_000] = this.initDynamicSprite(this.rotateImage(edge.img, Constants.R180));
        Sprite.walls[0b000_000_010] = this.initDynamicSprite(this.rotateImage(edge.img, Constants.R270));

        Sprite.walls[0b010_100_000] =
        Sprite.walls[0b110_100_000] =
        Sprite.walls[0b011_100_000] =
        Sprite.walls[0b111_100_000] =
        Sprite.walls[0b011_100_100] =
        Sprite.walls[0b010_100_100] =
        Sprite.walls[0b011_100_100] =
        Sprite.walls[0b111_100_100] = turn;

        Sprite.walls[0b010_001_000] =
        Sprite.walls[0b011_001_000] =
        Sprite.walls[0b110_001_000] =
        Sprite.walls[0b111_001_000] =
        Sprite.walls[0b010_001_001] =
        Sprite.walls[0b011_001_001] =
        Sprite.walls[0b111_001_001] =
        Sprite.walls[0b110_001_001] = this.initDynamicSprite(this.rotateImage(turn.img, Constants.R90));

        Sprite.walls[0b000_001_010] =
        Sprite.walls[0b000_001_011] =
        Sprite.walls[0b000_001_110] =
        Sprite.walls[0b000_001_111] =
        Sprite.walls[0b001_001_010] =
        Sprite.walls[0b001_001_011] =
        Sprite.walls[0b001_001_110] =
        Sprite.walls[0b001_001_111] = this.initDynamicSprite(this.rotateImage(turn.img, Constants.R180));

        Sprite.walls[0b000_100_010] =
        Sprite.walls[0b000_100_011] =
        Sprite.walls[0b000_100_110] =
        Sprite.walls[0b000_100_111] =
        Sprite.walls[0b100_100_010] =
        Sprite.walls[0b100_100_011] =
        Sprite.walls[0b100_100_110] =
        Sprite.walls[0b100_100_111] = this.initDynamicSprite(this.rotateImage(turn.img, Constants.R270));

        Sprite.walls[0b100_000_000] = corner;
        Sprite.walls[0b001_000_000] = this.initDynamicSprite(this.rotateImage(corner.img, Constants.R90));
        Sprite.walls[0b000_000_001] = this.initDynamicSprite(this.rotateImage(corner.img, Constants.R180));
        Sprite.walls[0b000_000_100] = this.initDynamicSprite(this.rotateImage(corner.img, Constants.R270));

        Sprite.walls[0b101_000_000] = this.initDynamicSprite(this.overlay(Sprite.walls[0b100_000_000].img, Sprite.walls[0b001_000_000].img));
        Sprite.walls[0b000_000_101] = this.initDynamicSprite(this.overlay(Sprite.walls[0b000_000_100].img, Sprite.walls[0b000_000_001].img));
        Sprite.walls[0b100_000_100] = this.initDynamicSprite(this.overlay(Sprite.walls[0b100_000_000].img, Sprite.walls[0b000_000_100].img));
        Sprite.walls[0b001_000_001] = this.initDynamicSprite(this.overlay(Sprite.walls[0b001_000_000].img, Sprite.walls[0b000_000_001].img));

    /*
        let sprite = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_5);
        Sprite.tiles[C.TILE_FLOOR_EDGE_L] = sprite;
        Sprite.tiles[C.TILE_FLOOR_EDGE_T] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 0.5));
        Sprite.tiles[C.TILE_FLOOR_EDGE_R] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 1.0));
        Sprite.tiles[C.TILE_FLOOR_EDGE_B] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 1.5));

        sprite = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_7);
        Sprite.tiles[C.TILE_FLOOR_EDGE_LT] = sprite;
        Sprite.tiles[C.TILE_FLOOR_EDGE_TR] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 0.5));
        Sprite.tiles[C.TILE_FLOOR_EDGE_RB] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 1.0));
        Sprite.tiles[C.TILE_FLOOR_EDGE_BL] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 1.5));

        sprite = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_8);
        Sprite.tiles[C.TILE_FLOOR_EDGE_LTR] = sprite;
        Sprite.tiles[C.TILE_FLOOR_EDGE_TRB] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 0.5));
        Sprite.tiles[C.TILE_FLOOR_EDGE_RBL] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 1.0));
        Sprite.tiles[C.TILE_FLOOR_EDGE_BLT] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 1.5));

        sprite = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_6);
        Sprite.tiles[C.TILE_FLOOR_EDGE_LR] = sprite;
        Sprite.tiles[C.TILE_FLOOR_EDGE_TB] = this.initDynamicSprite(this.rotateImage(sprite.img, Math.PI * 0.5));
    // TILE_FLOOR1:            0,
    // TILE_FLOOR2:            1,
    // TILE_FLOOR_EDGE_L:     20,
    // TILE_FLOOR_EDGE_T:     21,
    // TILE_FLOOR_EDGE_R:     22,
    // TILE_FLOOR_EDGE_B:     23,
    // TILE_FLOOR_EDGE_LT:    24,
    // TILE_FLOOR_EDGE_TR:    25,
    // TILE_FLOOR_EDGE_RB:    26,
    // TILE_FLOOR_EDGE_BL:    27,
    // TILE_FLOOR_EDGE_LTR:   28,
    // TILE_FLOOR_EDGE_TRB:   29,
    // TILE_FLOOR_EDGE_RBL:   30,
    // TILE_FLOOR_EDGE_BLT:   31,
    // TILE_FLOOR_EDGE_LR:    32,
    // TILE_FLOOR_EDGE_TB:    33,
    // TILE_FLOOR_CORNER_LT:  34,
    // TILE_FLOOR_CORNER_TR:  35,
    // TILE_FLOOR_CORNER_RB:  36,
    // TILE_FLOOR_CORNER_BL:  37,
    // TILE_FLOOR_CORNER_LR:  39,
        Sprite.tiles[C.TILE_WALL1] = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_1);
        Sprite.tiles[C.TILE_WALL2] = await this.initSprite(SPRITESHEET_URI, SpriteSheet.tileset_2);
        */
      };

      /**
       * Initialize a sprite by loading it from a particular slice of the given image. Provides
       * "sensible" defaults for bounding box and anchor point if not provided.
       */
      static async initSprite(uri, data, opts) {
        return this.initDynamicSprite(await this.loadSlice(uri, data.x, data.y, data.w, data.h), opts);
      }

      static rotateImage(source, rad) {
        let canvas = new Canvas(source.width, source.height);
        canvas.ctx.translate(source.width / 2, source.height / 2);
        canvas.ctx.rotate(rad);
        canvas.ctx.translate(-source.width / 2, -source.height / 2);
        canvas.ctx.drawImage(source, 0, 0);
        return canvas.canvas;
      }

      static overlay(...sources) {
        let canvas = new Canvas(sources[0].width, sources[0].height);
        for (let source of sources) {
          canvas.ctx.drawImage(source, 0, 0);
        }
        return canvas.canvas;
      }

      /**
       * Initialize a sprite by passing it a pre-defined image source (probably generated dynamically).
       * Provides "sensible" defaults for bounding box and anchor point if not provided.
       */
      static initDynamicSprite(source, opts) {
        let w = source.width, h = source.height;

        return {
          img: source,
          anchor: (opts && opts.anchor) || { x: Math.floor(w / 2), y: Math.floor(h / 2) },
          bbox: (opts && opts.bbox) || [{x: 0, y: 0 }, { x: w, y: h }],
          hbox: opts && opts.hbox
        };
      }

      /**
       * This helper method retrieves a cached image, cuts the specified slice out of it, and returns it.
       */
      static async loadSlice(uri, x, y, w, h) {
        const source = await this.loadImage(uri);
        const sliceCanvas = new Canvas(w, h);
        sliceCanvas.ctx.drawImage(source, x, y, w, h, 0, 0, w, h);
        return sliceCanvas.canvas;
      }

      /**
       * Load the image from the given URI and cache it.
       */
      static async loadImage(uri) {
        if (this.images[uri]) return this.images[uri];

        return await new Promise((resolve, reject) => {
          let image = new Image();
          image.onload = () => resolve(image);
          image.onerror = (err) => reject(err);
          image.src = uri;
          this.images[uri] = image;
        });
      }
    }

    // A few quick constants (0*, 45*, 90*)
    const A00 = 0;
    const A45 = 0.7071067811865475;
    const A90 = 1;

    /**
     * KeyboardAdapter
     *
     * Maps keyboard inputs to game inputs.
     */
    class KeyboardAdapter {
      constructor(handler) {
        this.handler = handler;

        // Key Mapping:      ACTION            // Key
        this.map = [];
        this.map[88] = Input.Action.ATTACK;    // [X]
        this.map[90] = Input.Action.DEFLECT;   // [Z]
        this.map[67] = Input.Action.DODGE;     // [C]
        this.map[32] = Input.Action.SUPER;     // [SPACEBAR]
        this.map[38] = Input.Action.UP;        // [UpArrow]
        this.map[40] = Input.Action.DOWN;      // [DownArrow]
        this.map[37] = Input.Action.LEFT;      // [LeftArrow]
        this.map[39] = Input.Action.RIGHT;     // [RightArrow]
        this.map[87] = Input.Action.UP;        // [W]
        this.map[83] = Input.Action.DOWN;      // [S]
        this.map[65] = Input.Action.LEFT;      // [A]
        this.map[68] = Input.Action.RIGHT;     // [D]
        this.map[27] = Input.Action.MENU;      // [ESC]
        this.map[77] = Input.Action.MUTE;      // [M]
        this.map[70] = Input.Action.FREEZE;    // [F]
        this.map[80] = Input.Action.FREEZE;    // [P]

        // For keyboard, we support 8-point movement (S, E, SE, etc.)
        this.arrowDirections = [
          { x:  A00, y:  A00, m: 0 },
          { x:  A00, y: -A90, m: 1 },
          { x:  A00, y:  A90, m: 1 },
          { x:  A00, y:  A00, m: 0 },
          { x: -A90, y:  A00, m: 1 },
          { x: -A45, y: -A45, m: 1 },
          { x: -A45, y:  A45, m: 1 },
          { x: -A90, y:  A00, m: 1 },
          { x:  A90, y:  A00, m: 1 },
          { x:  A45, y: -A45, m: 1 },
          { x:  A45, y:  A45, m: 1 },
          { x:  A90, y:  A00, m: 1 },
          { x:  A00, y:  A00, m: 0 },
          { x:  A00, y: -A90, m: 1 },
          { x:  A00, y:  A90, m: 1 },
          { x:  A00, y:  A00, m: 0 }
        ];

        this.held = [];

        this.reset();
      }

      async init() {
        window.addEventListener('keydown', event => {
          let k = this.map[event.keyCode];
          console.log(event.keyCode);
          if (k) {
            this.held[k] = true;
          }

          // Hack - first key pressed in window will initialize the audio.
          //game.audio.init();
        });

        window.addEventListener('keyup', event => {
          let k = this.map[event.keyCode];
          if (k) {
            this.held[k] = false;
          }
        });
      }

      update() {
        // For keyboards, we want to convert the state of the various arrow keys being held down
        // into a directional vector. We use the browser's event to handle the held state of
        // the other action buttons, so we don't need to process them here.
        let state = (this.held[Input.Action.UP] ? 1 : 0) +
                    (this.held[Input.Action.DOWN] ? 2 : 0) +
                    (this.held[Input.Action.LEFT] ? 4 : 0) +
                    (this.held[Input.Action.RIGHT] ? 8 : 0);

        this.direction = this.arrowDirections[state];
      }

      reset() {
        this.direction = this.arrowDirections[0];
        for (let action of Object.values(Input.Action)) {
          this.held[action] = false;
        }
      }
    }

    const GAME_WIDTH = 480;
    const GAME_HEIGHT = 270;

    /**
    * Viewport
    *
    * Represents the game display (for us, a canvas).
    */
    class Viewport {
      async init() {
        this.canvas = document.getElementById('canvas');
        this.ctx = this.canvas.getContext('2d');
        this.resize(true);
      }

      // Resize the canvas to give us approximately our desired game display size.
      //
      // Rather than attempt to explain it, here's a concrete example:
      //
      //     we start with a desired game dimension:   480x270px
      //          get the actual browser dimensions:  1309x468px
      //          factor in the display's DPI ratio:  2618x936px
      //         now calculate the horizontal scale:       5.45x
      //                     and the vertical scale:       3.46x
      //            our new offical game scaling is:        5.4x
      //       and our official viewport dimensions:   484x173px
      //
      // This approach emphasizes correct aspect ratio and maintains full-window rendering, at
      // the potential cost of limiting visibility of the game itself in either the X or Y axis.
      // If you use this approach, make sure your GUI can "float" (otherwise there may be whole
      // UI elements the player cannot see!).
      resize(force) {
        let dpi = window.devicePixelRatio;
        let width = this.canvas.clientWidth;
        let height = this.canvas.clientHeight;
        let dpiWidth = width * dpi;
        let dpiHeight = height * dpi;

        if (force || this.canvas.width !== dpiWidth || this.canvas.height !== dpiHeight) {
          this.canvas.width = dpiWidth;
          this.canvas.height = dpiHeight;

          this.scale = (Math.floor(Math.max(dpiWidth / GAME_WIDTH, dpiHeight / GAME_HEIGHT) * 10) / 10);
          this.width = Math.ceil(this.canvas.width / this.scale);
          this.height = Math.ceil(this.canvas.height / this.scale);
          this.center = { u: Math.floor(this.width / 2), v: Math.floor(this.height / 2) };
          this.clientWidth = width;
          this.clientHeight = height;

                // Note: smoothing flag gets reset on every resize by some browsers, which is why
                // we do it here.
                this.ctx.imageSmoothingEnabled = false;

                viewport.canvas.style.cursor = 'none';
            }
        }
    }

    // Singleton
    const viewport = new Viewport();

    /**
     * MouseAdapter
     *
     * Maps mouse inputs to game inputs.
     */
    class MouseAdapter {
      constructor(handler) {
        this.handler = handler;

        // Key Mapping:      ACTION            // Input
        this.map = [];
        this.map[0]  = Input.Action.ATTACK;    // LMB
        this.map[2]  = Input.Action.RELOAD;    // RMB

        this.held = [];

        this.reset();
      }

      async init() {
        window.addEventListener('mousemove', event => {
          if (!this.pointer) this.pointer = {};
          //this.handlers['mousemove'](event.movementX, event.movementY, event.clientX, event.clientY);
          this.pointer.u = Math.floor((event.clientX * viewport.width) / viewport.clientWidth);
          this.pointer.v = Math.floor((event.clientY * viewport.height) / viewport.clientHeight);
        });

        window.addEventListener('mouseout', () => {
          this.pointer = undefined;
        });

        window.addEventListener('mousedown', event => {
          let k = this.map[event.button];
          if (k) this.held[k] = true;
        });

        window.addEventListener('mouseup', event => {
          let k = this.map[event.button];
          if (k) this.held[k] = false;
        });

        window.addEventListener('click', event => {
          event.preventDefault();
        });

        window.addEventListener('contextmenu', event => {
          let k = this.map[event.button];
          console.log(event.button);
          if (k) this.held[k] = true;
          this.releaseRMBTick = 2;
          event.preventDefault();
        });

        return this;
      }

      update() {
        // Hacks: ideally we could use mousedown and mouseup for all clicks and preventDefault to
        // avoid opening the browser's context menu. This hasn't worked for me so far when clicking
        // on a canvas, so I need to use the context menu event to capture a right mouse click instead.
        //
        // We fake a down/up for RMB clicks, which means we can't determine how long the RMB is held
        // (but luckily we don't need to for this game).
        if (this.releaseRMBTick) {
          this.releaseRMBTick--;
          if (this.releaseRMBTick === 0) {
            this.held[Input.Action.RELOAD] = false;
            console.log('released');
          }
        }
      }

      reset() {
        this.pointer = undefined;
        for (let action of Object.values(Input.Action)) {
          this.held[action] = false;
        }
      }
    }

    //import { GamepadAdapter } from './GamepadAdapter';
    //import { NormalVector } from './Geometry';

    /**
     * This is our abstract game input handler.
     *
     * Each frame, we'll collect input data from all of our supported input adapters,
     * and turn it into game input. This game input can then be used by the game
     * update for the frame.
     *
     * The input adapters give us data like "key X pressed", or "right mouse button
     * clicked", or "button B" pressed, and these are translated into a game input
     * like "dodge".
     */
    class Input {
        async init() {
            // A vector representing the direction the user is pressing/facing,
            // separate from pressing and releasing inputs. Treating "direction"
            // separately makes it easier to handle gamepad sticks.
            this.direction = { x: 0, y: 0, m: 0 };

            // "Pressed" means an input was pressed THIS FRAME.
            this.pressed = {};

            // "Released" means an input was released THIS FRAME.
            this.released = {};

            // "Held" means an input is held down. The input was "Pressed" either
            // this frame or in a past frame, and has not been "Released" yet.
            this.held = {};

            // How many frames was this input held down by the player. If [held]
            // is false, it represents how long the input was last held down.
            this.framesHeld = {};

            this.keyboard = new KeyboardAdapter(this);
            await this.keyboard.init();

            this.mouse = new MouseAdapter(this);
            await this.mouse.init();

            //this.gamepad = new GamepadAdapter(this);
            //await this.gamepad.init();
        }

        update() {
            // We could have some kind of "input adapter toggle", but it's easier to just treat all inputs
            // as valid -- if you're pressing the "attack" button on either gamepad or keyboard, then you're
            // attacking. For directional input, we instead check whether there's movement on the thumbstick,
            // and we use it if there is -- otherwise we try to extract movement from the keyboard instead.

            this.keyboard.update();
            this.mouse.update();
            //this.gamepad.update();

            for (let action of Object.values(Input.Action)) {
                let held = this.mouse.held[action] || this.keyboard.held[action];
                //let held = this.gamepad.held[action] || this.keyboard.held[action];
                this.pressed[action] = !this.held[action] && held;
                this.released[action] = this.held[action] && !held;

                if (this.pressed[action]) {
                    this.framesHeld[action] = 1;
                } else if (this.held[action] && held) {
                    this.framesHeld[action]++;
                }

                this.held[action] = held;
            }

            this.pointer = this.mouse.pointer;

            //this.direction = this.gamepad.direction.m > 0 ? this.gamepad.direction : this.keyboard.direction;
            this.direction = this.keyboard.direction;
        }

        onDown(action) {
        }

        onUp(action) {
        }
    }

    // Game Inputs
    //
    // Note that moving the player around is actually not considered an action; it's
    // a separate non-action input called "direction". It just so happens that on
    // keyboard, for example, pressing the "down arrow" key is considered both a
    // press of the in-game DOWN action and a directional input. It's up to the input
    // consumer to decide which input is relevant (if any). For example, on a menu,
    // we may consume the DOWN/UP actions to navigate the menu, but ignore directional
    // inputs.
    //
    Input.Action = {
      UP:      11,
      DOWN:    12,
      LEFT:    13,
      RIGHT:   14,
      ATTACK:  21,
      RELOAD:  30,
      DEFLECT: 22,
      DODGE:   23,
      SUPER:   24,
      MENU:    96,
      MUTE:    97,
      FREEZE:  98
    };

    /**
     * Geometry
     *
     * A horrible grab bag of math-related nonsense.
     */
    const Geometry = {
      RAD: (() => {
        let radianTable = [];
        for (let i = 0; i <= 360; i++) {
          radianTable[i] = Math.PI * 2 * i / 360;
        }
        return radianTable;
      })(),

      normalizeVector(p) {
        let m = Math.sqrt(p.x * p.x + p.y * p.y);
        return (m === 0) ? { x: 0, y: 0, m: 0 } : { x: p.x / m, y: p.y / m, m };
      },

      vectorBetween(p1, p2) {
        return Geometry.normalizeVector({ x: p2.x - p1.x, y: p2.y - p1.y });
      },

      angle2vector(r, m) {
        return { x: Math.cos(r), y: Math.sin(r), m: m || 1 };
      },

      vector2angle(v) {
        let angle = Math.atan2(v.y, v.x);
        if (angle < 0) angle += Geometry.RAD[360];
        return angle;
      },

      vector2point(v) {
        return { x: v.x * (v.m || 1), y: v.y * (v.m || 1) };
      },

      dot(a, b) {
        [a, b] = [Geometry.vector2point(a), Geometry.vector2point(b)];
        return a.x * b.x + a.y * b.y;
      },

      // Takes a series of vectors and denormalizes them and adds them together, usually resulting
      // in a point in space. Wrap in normalizeVector to get a normalized vector again, if desired.
      vectorAdd(...vectors) {
        let v = { x: 0, y: 0, m: 1 };
        for (let vector of vectors) {
          v.x += vector.x * (vector.m || 1);
          v.y += vector.y * (vector.m || 1);
        }
        return v;
      },

      angleBetween(angle, min, max) {
        if (min > max) [min, max] = [max, min];
        while (angle >= max + Geometry.RAD[360]) angle -= Geometry.RAD[360];
        while (angle <= min - Geometry.RAD[360]) angle += Geometry.RAD[360];
        return (angle >= min && angle < max);
      },

      arcOverlap(angleA1, angleA2, angleB1, angleB2) {
        console.log([angleA1, angleA2, angleB1, angleB2].map(x => x * 360 / (Math.PI * 2)));
        if (angleA1 > angleA2) [angleA1, angleA2] = [angleA2, angleA1];
        if (angleB1 > angleB2) [angleB1, angleB2] = [angleB2, angleB1];
        //while (angleA1 < 0) angleA1 += Geometry.RAD[360];

        while (angleB2 >= angleA2 + Geometry.RAD[360]) {
          angleB2 -= Geometry.RAD[360];
          angleB1 -= Geometry.RAD[360];
        }
        while (angleB1 <= angleA1 - Geometry.RAD[360]) {
          angleB1 += Geometry.RAD[360];
          angleB2 += Geometry.RAD[360];
        }

        const result = [Math.max(angleA1, angleB1), Math.min(angleA2, angleB2)];
        console.log([angleA1, angleA2, angleB1, angleB2, ...result].map(x => x * 360 / (Math.PI * 2)));
        return result[0] > result[1] ? undefined : result;
      },

      xy2qr(pos) {
        return { q: (pos.x / Constants.TILE_WIDTH) | 0, r: (pos.y / Constants.TILE_HEIGHT) | 0 };
      },

      qr2xy(pos) {
        return { x: pos.q * Constants.TILE_WIDTH, y: pos.r * Constants.TILE_HEIGHT };
      },

      xy2uv(pos) {
        return {
          u: pos.x + viewport.center.u - game.camera.pos.x,
          v: pos.y + viewport.center.v - game.camera.pos.y
        };
      },

      clamp(value, min, max) {
        return value < min ? min : (value > max ? max : value);
      },

      // The parameters to this function are (Q, Q) or (R, R) - i.e. horizontal or
      // vertical coordinates in tile space.
      calculateRayIntersectionAndStep(startPos, endPos) {
        let next, step, diff = endPos - startPos;

        if (diff === 0) {
            step = NaN;
            next = +Infinity;
        } else if (diff > 0) {
            step = 1 / diff;
            next = (1 - (startPos - Math.floor(startPos))) * step;
        } else {
            step = -1 / diff;
            next = (startPos - Math.floor(startPos)) * step;
        }

        return { next, step };
      },

      // https://www.genericgamedev.com/general/shooting-rays-through-tilemaps/
      *tilesHitBetween(p1, p2) {
        let startQ = p1.x / Constants.TILE_WIDTH, startR = p1.y / Constants.TILE_HEIGHT;
        let endQ = p2.x / Constants.TILE_WIDTH, endR = p2.y / Constants.TILE_HEIGHT;
        let tileCount = Math.abs(Math.floor(startQ) - Math.floor(endQ)) + Math.abs(Math.floor(startR) - Math.floor(endR));

        yield { q: startQ | 0, r: startR | 0, m: 0 };

        // If there's only 1 or 2 hit tiles, we don't need the math to compute the middle.
        if (tileCount > 1) {
          let q = startQ, r = startR, m = 0;
          let stepQ = Math.sign(endQ - startQ);
          let stepR = Math.sign(endR - startR);
          let intersectionQ = Geometry.calculateRayIntersectionAndStep(startQ, endQ);
          let intersectionR = Geometry.calculateRayIntersectionAndStep(startR, endR);

          for (let i = 0; i < tileCount - 1; i++) {
            if (intersectionQ.next < intersectionR.next) {
              q += stepQ;
              m += stepQ;
              intersectionQ.next += intersectionQ.step;
            } else {
              r += stepR;
              m += stepR;
              intersectionR.next += intersectionR.step;
            }
            yield { q: q | 0, r: r | 0, m };
          }
        }

        if (tileCount > 0) {
          yield { q: endQ | 0, r: endR | 0, m: 1 };
        }
      },

      *tilesHitBy(p, v) {
        yield *Geometry.tilesHitBetween(p, Geometry.vectorAdd(p, v));
      },

      /**
       * @param {XY[]} bounds  the upper-left and lower-right bounds
       * @yields {QR}
       */
      *tilesHitInBounds(bounds) {
        for (let r = Math.floor(bounds[0].y / Constants.TILE_HEIGHT); r * Constants.TILE_HEIGHT < bounds[1].y; r++) {
          for (let q = Math.floor(bounds[0].x / Constants.TILE_WIDTH); q * Constants.TILE_WIDTH < bounds[1].x; q++) {
            yield { q, r };
          }
        }
      },

      /**
       * @param {XY} p1  the starting position
       * @param {XY} p2  the ending position
       * @param {number} r  the radius of the moving circle
       * @yields {QR}
       */
      *tilesHitBetweenCircle(p1, p2, r) {
        let bounds = [
          { x: Math.min(p1.x, p2.x) - r, y: Math.min(p1.y, p2.y) - r },
          { x: Math.max(p1.x, p2.x) + r, y: Math.max(p1.y, p2.y) + r }
        ];
        yield *Geometry.tilesHitInBounds(bounds);
      },

      /**
       * @param {XY} p  the starting position
       * @param {XY} v  the velocity (movement)
       * @param {number} r  the radius of the moving circle
       * @yields {QR}
       */
      *tilesHitByCircle(p, v, r) {
        yield *Geometry.tilesHitBetweenCircle(p, { x: p.x + v.x, y: p.y + v.y }, r);
      },

      // https://stackoverflow.com/a/18790389/80630
      intersectCircleRectangle(p1, p2, r, bounds) {
        // If the bounding box around the start and end points (+radius on all
        // sides) does not intersect with the rectangle, definitely not an
        // intersection
        if (Math.max(p1.x, p2.x) + r < bounds[0].x ||
            Math.min(p1.x, p2.x) - r > bounds[1].x ||
            Math.max(p1.y, p2.y) + r < bounds[0].y ||
            Math.min(p1.y, p2.y) - r > bounds[1].y)
          return;

        let dx = p2.x - p1.x;
        let dy = p2.y - p1.y;
        let invdx = (dx === 0 ? 0 : 1 / dx);
        let invdy = (dy === 0 ? 0 : 1 / dy);
        let cornerX = Infinity;
        let cornerY = Infinity;

        // Check each side of the rectangle for a single-side intersection
        // Left Side
        if (p1.x - r < bounds[0].x && p2.x + r > bounds[0].x) {
          let ltime = ((bounds[0].x - r) - p1.x) * invdx;
          if (ltime >= 0 && ltime <= 1) {
            let ly = dy * ltime + p1.y;
            if (ly >= bounds[0].y && ly <= bounds[1].y) {
              return { x: dx * ltime + p1.x, y: ly, t: ltime, nx: -1, ny: 0, ix: bounds[0].x, iy: ly };
            }
          }
          cornerX = bounds[0].x;
        }
        // Right Side
        if (p1.x + r > bounds[1].x && p2.x - r < bounds[1].x) {
          let rtime = (p1.x - (bounds[1].x + r)) * -invdx;
          if (rtime >= 0 && rtime <= 1) {
            let ry = dy * rtime + p2.y;
            if (ry >= bounds[0].y && ry <= bounds[1].y) {
              return { x: dx * rtime + p1.x, y: ry, t: rtime, nx: 1, ny: 0, ix: bounds[1].x, iy: ry };
            }
          }
          cornerX = bounds[1].x;
        }
        // Top Side
        if (p1.y - r < bounds[0].y && p2.y + r > bounds[0].y) {
          let ttime = ((bounds[0].y - r) - p1.y) * invdy;
          if (ttime >= 0 && ttime <= 1) {
            let tx = dx * ttime + p1.x;
            if (tx >= bounds[0].x && tx <= bounds[1].x) {
              return { x: tx, y: dy * ttime + p1.y, t: ttime, nx: 0, ny: -1, ix: tx, iy: bounds[0].y };
            }
          }
          cornerY = bounds[0].y;
        }
        // Bottom Side
        if (p1.y + r > bounds[1].y && p2.y - r < bounds[1].y) {
          let btime = (p1.y - (bounds[1].y + r)) * -invdy;
          if (btime >= 0 && btime <= 1) {
            let bx = dx * btime + p1.x;
            if (bx >= bounds[0].x && bx <= bounds[1].x) {
              return { x: bx, y: dy * btime + p1.y, t: btime, nx: 0, ny: 1, ix: bx, iy: bounds[0].y };
            }
          }
          cornerY = bounds[1].y;
        }

        // If we haven't touched anything, there is no collision
        if (cornerX === Infinity && cornerY === Infinity) return;

        // We didn't pass through a side but may be hitting the corner
        if (cornerX !== Infinity && cornerY === Infinity) {
          cornerY = dy > 0 ? bounds[1].y : bounds[0].y;
        }
        if (cornerY !== Infinity && cornerX === Infinity) {
          cornerX = dx > 0 ? bounds[1].x : bounds[0].x;
        }

        /* Solve the triangle between the start, corner, and intersection point.
         *
         *           +-----------T-----------+
         *           |                       |
         *          L|                       |R
         *           |                       |
         *           C-----------B-----------+
         *          / \
         *         /   \r     _.-E
         *        /     \ _.-'
         *       /    _.-I
         *      / _.-'
         *     S-'
         *
         * S = start of circle's path
         * E = end of circle's path
         * LTRB = sides of the rectangle
         * I = {ix, iY} = point at which the circle intersects with the rectangle
         * C = corner of intersection (and collision point)
         * C=>I (r) = {nx, ny} = radius and intersection normal
         * S=>C = cornerdist
         * S=>I = intersectionDistance
         * S=>E = lineLength
         * <S = innerAngle
         * <I = angle1
         * <C = angle2
         */
        let inverseRadius = 1 / r;
        let lineLength = Math.sqrt(dx * dx + dy * dy);
        let cornerdx = cornerX - p1.x;
        let cornerdy = cornerY - p1.y;
        let cornerDistance = Math.sqrt(cornerdx * cornerdx + cornerdy * cornerdy);
        let innerAngle = Math.acos((cornerdx * dx + cornerdy * dy) / (lineLength * cornerDistance));

        // If the circle is too close, no intersection
        if (cornerDistance < r) return;

        // If inner angle is zero, it's going to hit the corner straight on.
        if (innerAngle === 0) {
          let time = (cornerDistance - r) / lineLength;

            // Ignore if time is outside boundaries of (p1, p2)
            if (time > 1 || time < 0) return;

            let ix = time * dx + p1.x;
            let iy = time * dy + p1.y;
            let nx = cornerdx / cornerDistance;
            let ny = cornerdy / cornerDistance;

            return isNaN(ix) ? undefined : { x: ix, y: iy, t: time, nx, ny, ix: cornerX, iy: cornerY };
        }

        let innerAngleSin = Math.sin(innerAngle);
        let angle1Sin = innerAngleSin * cornerDistance * inverseRadius;

        // If the angle is too large, there is no collision
        if (Math.abs(angle1Sin) > 1) return;

        let angle1 = Math.PI - Math.asin(angle1Sin);
        let angle2 = Math.PI - innerAngle - angle1;
        let intersectionDistance = r * Math.sin(angle2) / innerAngleSin;
        let time = intersectionDistance / lineLength;

        // Ignore if time is outside boundaries of (p1, p2)
        if (time > 1 || time < 0) return;

        let ix = time * dx + p1.x;
        let iy = time * dy + p2.y;
        let nx = (ix - cornerX) * inverseRadius;
        let ny = (iy - cornerY) * inverseRadius;

        return isNaN(ix) ? undefined : { x: ix, y: iy, t: time, nx, ny, ix: cornerX, iy: cornerY };
      },

      // https://stackoverflow.com/questions/18683179/how-to-fix-circles-overlap-in-collision-response
      //
      // This is an incredibly simple implementation that ASSUMES very small velocities. It doesn't attempt
      // to answer the question about "when" the intersection happened like the method above - may
      // fix that in future.
      intersectCircleCircle2(p1, r1, v1, p2, r2, v2) {
        [v1, v2] = [Geometry.vector2point(v1), Geometry.vector2point(v2)];
        let a1 = { x: p1.x + v1.x, y: p1.y + v1.y };
        let a2 = { x: p2.x + v2.x, y: p2.y + v2.y };
        let delta = Geometry.vectorBetween(a1, a2);
        if (delta.m < r1 + r2) {
          return { nx: delta.x, ny: delta.y, m: r1 + r2 - delta.m };
        }
      },

      flood(maze, pos) {
        let result = Geometry.array2d(maze[0].length, maze.length, 100);
        console.log(result[0][0]);
        let stack = [{ ...pos, cost: 0 }];
        while (stack.length > 0) {
          let { q, r, cost } = stack.shift();
          if (result[r][q] <= cost) continue;
          result[r][q] = cost++;
          if (maze[r][q + 1] && result[r][q + 1] > cost) stack.push({ q: q + 1, r, cost });
          if (maze[r][q - 1] && result[r][q - 1] > cost) stack.push({ q: q - 1, r, cost });
          if (maze[r + 1][q] && result[r + 1][q] > cost) stack.push({ q, r: r + 1, cost });
          if (maze[r - 1][q] && result[r - 1][q] > cost) stack.push({ q, r: r - 1, cost });
        }
        console.log(["---", result, "---"]);
        return result;
      },

      array2d(width, height, value) {
        let fn = typeof value === 'function' ? value : () => value;
        return Array.from({ length: height }, () => Array.from({ length: width }, fn));
      },

      tileIsPassable(q, r) {
        return !!game.maze.maze[r][q];
      }
    };

    /**
     * Seeded random number generator, using SimpleFastCounter for generator and
     * xmur3 for hashing.
     *
     * https://stackoverflow.com/questions/521295/seeding-the-random-number-generator-in-javascript
     */
    const Random = {
        sfc32(a, b, c, d) {
            return () => {
                a >>>= 0; b >>>= 0; c >>>= 0; d >>>= 0;
                let t = (a + b) | 0;
                a = b ^ b >>> 9;
                b = c + (c << 3) | 0;
                c = (c << 21 | c >>> 11);
                d = d + 1 | 0;
                t = t + d | 0;
                c = c + t | 0;
                return (t >>> 0) / 4294967296;
            }
        },

        xmur3(str) {
            let i, h;
            for (i = 0, h = 1779033703 ^ str.length; i < str.length; i++) {
                h = Math.imul(h ^ str.charCodeAt(i), 3432918353);
                h = h << 13 | h >>> 19;
            }

            return () => {
                h = Math.imul(h ^ h >>> 16, 2246822507);
                h = Math.imul(h ^ h >>> 13, 3266489909);
                return (h ^= h >>> 16) >>> 0;
            }
        },

        seed(str) {
            let seedfn = this.xmur3(str);
            let randfn = this.sfc32(seedfn(), seedfn(), seedfn(), seedfn());

            // If min/max are not supplied, returns a random floating point value
            // (>=0 && <1). If they are supplied, returns a random integer value
            // (>=min && <max).
            return (min, max) => {
                if (typeof min === "number" && typeof max === "number") {
                    return Math.floor(randfn() * (max - min)) + min;
                } else {
                    return randfn();
                }
            };
        }
    };

    const CROSS = [
        { q: 0, r: 0 },
        { q: 0, r: -1 },
        { q: 0, r: 1 },
        { q: -1, r: 0 },
        { q: 1, r: 0 }
    ];

    const CARDINALS = [
        { q: 0, r: -1 },
        { q: 0, r: 1 },
        { q: -1, r: 0 },
        { q: 1, r: 0 }
    ];

    // Maze Generator - TODO
    //
    //
    const MazeGenerator = {
        openCrossCells(maze, q, r) {
            return CROSS.filter(dir => {
                let [cq, cr] = [q + dir.q, r + dir.r];
                return cr >= 0 && cr < maze.length && cq >= 0 && cq < maze[0].length && !maze[cr][cq];
            });
        },

        attemptRoomPlacement(maze, rand, bounds, width, height, roomNumber) {
            let q = rand(0, (bounds[1].q - width) / 2) * 2 + 1;
            let r = rand(0, (bounds[1].r - height) / 2) * 2 + 1;
            let found = undefined;

            //
            // TUNEABLE
            //
            // You can never "touch" the spawn room (Room #1). If you touch another room,
            // there's a 9% chance for each attempt to allow the room to be built, potentially
            // overlapping/intersecting, or even completely eclipsing the previous room
            // if this room is larger.
            //
            for (let j = 0; j < height; j++) {
                for (let i = 0; i < width; i++) {
                    if (maze[r+j][q+i]) roomNumber = found = maze[r+j][q+i];
                    if (maze[r+j][q+i]===1) return;
                }
            }
            if (found && rand() > 0.01) return;

            for (let j = 0; j < height; j++) {
                for (let i = 0; i < width; i++) {
                    maze[r+j][q+i] = roomNumber;
                }
            }

            return { q, r, width, height, roomNumber };
        },

        carveMaze(maze, rand, startQ, startR, roomNumber) {
            let cells = [{ q: startQ, r: startR }];
            maze[startR][startQ] = roomNumber;

            while (cells.length > 0) {
                //
                // TUNEABLE
                //
                // When carving, we can attempt to carve off any cell in our collected list. For
                // this game, we choose 75% to keep carving off the last cell we carved (windy passage),
                // and 25% to carve somewhere else (branch). If we choose to branch, that's the
                // new windy passage, leaving the old one for later.
                //
                let idx = rand() < 0.25 ? rand(0, cells.length) : cells.length - 1;
                let cell = cells[idx];
                if (idx !== cells.length - 1) {
                    cells.splice(idx, 1);
                    cells.push(cell);
                }

                let possible = CARDINALS.filter(dir => {
                    return MazeGenerator.openCrossCells(maze, cell.q + dir.q, cell.r + dir.r).length === 4;
                });
    /*
                let possible = CARDINALS.filter(dir => {
                    console.log(cell.r + dir.r, cell.q + dir.q);
                    if (cell.r + dir.r < 0 || cell.r + dir.r >= maze.length || cell.q + dir.q < 0 || cell.q + dir.q >= maze[0].length) return false;
                    if (maze[cell.r + dir.r][cell.q + dir.q]) return false;

                    let openCells = CARDINALS.filter(dir2 => {
                        let [cq, cr] = [cell.q + dir.q + dir2.q, cell.r + dir.r + dir2.r];
                        if (cr < 0 || cr >= maze.length || cq < 0 || cq >= maze[0].length) return false;
                        return !maze[cr][cq];
                    });
                    console.log([dir.q, dir.r, openCells.length]);

                    return openCells.length === 3;
                });
                console.log(possible);
                */

                if (possible.length === 0) {
                    cells.splice(cells.indexOf(cell), 1);
                } else {
                    let choice = possible[rand(0, possible.length)];
                    maze[cell.r + choice.r][cell.q + choice.q] = roomNumber;
                    cells.push({ q: cell.q + choice.q, r: cell.r + choice.r });
                    console.log(cells);
                }
            }
        },

        carveConnectors(maze, rand) {
            let connectors = [];
            let rooms = [];

            for (let r = 1; r < maze.length - 1; r++) {
                for (let q = 1; q < maze.length - 1; q++) {
                    let room1, room2;

                    let [up, down, left, right] = [
                        maze[r - 1][q],
                        maze[r + 1][q],
                        maze[r][q - 1],
                        maze[r][q + 1]
                    ];

                    if (up && down && up !== down) {
                        room1 = up, room2 = down;
                    } else if (left && right && left !== right) {
                        room1 = left, room2 = right;
                    }

                    if (room1 && room2) {
                        if (room1 > room2) {
                            [room1, room2] = [room2, room1];
                        }
                        connectors.push({ q, r, room1, room2 });
                        rooms.push(room1, room2);
                        //connectors.push({ q, r, room1: room2, room2: room1 });
                        /*connectors[room1] = connectors[room1] || [];
                        connectors[room1][room2] = connectors[room1][room2] || [];
                        connectors[room1][room2].push({ q, r });
                        connectors[room2] = connectors[room2] || [];
                        connectors[room2][room1] = connectors[room2][room1] || [];
                        connectors[room2][room1].push({ q, r });*/
                    }
                }
            }

            let groups = [...new Set(rooms)].map(a => [a]);
            console.log(groups);

            while (connectors.length > 0) {
                let idx = rand(0, connectors.length);
                let choice = connectors.splice(idx, 1)[0];
                maze[choice.r][choice.q] = choice.room1;

                let group1 = groups.find(group => group.includes(choice.room1));
                let group2 = groups.find(group => group.includes(choice.room2));

                if (rand() > 0.2) {
                    connectors = connectors.filter(c => !(
                        (group1.includes(c.room1) && group2.includes(c.room2)) ||
                        (group2.includes(c.room1) && group1.includes(c.room2))
                    ));
                }

                if (group1 !== group2) {
                    groups.splice(groups.indexOf(group2), 1);
                    group1.push(...group2);
                }
            }
    /*
            while (groups.length > 1) {
                let a = rand(0, groups.length);
                let b = (a + 1) % groups.length;
                let possible = connectors.filter(pair => groups[a].includes(pair.room1) && groups[b].includes(pair.room2));
                console.log(possible);
                let choice = possible[rand(0, possible.length)];

                maze[choice.r][choice.q] = pair.room1;
                groups.splice(b, 1);
                groups[a] = groups[a].concat(groups[b]);
            }
            */

            /*for (let pair of Object.keys(connectors)) {
                let choice = connectors[pair][rand(0, connectors[pair].length)];
                maze[choice.r][choice.q] = 2;
            }*/
        },

        pruneDeadEnds(maze, rand) {
            let deadEnds = [];

            for (let r = 0; r < maze.length; r++) {
                for (let q = 0; q < maze[0].length; q++) {
                    if (maze[r][q] && MazeGenerator.openCrossCells(maze, q, r).length >= 3) {
                        deadEnds.push({ q, r });
                    }
                }
            }

            while (deadEnds.length > 0) {
                let idx = rand(0, deadEnds.length);
                let cell = deadEnds.splice(idx, 1)[0];

                if (rand() < 0.45) {
                    let possible = CARDINALS.filter(dir => {
                        return MazeGenerator.openCrossCells(maze, cell.q + dir.q, cell.r + dir.r).length <= 2 &&
                          (cell.q+dir.q) >= 0 && (cell.q+dir.q) < maze[0].length &&
                          (cell.r+dir.r) >= 0 && (cell.r+dir.r) < maze.length;
                    });
                    let choice = possible[rand(0, possible.length)];
                    if (choice) {
                        maze[cell.r + choice.r][cell.q + choice.q] = maze[cell.r][cell.q];
                        continue;
                    }
                }

                if (rand() > 0.05) {
                    maze[cell.r][cell.q] = 0;
                    CARDINALS.forEach(dir => {
                        let [cq, cr] = [cell.q + dir.q, cell.r + dir.r];
                        if (maze[cr][cq] && MazeGenerator.openCrossCells(maze, cq, cr).length >= 3 &&
                            cq >= 0 && cq < maze[0].length && cr >= 0 && cr < maze.length) {
                            deadEnds.push({ q: cq, r: cr });
                        }
                    });
                }
            }
        },

        createRoomLookup(rooms) {
            return rooms.reduce((hash, room) => {
                hash[room.roomNumber] = hash[room.roomNumber] || [];
                hash[room.roomNumber].push(room);
                return hash;
            }, {});
        },

        createTiles(maze, rand) {
            let tiles = Geometry.array2d(maze[0].length, maze.length, () => {
                return (rand() < 0.1 ? Constants.TILE_WALL2 : Constants.TILE_WALL1) + (0b000_010_000 << 4);
            });
            for (let r = 0; r < tiles.length; r++) {
                for (let q = 0; q < tiles[0].length; q++) {
                    if (maze[r][q]) {
                        let key =
                            (maze[r - 1][q - 1] ? 0 : 0b100_000_000) +
                            (maze[r - 1][q]     ? 0 : 0b010_000_000) +
                            (maze[r - 1][q + 1] ? 0 : 0b001_000_000) +
                            (maze[r][q - 1]     ? 0 : 0b000_100_000) +
                            (maze[r][q]         ? 0 : 0b000_010_000) +
                            (maze[r][q + 1]     ? 0 : 0b000_001_000) +
                            (maze[r + 1][q - 1] ? 0 : 0b000_000_100) +
                            (maze[r + 1][q]     ? 0 : 0b000_000_010) +
                            (maze[r + 1][q + 1] ? 0 : 0b000_000_001);
                        tiles[r][q] = (key << 4) + Constants.TILE_FLOOR1;
                    }
                }
            }
            return tiles;
        },

        generate(seed) {
            let maze = Geometry.array2d(99, 99, 0);
            //let rand = Random.seed("apples");
            let rand = Random.seed(seed);

            let roomNumber = 1;

            let result = MazeGenerator.attemptRoomPlacement(maze, rand, [{ q: 0, r: 0 }, { q: 99, r: 99 }], 11, 9, roomNumber++);
            console.log(result);
            let rooms = [result];

            for (let i = 0; i < 100; i++) {
                let w = rand(3, 4) * 2 + 1;
                let h = rand(3, 4) * 2 + 1;
                result = MazeGenerator.attemptRoomPlacement(maze, rand, [{ q: 0, r: 0 }, { q: 99, r: 99 }], w, h, roomNumber);
                if (result) rooms.push(result);
                if (result && result.roomNumber === roomNumber) roomNumber++;
            }
            for (let i = 0; i < 100; i++) {
                let w = rand(2, 4) * 2 + 1;
                let h = rand(2, 4) * 2 + 1;
                result = MazeGenerator.attemptRoomPlacement(maze, rand, [{ q: 0, r: 0 }, { q: 99, r: 99 }], w, h, roomNumber);
                if (result) rooms.push(result);
                if (result && result.roomNumber === roomNumber) roomNumber++;
            }
            for (let i = 0; i < 100; i++) {
                let w = rand(1, 4) * 2 + 1;
                let h = rand(1, 4) * 2 + 1;
                result = MazeGenerator.attemptRoomPlacement(maze, rand, [{ q: 0, r: 0 }, { q: 99, r: 99 }], w, h, roomNumber);
                if (result) rooms.push(result);
                if (result && result.roomNumber === roomNumber) roomNumber++;
            }

            /*
            random room placement

            for (let i = 0; i < 900; i++) {
                let w = rand(1, 4) * 2 + 1;
                let h = rand(1, 4) * 2 + 1;
                result = MazeGenerator.attemptRoomPlacement(maze, rand, [{ q: 0, r: 0 }, { q: 99, r: 99 }], w, h, roomNumber++);
                console.log(result);
            }
            */

            for (let r = 1; r < 99; r += 2) {
                for (let q = 1; q < 99; q += 2) {
                    if (MazeGenerator.openCrossCells(maze, q, r).length === 5) {
                        MazeGenerator.carveMaze(maze, rand, q, r, roomNumber++);
                    }
                }
            }

            MazeGenerator.carveConnectors(maze, rand);

            MazeGenerator.pruneDeadEnds(maze, rand);

            let homeflow = Geometry.flood(maze, rooms[0]);
            return {
                maze,
                tiles: MazeGenerator.createTiles(maze, rand),
                rand,
                rooms: this.createRoomLookup(rooms),
                flowhome: homeflow
            };
        }
    };

    const C_WIDTH = 3;
    const C_HEIGHT = 5;

    // Very simple variable-width font implementation. The characters in the font strip
    // are left-aligned in their 3x5 pixel boxes, so in order to have variable width,
    // we just need to note the characters that AREN'T full width. Anything not in
    // this list has full shift (3+1 = 4 pixels).
    const C_SHIFT = {
        32: 3,          // Space
        44: 3,          // Comma
        46: 3,          // Period
        73: 2           // I
    };

    /**
     * Text
     *
     * Utilities for drawing text using in-game pixel font.
     */
    const Text = {
        async init() {
            this.default = Sprite.font.img;
            this.fire = this.recolor(this.default, ctx => {
                let gradient = ctx.createLinearGradient(0, 0, 0, this.default.height);
                gradient.addColorStop(0, 'rgba(240,134,51,1)');
                gradient.addColorStop(1, 'rgba(250,220,74,1)');
                return gradient;
            });
            this.shadow = this.recolor(this.default, 'rgba(240, 240, 255, 0.25)');
        },

        drawText(ctx, text, u, v, font = this.default, scale = 1) {
            text = text.toUpperCase();
            for (let idx = 0; idx < text.length; idx++) {
                let c = text.charCodeAt(idx);
                ctx.drawImage(
                    font,
                    (c - 32) * (C_WIDTH + 1), 0, C_WIDTH, C_HEIGHT,
                    u, v, C_WIDTH * scale, C_HEIGHT * scale
                );
                u += (C_SHIFT[c] || (C_WIDTH + 1)) * scale;
            }
        },

        drawRightText(ctx, text, u, v, font = this.default, scale = 1) {
            text = text.toUpperCase();
            u -= this.measureWidth(text, scale);
            this.drawText(ctx, text, u, v, font, scale);
        },

        drawParagraph(ctx, text, u, v, w, h, font = this.default, scale = 1) {
            let cu = u, cv = v, phrases = text.toUpperCase().split(' ');

            for (let phrase of phrases) {
                let phraseWidth = this.measureWidth(phrase, scale);
                if (cu + phraseWidth - u > w) {
                    cu = u;
                    cv += (C_HEIGHT + 2) * scale;
                }
                this.drawText(ctx, phrase, cu, cv, font, scale);
                cu += phraseWidth + (C_SHIFT[32] );
            }
        },

        measureWidth(text, scale) {
            return text.split('').reduce((sum, c) => sum + (C_SHIFT[c.charCodeAt(0)] || 4), 0) * scale;
        },

        recolor(font, color) {
            let canvas = new Canvas(font.width, font.height);
            canvas.ctx.fillStyle = typeof color === "function" ? color(canvas.ctx) : color;
            canvas.ctx.fillRect(0, 0, font.width, font.height);
            console.log(font.width, font.height, color, canvas);
            canvas.ctx.globalCompositeOperation = 'destination-in';
            canvas.ctx.drawImage(font, 0, 0);
            return canvas.canvas;
        },
    };

    /**
     * Detection
     */
    const Detection = {
      lineOfSight(a, b) {
          // todo: this checks center mass
          for (let tile of Geometry.tilesHitBetween(a.pos, b.pos)) {
            if (!Geometry.tileIsPassable(tile.q, tile.r)) return false;
          }

          // todo: distance away
          // todo: facing check
          return true;
      }
    };

    /**
     * Behavior
     */
    const Behavior = {
      IDLE:   101,
      WANDER: 102,
      CHASE:  103,
      HUNT:   104,
      FLEE:   105,
      DEAD:   106,

      ATTACK: 201,
      RELOAD: 202,

      apply(entities) {
        for (let entity of entities) {
          if (entity.think) entity.think();
        }
      }
    };

    /**
     * Monster
     */
    class Monster {
      constructor() {
        this.pos = { x: 0, y: 0 };
        this.vel = { x: 0, y: 0 };
        this.facing = { x: 0, y: -1, m: 0 };
        this.hp = 100;
        this.damage = [];
        this.radius = 11;

        this.mass = 0.5;
      }

      think() {
        switch (this.state) {
          case Behavior.IDLE:
            if (Detection.lineOfSight(this, game.player)) {
              this.state = Behavior.CHASE;
            }
            break;
          case Behavior.CHASE:
            let diff = Geometry.vectorBetween(this.pos, game.player.pos);
            diff.m = Geometry.clamp(diff.m, 0, 1);
            this.vel = { x: diff.x * diff.m, y: diff.y * diff.m };
            break;
          case Behavior.DEAD:
            this.vel = { x: 0, y: 0, m: 0 };
            if (!this.cullt) this.cullt = 15;
            this.cullt--;
            if (this.cullt < 1) this.cull = true;
            break;
          default:
            this.state = Behavior.IDLE;
            break;
        }
      }

      draw(viewport) {
        // TODO
        if (this.state === Behavior.DEAD) {
          Sprite.drawViewportSprite(viewport, Sprite.monster_dead, this.pos, game.camera.pos);
        } else {
          Sprite.drawViewportSprite(viewport, Sprite.monster, this.pos, game.camera.pos);
        }
      }
    }

    class ShotgunBlast {
      constructor(pos, angle) {
        this.pos = { ...pos };
        this.angle = angle;
        this.spread = Geometry.RAD[70];
        this.range = 55;
      }

      think() {
        this.t = (this.t || 0) + 1;

        if (this.t === 3) {
          let entities = game.entities.filter(entity => entity instanceof Monster);
          for (let entity of entities) {
            let vect = Geometry.vectorBetween(this.pos, entity.pos);
            if (vect.m >= this.range + entity.radius) continue;

            let dot1 = Geometry.vectorBetween(
              this.pos,
              { x: entity.pos.x - vect.y * entity.radius, y: entity.pos.y + vect.x * entity.radius }
            );
            let dot2 = Geometry.vectorBetween(
              this.pos,
              { x: entity.pos.x + vect.y * entity.radius, y: entity.pos.y - vect.x * entity.radius }
            );
            let sides = [Geometry.vector2angle(dot1), Geometry.vector2angle(dot2)];
            let overlap = Geometry.arcOverlap(sides[0], sides[1], this.angle - this.spread / 2, this.angle + this.spread / 2);
            if (!overlap) continue;

            let wallHit = [];
            let k = Geometry.vectorAdd(this.pos, Geometry.angle2vector(sides[0], vect.m));
            for (let tile of Geometry.tilesHitBy(this.pos, Geometry.angle2vector(sides[0], vect.m))) {
              if (!Geometry.tileIsPassable(tile.q, tile.r)) {
                wallHit.push(tile);
                break;
              }
            }
            for (let tile of Geometry.tilesHitBy(this.pos, Geometry.angle2vector(sides[1], vect.m))) {
              if (!Geometry.tileIsPassable(tile.q, tile.r)) {
                wallHit.push(tile);
                break;
              }
            }

            if (wallHit.length < 2) {
              // hit
              entity.damage.push({ amount: 25, vector: vect });
            }
          }
        }

        if (this.t > 6) this.cull = true;
      }

      draw(viewport) {
        // TODO
        //Sprite.drawViewportSprite(viewport, Sprite.monster, this.pos, game.camera.pos);
        let uv = Geometry.xy2uv(this.pos);
        viewport.ctx.beginPath();
        viewport.ctx.arc(uv.u, uv.v, this.range, this.angle - this.spread / 2, this.angle + this.spread / 2);
        viewport.ctx.lineTo(uv.u, uv.v);
        viewport.ctx.closePath();
        viewport.ctx.fillStyle = 'rgba(255, 0, 0, 0.5)';
        viewport.ctx.fill();
      }
    }

    class ReloadAnimation {
      constructor(frames) {
        this.t = -1;
        this.d = frames;
        this.z = 101;
      }

      think() {
        if (++this.t === this.d) this.cull = true;
      }

      draw(viewport) {
        for (let i = 0; i < game.player.shellsMax; i++) {
          let end = i * this.d / game.player.shellsMax;
          let start = end - 3;

          if (this.t >= start) {
            let y = Math.min(10, 10 + this.t - end);
            viewport.ctx.globalAlpha = Math.min(1, 1 + (this.t - end) / 10);
            viewport.ctx.drawImage(Sprite.hud_shells_full.img, 15 + 6 * i, y);
            viewport.ctx.globalAlpha = 1;
          }
        }
      }
    }

    /**
     * Player
     */
    class Player {
      constructor() {
        this.pos = { x: 0, y: 0 };
        this.vel = { x: 0, y: 0 };
        this.facing = { x: 0, y: -1, m: 0 };
        this.hp = 100;
        this.damage = [];
        this.radius = 12;

        this.shellsLeft = 4;
        this.shellsMax = 4;

        this.mass = 3;
      }

      think() {
        switch (this.state) {
          case Behavior.HUNT:
            this.defaultMovement(1);

            if (game.input.pressed[Input.Action.ATTACK]) {
              if (this.shellsLeft === 0) {
                this.reload();
              } else {
                this.fire();
              }
            }

            if (game.input.pressed[Input.Action.RELOAD]) {
              this.reload();
            }

            break;
          case Behavior.ATTACK:
            this.defaultMovement(1);
            if (--this.frames <= 0) this.state = Behavior.HUNT;
            break;
          case Behavior.RELOAD:
            this.defaultMovement(2.5);
            if (--this.frames <= 0) {
              this.shellsLeft = this.shellsMax;
              this.state = Behavior.HUNT;
            }
            break;
          default:
            this.state = Behavior.HUNT;
            this.frames = 0;
            break;
        }
      }

      defaultMovement(velocityAdj) {
        if (game.pointerXY()) {
          this.facing = Geometry.vectorBetween(this.pos, game.pointerXY());
        }

        let v = {
          x: game.input.direction.x * game.input.direction.m * 1.8 * velocityAdj,
          y: game.input.direction.y * game.input.direction.m * 1.8 * velocityAdj
        };

        this.vel.x = (this.vel.x + v.x) / 2;
        this.vel.y = (this.vel.y + v.y) / 2;
      }

      draw(viewport) {
        Sprite.drawViewportSprite(viewport, Sprite.player, this.pos, game.camera.pos);

        viewport.ctx.strokeStyle = 'rgba(255, 255, 64, 0.3)';
        viewport.ctx.beginPath();
        let uv = game.xy2uv(this.pos);
        viewport.ctx.arc(uv.u, uv.v, Constants.PLAYER_BOUND_RADIUS, 0, 2 * Math.PI);
        viewport.ctx.setLineDash([2, 1]);
        viewport.ctx.stroke();
        viewport.ctx.setLineDash([]);
      }

      fire() {
        this.state = Behavior.ATTACK;
        this.frames = 6;
        this.shellsLeft--;

        let angle = Geometry.vector2angle(this.facing);
        game.entities.push(new ShotgunBlast(this.pos, angle));

        this.vel = Geometry.normalizeVector(this.facing);
        this.vel.m = 1;
      }

      reload() {
        this.state = Behavior.RELOAD;
        this.frames = 12;
        game.entities.push(new ReloadAnimation(this.frames));
      }
    }

    const Menu = {
        draw(viewport) {

            return;

            /*
            Text.drawText(ctx, "Abominable Snowman", 120, 50);
            Text.drawText(ctx, "Abominable Snowman", 121, 50, Text.shadow);
            Text.drawRightText(ctx, "500", 120, 70);
            Text.drawRightText(ctx, "1,200", 120, 80);
            Text.drawRightText(ctx, "5,000", 120, 90);
            Text.drawRightText(ctx, "5,000", 121, 91, Text.shadow);


            5px 7px 9px

            draw(viewport) {
                Sprite.drawViewportSprite(viewport, Sprite.player, this.pos, game.camera.pos);

                viewport.ctx.strokeStyle = 'rgba(255, 255, 64, 0.3)';
                viewport.ctx.beginPath();*/

        }
    };

    /**
     * Movement
     */
    const Movement = {
      apply(entities) {
        // Movement only applies to active entities with positions and velocities
        let movers = entities.filter(entity => entity.pos && entity.vel && !entity.cull);

        // Very basic "rounds" of collision resolution, since we have no real physics.
        // (As usual, "detecting" a collision is not the hard part... we need to resolve
        // them too!)
        for (let rounds = 0; rounds < 5; rounds++) {
          // Each pair of entities only needs to interact once.
          for (let i = 0; i < movers.length - 1; i++) {
            for (let j = i + 1; j < movers.length; j++) {
              this.clipVelocityEntityVsEntity(movers[i], movers[j]);
            }
          }

          for (let entity of movers) {
            this.clipVelocityAgainstWalls(entity);
          }
        }

        // Now we apply all movement, even if it's not going to be perfect.
        for (let entity of movers) {
          entity.pos.x += entity.vel.x;
          entity.pos.y += entity.vel.y;
        }
      },

      clipVelocityEntityVsEntity(entity, other) {
        let hit = Geometry.intersectCircleCircle2(
          entity.pos, entity.radius, entity.vel,
          other.pos, other.radius, other.vel
        );
        if (hit) {
          // Not a bug: we "add" the mass of the opposing entity to our own velocity when deciding who
          // is at fault for the collision. Entity velocities adjust in relation to their fault level.
          let entityM = Geometry.normalizeVector(entity.vel).m + other.mass;
          let otherM = Geometry.normalizeVector(other.vel).m + entity.mass;
          entity.vel.x -= hit.nx * hit.m * entityM / (entityM + otherM);
          entity.vel.y -= hit.ny * hit.m * entityM / (entityM + otherM);
          other.vel.x += hit.nx * hit.m * otherM / (entityM + otherM);
          other.vel.y += hit.ny * hit.m * otherM / (entityM + otherM);
        }
      },

      clipVelocityAgainstWalls(entity) {
        for (let tile of Geometry.tilesHitByCircle(entity.pos, entity.vel, Constants.PLAYER_BOUND_RADIUS)) {
          if (!Geometry.tileIsPassable(tile.q, tile.r)) {
            let bounds = [Geometry.qr2xy(tile), Geometry.qr2xy({ q: tile.q + 1, r: tile.r + 1 })];
            let hit = Geometry.intersectCircleRectangle(
              entity.pos,
              { x: entity.pos.x + entity.vel.x, y: entity.pos.y + entity.vel.y },
              Constants.PLAYER_BOUND_RADIUS,
              bounds
            );

            // The "math" part of detecting collision with walls is buried in the geometry functions
            // above, but it's not the whole story -- if we do detect a collision, we still need to
            // decide what to do about it.
            //
            // If the normal vector is horizontal or vertical, we zero out the portion of the vector
            // moving into the wall, allowing frictionless sliding (if we wanted to apply friction,
            // we could also reduce the other axis slightly).
            //
            // If the normal vector is not 90*, we "back up" off the wall by exactly the normal vector.
            // If the player runs into a corner at EXACTLY a 45 degree angle, they will simply "stick"
            // on it -- but one degree left or right and they'll slide around the corner onto the wall,
            // which is the desired result.
            if (hit) {
              if (hit.nx === 0) {
                entity.vel.y = hit.y - entity.pos.y;
              } else if (hit.ny === 0) {
                entity.vel.x = hit.x - entity.pos.x;
              } else {
                entity.vel.x += hit.nx;
                entity.vel.y += hit.ny;
              }
            }
          }
        }
      }
    };

    /**
     * Damage
     */
    const Damage = {
      apply(entities) {
        for (let entity of entities) {
          if (typeof entity.hp === 'number') {
            if (entity.damage.length > 0) {
              for (let damage of entity.damage) {
                entity.hp -= damage.amount;
                damage.vector.m = 10; // push back amount
                entity.vel = Geometry.vectorAdd(entity.vel, damage.vector);
              }
              entity.damage = [];
            }
            if (entity.hp <= 0) entity.state = Behavior.DEAD;
          }
        }
      }
    };

    /*import { Input } from './Input';
    import { Player } from './Player';
    import { ScreenShake } from './ScreenShake';
    import { Hud } from './Hud';
    import { Menu, PauseMenu, IntroMenuA, IntroMenuB, OutroMenu } from './Menu';
    import { Audio } from './Audio';
    import { Assets, Sprite, drawPoly } from './Assets';
    import { Demon1 } from './Demon1';
    import { Canvas } from './Canvas';
    import { Particle, PortalParticle, SuperParticle } from './Particle';
    import { Hive } from './Hive';
    import { Point, intersectingPolygons, intersectingCircles, RAD, vectorFromAngle, distance } from './Geometry';
    import { HEARTBEAT } from './Config';
    import { Tween } from './Tween';
    */

    /**
     * Game state.
     */
    class Game {
        constructor() {
        }

        async init() {
            viewport.init();

            this.input = new Input();
            await this.input.init();

            this.maze = MazeGenerator.generate("apples");
            this.camera = { pos: { x: 1, y: 1 } };

            await Assets.init();
            await Text.init();

            this.entities = [];

            this.player = new Player();
            console.log(this.maze.rooms);
            this.player.pos.x = (this.maze.rooms[1][0].q + Math.floor(this.maze.rooms[1][0].width / 2)) * Constants.TILE_WIDTH + Constants.TILE_WIDTH / 2;
            this.player.pos.y = (this.maze.rooms[1][0].r + Math.floor(this.maze.rooms[1][0].height / 2)) * Constants.TILE_WIDTH + Constants.TILE_WIDTH / 2;

            this.entities.push(this.player);

            /*

            await Assets.init();

            this.artifacts = [
                await Assets.grayscaleNoise(this.canvas.width, this.canvas.height),
                await Assets.grayscaleNoise(this.canvas.width, this.canvas.height),
                await Assets.grayscaleNoise(this.canvas.width, this.canvas.height)
            ];

            this.input = new Input();
            await this.input.init();

            this.player = new Player();

            this.hud = new Hud();

            this.particles = [];
            this.screenshakes = [];
            this.menuStack = [];

            this.monsters = [];

            // Create, but do not initialize, the audio object. The audio object will be
            // initialized as soon as possible by the first user input event, to meet
            // requirements of the browser.
            this.audio = new Audio();

            this.score = 0;

            this.hive = new Hive();

            */
        }

        start() {
            this.frame = 0;

            this.started = true;
            this.update();
            this.started = false;

            /*
            this.menuStack.push(new IntroMenuA({
                onClose: () => {
                    this.menuStack.push(new IntroMenuB({}));
                }
            }));*/

            //this.framems = performance.now();
            window.requestAnimationFrame(() => this.onFrame(1));
            //this.frame = 0;
        }

        onFrame(currentms) {
            this.frame++;
            viewport.resize();
            this.update();
            this.draw(viewport.ctx);
            window.requestAnimationFrame(() => this.onFrame(currentms));
        }

        update() {
            // Pull in frame by frame button pushes / keypresses / mouse clicks
            this.input.update();

            // Behavior (AI, player input, etc.)
            Behavior.apply(this.entities);

            Damage.apply(this.entities);

            // Movement (apply entity velocity to position)
            Movement.apply(this.entities);

            // camera logic! where does it go! (an entity perhaps?)
            let diff = {
                x: this.player.pos.x - this.camera.pos.x,
                y: this.player.pos.y - this.camera.pos.y
            };
            this.camera.pos.x += diff.x * 0.2;
            this.camera.pos.y += diff.y * 0.2;

            this.spawnEnemy();

            // Culling Step
            this.entities = this.entities.filter(entity => !entity.cull);
        }

        spawnEnemy() {
            let enemies = this.entities.filter(entity => entity instanceof Monster);
            if (enemies.length < 4 && Math.random() < 0.1) {
                let q = this.maze.rooms[1][0].q + this.maze.rand(0, this.maze.rooms[1][0].width);
                let r = this.maze.rooms[1][0].r + this.maze.rand(0, this.maze.rooms[1][0].height);
                let monster = new Monster();
                monster.pos = Geometry.qr2xy({ q, r });
                this.entities.push(monster);
            }
        }

        draw(ctx) {
            ctx.setTransform(1, 0, 0, 1, 0, 0);
            ctx.scale(viewport.scale, viewport.scale);

            ctx.fillStyle = 'rgba(48,32,48,1)';
            ctx.fillRect(0, 0, viewport.width, viewport.height);

            /*ctx.fillStyle = 'rgba(150, 128, 128, 1)';
            ctx.fillRect(10, 10, 100, 100);*/

            this.drawMaze(ctx, this.maze);

            this.drawHud(ctx);

            Text.drawRightText(ctx, [viewport.scale, viewport.width, viewport.height].join(', '), viewport.width - 4, 10);

            /*
            Text.drawParagraph(ctx,
                "Hold down fire button to decrease spread and increase range." +
                " Most critical hits, when used, will go up 175%.",
                121, 50, 225, 100, Text.shadow, 1);
            Text.drawParagraph(ctx,
                "Hold down fire button to decrease spread and increase range." +
                " Most critical hits, when used, will go up 175%.",
                120, 50, 225, 100, Text.fire, 1);
                */

            let ptr = this.input.pointer;
            if (ptr) {
                Text.drawRightText(ctx, JSON.stringify(ptr), viewport.width - 4, 20);
                ctx.fillStyle = 'rgba(255, 120, 120, 1)';
                ctx.fillRect(ptr.u - 1, ptr.v - 1, 3, 3);
            }

            for (let entity of this.entities) {
                entity.draw(viewport);
            }

            // TODO
            // this.trace(viewport);

            // x

            /*
            ctx.fillStyle = 'rgba(150, 128, 128, 1)';
            ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);

            this.shadow.ctx.globalCompositeOperation = 'copy';
            //this.shadow.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);
            this.shadow.ctx.fillStyle = 'rgba(0, 0, 0, 0.99)';
            this.shadow.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);

            this.shadow.ctx.globalCompositeOperation = 'destination-out';
            let grd = this.shadow.ctx.createRadialGradient(game.player.x, game.player.y, 0, game.player.x, game.player.y, 200);
            grd.addColorStop(0, "rgba(0, 0, 0, 1)");
            grd.addColorStop(0.5, "rgba(0, 0, 0, 0.95)");
            grd.addColorStop(1, "rgba(0, 0, 0, 0)");
            this.shadow.ctx.fillStyle = grd;
            this.shadow.ctx.beginPath();
            this.shadow.ctx.arc(game.player.x, game.player.y, 200, 0, 2 * Math.PI);
            this.shadow.ctx.fill();

            for (let particle of this.particles.filter(p => p instanceof PortalParticle)) {
                let r = (particle as PortalParticle).effectiveRadius();
                this.shadow.ctx.globalCompositeOperation = 'destination-out';
                let grd = this.shadow.ctx.createRadialGradient(particle.x, particle.y, 0, particle.x, particle.y, r);
                grd.addColorStop(0, "rgba(0, 0, 0, 0.7)");
                grd.addColorStop(1, "rgba(0, 0, 0, 0)");
                this.shadow.ctx.fillStyle = grd;
                this.shadow.ctx.beginPath();
                this.shadow.ctx.arc(particle.x, particle.y, r, 0, 2 * Math.PI);
                this.shadow.ctx.fill();
            }

            this.shadow.ctx.globalCompositeOperation = 'source-atop';
            for (let monster of this.monsters) {
                this.shadow.ctx.beginPath();
                this.shadow.ctx.arc(monster.x, monster.y, 200, 0, 2 * Math.PI);
            }

            /*
              we don't even use bloodplanes (splatter terrain) anymore because i just
              render all of them as particles
            ctx.globalAlpha = 1 - this.bloodplanes[0][1] / this.bloodplanes[0][2];
            ctx.globalAlpha = 0.9;
            ctx.drawImage(this.bloodplanes[0][0].canvas, 0, 0);
            ctx.globalAlpha = 1 - this.bloodplanes[1][1] / this.bloodplanes[1][2];
            ctx.drawImage(this.bloodplanes[1][0].canvas, 0, 0);
            ctx.globalAlpha = 1 - this.bloodplanes[2][1] / this.bloodplanes[2][2];
            ctx.drawImage(this.bloodplanes[2][0].canvas, 0, 0);
            ctx.globalAlpha = 1;
            ctx.save();
            let shakeX = 0, shakeY = 0;
            this.screenshakes.forEach(shake => {
                shakeX += shake.x;
                shakeY += shake.y;
            });
            ctx.translate(shakeX, shakeY);

            // low-hanging fruit here (pre-render the map since it never changes)
            for (let i = 0; i < 16; i++) {
                for (let j = 0; j < 10; j++) {
                    let k = ((i * i * 13) + j * 17) % 9;
                    Sprite.drawSprite(ctx, Sprite.tiles[k], i * 32 - 16, j * 32 - 8);
                }
            }

            for (let particle of this.particles) if (!particle.foreground && !game.superFired) particle.draw(ctx);

            this.player.draw(ctx);

            //Text.renderText(ctx, 250, 120, 20, 'THE ELEPHANTS');
            //Text.renderText(ctx, 100, 200, 64, 'AB0123456789');
            //Text.renderText(ctx, 100, 150, 30, 'AB0123456789');

            for (let monster of this.monsters) monster.draw(ctx);

      //      var bubble = ctx.createLinearGradient(
            // Let's add blue noise?
            /*for (let i = 100; i < 300; i += 5) {
                for(let j = 100; j < 120; j += 5) {
                    let [x, y] = [Math.random() * 5, Math.random() * 5];
                    ctx.fillStyle = 'rgba(0,0,0,0.5)';
                    ctx.fillRect(i+Math.floor(x),j+Math.floor(y),1,1);
                }

            for (let particle of this.particles) if (particle.foreground) particle.draw(ctx);

            ctx.drawImage(this.shadow.canvas, 0, 0);
            let noiseLoop = Math.floor(this.frame / 8) % 3;
            ctx.globalAlpha = 0.06;
            ctx.drawImage(this.artifacts[noiseLoop].canvas, 0, 0);
            ctx.globalAlpha = 1;

            this.hud.draw(ctx);
            this.hive.draw(ctx);

            ctx.restore();

            /*
            if (this.frame % HEARTBEAT === 0 || (this.frame - 1) % HEARTBEAT === 0 || (this.frame - 2) % HEARTBEAT === 0) {
                ctx.fillStyle = 'rgba(255, 255, 30, 0.3)';
                ctx.fillRect(100, 0, 100, 10);
            */

            Menu.draw(viewport);
        }

        drawMaze(ctx, maze) {
            let offset = {
                x: viewport.center.u - this.camera.pos.x,
                y: viewport.center.v - this.camera.pos.y
            };
            for (let r = 0; r < maze.tiles.length; r++) {
                for (let q = 0; q < maze.tiles[r].length; q++) {
                    let x = q * 32 + offset.x, y = r * 32 + offset.y;
                    if (x < -50 || y < -50 || x > 500 || y > 500) continue;

                    let sprite = Sprite.tiles[maze.tiles[r][q] & 0b1111];
                    if (!sprite) throw new Error(`${q},${r} tile ${maze.tiles[r][q]}`);
                    ctx.drawImage(sprite.img, x, y);

                    sprite = Sprite.walls[maze.tiles[r][q] >> 4];
                    if (sprite) ctx.drawImage(sprite.img, x, y);

                    //if (this.maze.flowhome[r][q] < 100)
                    //Text.drawText(ctx, String(this.maze.flowhome[r][q]), x, y);

                    // commented for screenshots:
                    //Text.drawText(ctx, String(maze.tiles[r][q] >> 4), x, y);

                    //ctx.fillRect(q * 4 - this.camera.pos.x + this.center.pixel.u, r * 4 - this.camera.pos.y + this.center.pixel.v, 4, 4);
                }
            }
        }

        pointerXY() {
            if (!this.input.pointer) return;
            return this.uv2xy(this.input.pointer);
        }

        xy2uv(pos) {
            return {
                u: pos.x - this.camera.pos.x + viewport.center.u,
                v: pos.y - this.camera.pos.y + viewport.center.v
            };
        }

        uv2xy(pos) {
            return {
                x: pos.u - viewport.center.u + this.camera.pos.x,
                y: pos.v - viewport.center.v + this.camera.pos.y
            };
        }

        trace(viewport) {
            if (!this.input.pointer) return;
            let p = this.player;
            for (let e of this.entities) {
                if (p === e) continue;
                viewport.ctx.beginPath();
                viewport.ctx.strokeStyle = 'red';
                viewport.ctx.moveTo(viewport.center.u - this.camera.pos.x + p.pos.x,
                    viewport.center.v - this.camera.pos.y + p.pos.y);
                viewport.ctx.lineTo(this.input.pointer.u, this.input.pointer.v);
                viewport.ctx.stroke();

                this.raytrace(p.pos, this.pointerXY());
            }
        }

        // https://www.genericgamedev.com/general/shooting-rays-through-tilemaps/
        raytrace(p1, p2) {
            let redgreen = 'green';

            for (let { q, r } of Geometry.tilesHitBetween(p1, p2)) {
                let offset = {
                    x: viewport.center.u - this.camera.pos.x,
                    y: viewport.center.v - this.camera.pos.y
                };
                if (!game.maze.maze[r][q]) redgreen = 'red';
                let highlight = redgreen === 'red' ? 'rgba(255, 128, 128, 0.5)' : 'rgba(128, 255, 128, 0.5)';
                viewport.ctx.fillStyle = highlight;
                viewport.ctx.strokeStyle = highlight;
                viewport.ctx.fillRect(q * 32 + offset.x, r * 32 + offset.y, 32, 32);
                viewport.ctx.strokeRect(q * 32 + offset.x, r * 32 + offset.y, 32, 32);
                if (redgreen === 'red') break;
            }
        }

        drawHud(ctx) {
            let hp = Geometry.clamp(game.player.hp, 0, 100);
            ctx.drawImage(Sprite.hud_health_frame.img, 2, 2);
            ctx.drawImage(Sprite.hud_health_fill.img, 0, 0, hp + 8, 8, 2, 2, hp + 8, 8);

            let sprite = Sprite.hud_shells_full;
            for (let i = 0; i < game.player.shellsMax; i++) {
                if (i + 1 > game.player.shellsLeft) sprite = Sprite.hud_shells_empty;
                ctx.drawImage(sprite.img, 15 + 6 * i, 10);
            }
        }
    }

    const game = new Game();

    /**
     * Create and launch game.
     */
    game.init().then(() => game.start());

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwic291cmNlcyI6WyIuLi8uLi9zcmMvanMvQ29uc3RhbnRzLmpzIiwiLi4vLi4vc3JjL2pzL0NhbnZhcy5qcyIsIi4uLy4uL3NyYy9qcy9TcHJpdGVTaGVldC1nZW4uanMiLCIuLi8uLi9zcmMvanMvQXNzZXRzLmpzIiwiLi4vLi4vc3JjL2pzL2lucHV0L0tleWJvYXJkQWRhcHRlci5qcyIsIi4uLy4uL3NyYy9qcy9WaWV3cG9ydC5qcyIsIi4uLy4uL3NyYy9qcy9pbnB1dC9Nb3VzZUFkYXB0ZXIuanMiLCIuLi8uLi9zcmMvanMvaW5wdXQvSW5wdXQuanMiLCIuLi8uLi9zcmMvanMvR2VvbWV0cnkuanMiLCIuLi8uLi9zcmMvanMvUmFuZG9tLmpzIiwiLi4vLi4vc3JjL2pzL01hemVHZW5lcmF0b3IuanMiLCIuLi8uLi9zcmMvanMvVGV4dC5qcyIsIi4uLy4uL3NyYy9qcy9EZXRlY3Rpb24uanMiLCIuLi8uLi9zcmMvanMvc3lzdGVtcy9CZWhhdmlvci5qcyIsIi4uLy4uL3NyYy9qcy9Nb25zdGVyLmpzIiwiLi4vLi4vc3JjL2pzL1Nob3RndW5CbGFzdC5qcyIsIi4uLy4uL3NyYy9qcy9SZWxvYWRBbmltYXRpb24uanMiLCIuLi8uLi9zcmMvanMvUGxheWVyLmpzIiwiLi4vLi4vc3JjL2pzL01lbnUuanMiLCIuLi8uLi9zcmMvanMvc3lzdGVtcy9Nb3ZlbWVudC5qcyIsIi4uLy4uL3NyYy9qcy9zeXN0ZW1zL0RhbWFnZS5qcyIsIi4uLy4uL3NyYy9qcy9HYW1lLmpzIiwiLi4vLi4vc3JjL2pzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGNvbnN0IENvbnN0YW50cyA9IHtcbiAgICBSMDogMCxcbiAgICBSOTA6IE1hdGguUEkgKiAwLjUsXG4gICAgUjE4MDogTWF0aC5QSSxcbiAgICBSMjcwOiBNYXRoLlBJICogMS41LFxuICAgIFIzNjA6IE1hdGguUEkgKiAyLFxuXG4gICAgLy8gU2l6ZSBpbiBwaXhlbHMgb2YgdGlsZXMgaW4gdGhlIGdhbWUgbWF6ZVxuICAgIFRJTEVfV0lEVEg6IDMyLFxuICAgIFRJTEVfSEVJR0hUOiAzMixcblxuICAgIC8vIFRpbGUgY29uc3RhbnRzXG4gICAgVElMRV9GTE9PUjE6ICAgICAgICAgICAgMCxcbiAgICBUSUxFX0ZMT09SMjogICAgICAgICAgICAxLFxuICAgIFRJTEVfV0FMTDE6ICAgICAgICAgICAgIDIsXG4gICAgVElMRV9XQUxMMjogICAgICAgICAgICAgMyxcblxuICAgIFBMQVlFUl9CT1VORF9SQURJVVM6IDlcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVGhpcyBoZWxwZXIgY2xhc3MgZW5jYXBzdWxhdGVzIGNyZWF0aW5nIHRlbXBvcmFyeSBvZmYtc2NyZWVuIGNhbnZhc2VzLiBPZmYtc2NyZWVuXG4gKiBjYW52YXNlcyBhcmUgZ3JlYXQgdG9vbHMgZm9yIGJ1aWxkaW5nIHBhdHRlcm5zLCBpbWFnZSBtYXNrcywgYW5kIG90aGVyIGNvbXBvbmVudHNcbiAqIHRoYXQgd2UnbGwgdXNlIHRvIGRyYXcgdGhpbmdzIG9uIHRoZSBwcmltYXJ5IGNhbnZhcy5cbiAqL1xuZXhwb3J0IGNsYXNzIENhbnZhcyB7XG4gIGNvbnN0cnVjdG9yKHdpZHRoLCBoZWlnaHQpIHtcbiAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgIHRoaXMuY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBUaGlzIG1vZHVsZSBpcyBnZW5lcmF0ZSBieSBgZ3VscCBnZW5lcmF0ZVNwcml0ZVNoZWV0RGF0YWAuXG4gKi9cblxuICd1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGNvbnN0IFNwcml0ZVNoZWV0ID1cbi8qIDxnZW5lcmF0ZWQ+ICovXG57IGJ1bGxldF8xOiB7IHg6IDAsIHk6IDAsIHc6IDMyLCBoOiAzMiB9LFxuICBkZW1vbjFfMTogeyB4OiAwLCB5OiAzMiwgdzogMTYsIGg6IDIyIH0sXG4gIGRlbW9uMV8yOiB7IHg6IDE2LCB5OiAzMiwgdzogMTYsIGg6IDIyIH0sXG4gIGRlbW9uMV8zOiB7IHg6IDMyLCB5OiAzMiwgdzogMTYsIGg6IDIyIH0sXG4gIGRlbW9uMV80OiB7IHg6IDQ4LCB5OiAzMiwgdzogMTYsIGg6IDIyIH0sXG4gIGRlbW9uMV81OiB7IHg6IDY0LCB5OiAzMiwgdzogMTYsIGg6IDIyIH0sXG4gIGRlbW9uMV82OiB7IHg6IDgwLCB5OiAzMiwgdzogMTYsIGg6IDIyIH0sXG4gIGRlbW9uMV83OiB7IHg6IDk2LCB5OiAzMiwgdzogMTYsIGg6IDIyIH0sXG4gIGRlbW9uMV84OiB7IHg6IDExMiwgeTogMzIsIHc6IDE2LCBoOiAyMiB9LFxuICBkZW1vbjFfOTogeyB4OiAxMjgsIHk6IDMyLCB3OiAxNiwgaDogMjIgfSxcbiAgZGVtb24xXzEwOiB7IHg6IDE0NCwgeTogMzIsIHc6IDE2LCBoOiAyMiB9LFxuICBmb250XzE6IHsgeDogMCwgeTogNTQsIHc6IDIzNiwgaDogNiB9LFxuICBodWRfaGVhbHRoYmFyXzE6IHsgeDogMCwgeTogNjAsIHc6IDEwOSwgaDogOSB9LFxuICBodWRfaGVhbHRoYmFyXzI6IHsgeDogMTA5LCB5OiA2MCwgdzogMTA5LCBoOiA5IH0sXG4gIGh1ZF9zaGVsbHNfMTogeyB4OiAwLCB5OiA2OSwgdzogNiwgaDogNyB9LFxuICBodWRfc2hlbGxzXzI6IHsgeDogNiwgeTogNjksIHc6IDYsIGg6IDcgfSxcbiAgbW9uc3RlcjJfMTogeyB4OiAwLCB5OiA3NiwgdzogMzIsIGg6IDMyIH0sXG4gIG1vbnN0ZXIyXzI6IHsgeDogMzIsIHk6IDc2LCB3OiAzMiwgaDogMzIgfSxcbiAgcGFwZXJfMTogeyB4OiAwLCB5OiAxMDgsIHc6IDMyLCBoOiAzMiB9LFxuICBwYXBlcl8yOiB7IHg6IDMyLCB5OiAxMDgsIHc6IDMyLCBoOiAzMiB9LFxuICBwYXJ0aWNsZXNfMTogeyB4OiAwLCB5OiAxNDAsIHc6IDExLCBoOiAxMSB9LFxuICBwbGF5ZXJfMTogeyB4OiAwLCB5OiAxNTEsIHc6IDY0LCBoOiA2NCB9LFxuICBwbGF5ZXJfMjogeyB4OiA2NCwgeTogMTUxLCB3OiA2NCwgaDogNjQgfSxcbiAgcGxheWVyXzM6IHsgeDogMTI4LCB5OiAxNTEsIHc6IDY0LCBoOiA2NCB9LFxuICBwbGF5ZXJfNDogeyB4OiAxOTIsIHk6IDE1MSwgdzogNjQsIGg6IDY0IH0sXG4gIHBsYXllcl81OiB7IHg6IDI1NiwgeTogMTUxLCB3OiA2NCwgaDogNjQgfSxcbiAgcGxheWVyXzY6IHsgeDogMzIwLCB5OiAxNTEsIHc6IDY0LCBoOiA2NCB9LFxuICBwbGF5ZXJfNzogeyB4OiAzODQsIHk6IDE1MSwgdzogNjQsIGg6IDY0IH0sXG4gIHBsYXllcl84OiB7IHg6IDQ0OCwgeTogMTUxLCB3OiA2NCwgaDogNjQgfSxcbiAgcGxheWVyMl8xOiB7IHg6IDAsIHk6IDIxNSwgdzogMzIsIGg6IDMyIH0sXG4gIHBvcnRhbF8xOiB7IHg6IDAsIHk6IDI0NywgdzogMzIsIGg6IDMyIH0sXG4gIHNwYXJrbGVfMTogeyB4OiAwLCB5OiAyNzksIHc6IDExLCBoOiAxMSB9LFxuICB0aWxlc18xOiB7IHg6IDAsIHk6IDI5MCwgdzogMzIsIGg6IDMyIH0sXG4gIHRpbGVzXzI6IHsgeDogMzIsIHk6IDI5MCwgdzogMzIsIGg6IDMyIH0sXG4gIHRpbGVzXzM6IHsgeDogNjQsIHk6IDI5MCwgdzogMzIsIGg6IDMyIH0sXG4gIHRpbGVzXzQ6IHsgeDogOTYsIHk6IDI5MCwgdzogMzIsIGg6IDMyIH0sXG4gIHRpbGVzXzU6IHsgeDogMTI4LCB5OiAyOTAsIHc6IDMyLCBoOiAzMiB9LFxuICB0aWxlc182OiB7IHg6IDE2MCwgeTogMjkwLCB3OiAzMiwgaDogMzIgfSxcbiAgdGlsZXNfNzogeyB4OiAxOTIsIHk6IDI5MCwgdzogMzIsIGg6IDMyIH0sXG4gIHRpbGVzXzg6IHsgeDogMjI0LCB5OiAyOTAsIHc6IDMyLCBoOiAzMiB9LFxuICB0aWxlc185OiB7IHg6IDI1NiwgeTogMjkwLCB3OiAzMiwgaDogMzIgfSxcbiAgdGlsZXNldF8xOiB7IHg6IDAsIHk6IDMyMiwgdzogMzIsIGg6IDMyIH0sXG4gIHRpbGVzZXRfMjogeyB4OiAzMiwgeTogMzIyLCB3OiAzMiwgaDogMzIgfSxcbiAgdGlsZXNldF8zOiB7IHg6IDY0LCB5OiAzMjIsIHc6IDMyLCBoOiAzMiB9LFxuICB0aWxlc2V0XzQ6IHsgeDogOTYsIHk6IDMyMiwgdzogMzIsIGg6IDMyIH0sXG4gIHRpbGVzZXRfNTogeyB4OiAxMjgsIHk6IDMyMiwgdzogMzIsIGg6IDMyIH0sXG4gIHRpbGVzZXRfNjogeyB4OiAxNjAsIHk6IDMyMiwgdzogMzIsIGg6IDMyIH0sXG4gIHRpbGVzZXRfNzogeyB4OiAxOTIsIHk6IDMyMiwgdzogMzIsIGg6IDMyIH0sXG4gIHRpbGVzZXRfODogeyB4OiAyMjQsIHk6IDMyMiwgdzogMzIsIGg6IDMyIH0gfVxuLyogPC9nZW5lcmF0ZWQ+ICovXG47XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IENvbnN0YW50cyBhcyBDIH0gZnJvbSAnLi9Db25zdGFudHMnO1xuaW1wb3J0IHsgQ2FudmFzIH0gZnJvbSAnLi9DYW52YXMnO1xuaW1wb3J0IHsgU3ByaXRlU2hlZXQgfSBmcm9tICcuL1Nwcml0ZVNoZWV0LWdlbic7XG5cbmNvbnN0IFNQUklURVNIRUVUX1VSSSA9ICdzcHJpdGVzLnBuZyc7IC8vIHByb2R1Y2VkIGR1cmluZyBndWxwIGJ1aWxkXG5cbi8qKlxuICogU3ByaXRlcyFcbiAqXG4gKiBGb3IgdGhpcyBnYW1lLCBhIFwic3ByaXRlXCIgaXMgYSBsaXR0bGUgb2JqZWN0IHRoYXQgaGFzIGFuIGF0dGFjaGVkIGltYWdlLCBhbiBhbmNob3JcbiAqIHBvaW50LCBhIGJvdW5kaW5nIGJveCwgYW5kIGFuIG9wdGlvbmFsIGhpdCBib3guIFRoaXMga2VlcHMgcGl4ZWwtbGV2ZWwgZGF0YSBhYm91dFxuICogdGhlIGltYWdlIGFsbCBpbiBvbmUgcGxhY2UgKGJ5IHBhc3NpbmcgYSBTcHJpdGUgYXJvdW5kLCB3ZSBrbm93IHdoYXQgaW1hZ2UgdG8gZHJhdyxcbiAqIHdoYXQgcG9pbnQgaW4gdGhlIGltYWdlIHRvIHJvdGF0ZSBhcm91bmQsIHdoYXQgYXJlYXMgb2YgdGhlIGltYWdlIGNhbiBnZXQgaGl0IGJ5XG4gKiB0aGluZ3MsIGFuZCB3aGF0IGFyZWFzIGNhbiBoaXQgb3RoZXIgdGhpbmdzKS5cbiAqXG4gKiBXaGV0aGVyIHRoZSBib3VuZGluZyBib3ggb3IgaGl0Ym94IGRvIGFueXRoaW5nIGlzbid0IHVwIHRvIHRoZSBTcHJpdGUsIGl0IHdvdWxkIGJlXG4gKiB1cCB0byB0aGUgRnJhbWUgdGhhdCByZWZlcmVuY2VzIGl0LiAoVGhpcyBpcyBoZWxwZnVsIGJlY2F1c2UgaXQncyBjb252ZW5pZW50IGZvclxuICogYSBzaW1wbGUgZ2FtZSBsaWtlIHRoaXMgdG8gaGF2ZSBvbmx5IG9uZSBoaXQgZnJhbWUsIGJ1dCB0aGUgYW5pbWF0aW9uIG1heSBjYWxsXG4gKiBmb3Igc2hvd2luZyB0aGUgc3dvcmQgc3dpcGUgZm9yIDUtNiBmcmFtZXMuKVxuICovXG5leHBvcnQgY2xhc3MgU3ByaXRlIHtcbiAgLyoqXG4gICAqIEEgc21hbGwgaGVscGVyIHRoYXQgZHJhd3MgYSBzcHJpdGUgb250byBhIGNhbnZhcywgcmVzcGVjdGluZyB0aGUgYW5jaG9yIHBvaW50IG9mXG4gICAqIHRoZSBzcHJpdGUuIE5vdGUgdGhhdCB0aGUgY2FudmFzIHNob3VsZCBiZSBQUkUtVFJBTlNMQVRFRCBhbmQgUFJFLVJPVEFURUQsIGlmXG4gICAqIHRoYXQncyBhcHByb3ByaWF0ZSFcbiAgICovXG4gIHN0YXRpYyBkcmF3U3ByaXRlKGN0eCwgc3ByaXRlLCB1LCB2KSB7XG4gICAgY3R4LmRyYXdJbWFnZShzcHJpdGUuaW1nLCB1IC0gc3ByaXRlLmFuY2hvci54LCB2IC0gc3ByaXRlLmFuY2hvci55KTtcbiAgfVxuXG4gIHN0YXRpYyBkcmF3Vmlld3BvcnRTcHJpdGUodmlld3BvcnQsIHNwcml0ZSwgc3ByaXRlUG9zLCBjYW1lcmFQb3MpIHtcbiAgICB2aWV3cG9ydC5jdHguZHJhd0ltYWdlKFxuICAgICAgc3ByaXRlLmltZyxcbiAgICAgIHNwcml0ZVBvcy54IC0gc3ByaXRlLmFuY2hvci54IC0gY2FtZXJhUG9zLnggKyB2aWV3cG9ydC5jZW50ZXIudSxcbiAgICAgIHNwcml0ZVBvcy55IC0gc3ByaXRlLmFuY2hvci55IC0gY2FtZXJhUG9zLnkgKyB2aWV3cG9ydC5jZW50ZXIudlxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogRHJhdyBhIHNwcml0ZSdzIGJvdW5kaW5nIGJveCwgZm9yIGRlYnVnZ2luZywgdXNpbmcgdGhlIHNhbWUgcnVsZXMgYXMgZHJhd1Nwcml0ZS5cbiAgICovXG4gIHN0YXRpYyBkcmF3Qm91bmRpbmdCb3goY3R4LCBzcHJpdGUsIHgsIHkpIHtcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSAncmdiYSgwLCAyNTUsIDAsIDAuNSknO1xuICAgIGN0eC5zdHJva2VSZWN0KFxuICAgICAgeCAtIHNwcml0ZS5hbmNob3IueCArIHNwcml0ZS5iYm94WzBdLngsXG4gICAgICB5IC0gc3ByaXRlLmFuY2hvci55ICsgc3ByaXRlLmJib3hbMF0ueSxcbiAgICAgIHNwcml0ZS5iYm94WzFdLnggLSBzcHJpdGUuYmJveFswXS54LFxuICAgICAgc3ByaXRlLmJib3hbMV0ueSAtIHNwcml0ZS5iYm94WzBdLnlcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXcgYSBzcHJpdGUncyBoaXQgYm94LCBmb3IgZGVidWdnaW5nLCB1c2luZyB0aGUgc2FtZSBydWxlcyBhcyBkcmF3U3ByaXRlLlxuICAgKi9cbiAgc3RhdGljIGRyYXdIaXRCb3goY3R4LCBzcHJpdGUsIHgsIHkpIHtcbiAgICBpZiAoc3ByaXRlLmhib3gpIHtcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwgMCwgMCwgMC43KSc7XG4gICAgICBjdHguc3Ryb2tlUmVjdChcbiAgICAgICAgeCAtIHNwcml0ZS5hbmNob3IueCArIHNwcml0ZS5oYm94WzBdLngsXG4gICAgICAgIHkgLSBzcHJpdGUuYW5jaG9yLnkgKyBzcHJpdGUuaGJveFswXS55LFxuICAgICAgICBzcHJpdGUuaGJveFsxXS54IC0gc3ByaXRlLmhib3hbMF0ueCxcbiAgICAgICAgc3ByaXRlLmhib3hbMV0ueSAtIHNwcml0ZS5oYm94WzBdLnlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGdldEJvdW5kaW5nQ2lyY2xlKHNwcml0ZSwgeCwgeSkge1xuICAgIGxldCBkeCA9IHNwcml0ZS5iYm94WzFdLnggLSBzcHJpdGUuYmJveFswXS54O1xuICAgIGxldCBkeSA9IHNwcml0ZS5iYm94WzFdLnkgLSBzcHJpdGUuYmJveFswXS55O1xuICAgIGxldCByID0gKGR4ID4gZHkgPyBkeCA6IGR5KSAvIDI7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHggLSBzcHJpdGUuYW5jaG9yLnggKyAoc3ByaXRlLmJib3hbMF0ueCArIHNwcml0ZS5iYm94WzFdLngpIC8gMixcbiAgICAgIHk6IHkgLSBzcHJpdGUuYW5jaG9yLnkgKyAoc3ByaXRlLmJib3hbMF0ueSArIHNwcml0ZS5iYm94WzFdLnkpIC8gMixcbiAgICAgIHJcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGdldEJvdW5kaW5nQm94UG9seWdvbihzcHJpdGUsIHgsIHkpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTcHJpdGVCb3hQb2x5Z29uKHNwcml0ZS5hbmNob3IsIHNwcml0ZS5iYm94LCB4LCB5KTtcbiAgfVxuXG4gIHN0YXRpYyBnZXRIaXRCb3hQb2x5Z29uKHNwcml0ZSwgeCwgeSkge1xuICAgIHJldHVybiB0aGlzLmdldFNwcml0ZUJveFBvbHlnb24oc3ByaXRlLmFuY2hvciwgc3ByaXRlLmhib3gsIHgsIHkpO1xuICB9XG5cbiAgc3RhdGljIGdldFNwcml0ZUJveFBvbHlnb24oYW5jaG9yLCBib3gsIHgsIHkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogeCxcbiAgICAgIHk6IHksXG4gICAgICBwOiBbXG4gICAgICAgIHsgeDogYm94WzBdLnggLSBhbmNob3IueCwgeTogYm94WzBdLnkgLSBhbmNob3IueSB9LFxuICAgICAgICB7IHg6IGJveFsxXS54IC0gYW5jaG9yLngsIHk6IGJveFswXS55IC0gYW5jaG9yLnkgfSxcbiAgICAgICAgeyB4OiBib3hbMV0ueCAtIGFuY2hvci54LCB5OiBib3hbMV0ueSAtIGFuY2hvci55IH0sXG4gICAgICAgIHsgeDogYm94WzBdLnggLSBhbmNob3IueCwgeTogYm94WzFdLnkgLSBhbmNob3IueSB9XG4gICAgICBdXG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSBBc3NldHMgbW9kdWxlIGxvYWRzIHJhdyBQTkdzIHdlJ2xsIHVzZSB0byBkcmF3IHRoZSBnYW1lLCBkb2VzIGFueSBwb3N0cHJvY2Vzc2luZyBzdHVmZlxuICogd2UgbWlnaHQgbmVlZCB0byBkbywgYW5kIHRoZW4gc2F2ZXMgcmVmZXJlbmNlcyB0byB0aGVtIGZvciBsYXRlci5cbiAqL1xuZXhwb3J0IGNsYXNzIEFzc2V0cyB7XG4gIHN0YXRpYyBhc3luYyBpbml0KCkge1xuICAgIHRoaXMuaW1hZ2VzID0ge307XG5cbiAgICAvLyBCYXNlIFBpeGVsIEZvbnQgKHNlZSBgVGV4dC5pbml0YCBmb3IgYWRkaXRpb25hbCBtYW5pcHVsYXRpb24pXG4gICAgU3ByaXRlLmZvbnQgPSBhd2FpdCB0aGlzLmluaXRTcHJpdGUoU1BSSVRFU0hFRVRfVVJJLCBTcHJpdGVTaGVldC5mb250XzEpO1xuXG4gICAgLy8gUGxheWVyXG4gICAgU3ByaXRlLnBsYXllciA9IGF3YWl0IHRoaXMuaW5pdFNwcml0ZShTUFJJVEVTSEVFVF9VUkksIFNwcml0ZVNoZWV0LnBsYXllcjJfMSk7XG5cbiAgICAvLyBCdWxsZXRzXG4gICAgU3ByaXRlLmJ1bGxldCA9IGF3YWl0IHRoaXMuaW5pdFNwcml0ZShTUFJJVEVTSEVFVF9VUkksIFNwcml0ZVNoZWV0LmJ1bGxldF8xKTtcblxuICAgIC8vIEVuZW15XG4gICAgU3ByaXRlLm1vbnN0ZXIgPSBhd2FpdCB0aGlzLmluaXRTcHJpdGUoU1BSSVRFU0hFRVRfVVJJLCBTcHJpdGVTaGVldC5tb25zdGVyMl8xKTtcbiAgICBTcHJpdGUubW9uc3Rlcl9kZWFkID0gYXdhaXQgdGhpcy5pbml0U3ByaXRlKFNQUklURVNIRUVUX1VSSSwgU3ByaXRlU2hlZXQubW9uc3RlcjJfMik7XG4gICAgU3ByaXRlLmRlbW9uX3dhbGsgPSBhd2FpdCB0aGlzLmluaXRTcHJpdGUoU1BSSVRFU0hFRVRfVVJJLCBTcHJpdGVTaGVldC5kZW1vbjFfMSk7XG5cbiAgICAvLyBHVUlcbiAgICBTcHJpdGUuaHVkX3NoZWxsc19lbXB0eSA9IGF3YWl0IHRoaXMuaW5pdFNwcml0ZShTUFJJVEVTSEVFVF9VUkksIFNwcml0ZVNoZWV0Lmh1ZF9zaGVsbHNfMSk7XG4gICAgU3ByaXRlLmh1ZF9zaGVsbHNfZnVsbCA9IGF3YWl0IHRoaXMuaW5pdFNwcml0ZShTUFJJVEVTSEVFVF9VUkksIFNwcml0ZVNoZWV0Lmh1ZF9zaGVsbHNfMik7XG4gICAgU3ByaXRlLmh1ZF9oZWFsdGhfZnJhbWUgPSBhd2FpdCB0aGlzLmluaXRTcHJpdGUoU1BSSVRFU0hFRVRfVVJJLCBTcHJpdGVTaGVldC5odWRfaGVhbHRoYmFyXzEpO1xuICAgIFNwcml0ZS5odWRfaGVhbHRoX2ZpbGwgPSBhd2FpdCB0aGlzLmluaXRTcHJpdGUoU1BSSVRFU0hFRVRfVVJJLCBTcHJpdGVTaGVldC5odWRfaGVhbHRoYmFyXzIpO1xuXG4gICAgLy8gVGlsZXNcbiAgICBTcHJpdGUudGlsZXMgPSBbXTtcbiAgICBTcHJpdGUudGlsZXNbQy5USUxFX0ZMT09SMV0gPSBhd2FpdCB0aGlzLmluaXRTcHJpdGUoU1BSSVRFU0hFRVRfVVJJLCBTcHJpdGVTaGVldC50aWxlc2V0XzMpO1xuICAgIFNwcml0ZS50aWxlc1tDLlRJTEVfV0FMTDFdID0gYXdhaXQgdGhpcy5pbml0U3ByaXRlKFNQUklURVNIRUVUX1VSSSwgU3ByaXRlU2hlZXQudGlsZXNldF8xKTtcbiAgICBTcHJpdGUudGlsZXNbQy5USUxFX1dBTEwyXSA9IGF3YWl0IHRoaXMuaW5pdFNwcml0ZShTUFJJVEVTSEVFVF9VUkksIFNwcml0ZVNoZWV0LnRpbGVzZXRfMik7XG5cbiAgICAvLyBXYWxsc1xuICAgIGxldCBlZGdlID0gYXdhaXQgdGhpcy5pbml0U3ByaXRlKFNQUklURVNIRUVUX1VSSSwgU3ByaXRlU2hlZXQudGlsZXNldF81KTtcbiAgICBsZXQgdHVybiA9IGF3YWl0IHRoaXMuaW5pdFNwcml0ZShTUFJJVEVTSEVFVF9VUkksIFNwcml0ZVNoZWV0LnRpbGVzZXRfNik7XG4gICAgbGV0IGRlYWRlbmQgPSBhd2FpdCB0aGlzLmluaXRTcHJpdGUoU1BSSVRFU0hFRVRfVVJJLCBTcHJpdGVTaGVldC50aWxlc2V0XzcpO1xuICAgIGxldCBjb3JuZXIgPSBhd2FpdCB0aGlzLmluaXRTcHJpdGUoU1BSSVRFU0hFRVRfVVJJLCBTcHJpdGVTaGVldC50aWxlc2V0XzgpO1xuXG4gICAgU3ByaXRlLndhbGxzID0gW107XG4gICAgU3ByaXRlLndhbGxzWzBiMDAwXzEwMF8wMDBdID1cbiAgICBTcHJpdGUud2FsbHNbMGIxMDBfMTAwXzAwMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjAwMF8xMDBfMTAwXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMTAwXzEwMF8xMDBdID0gZWRnZTtcblxuICAgIFNwcml0ZS53YWxsc1swYjAwMF8wMDFfMDAwXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMDAxXzAwMV8wMDBdID1cbiAgICBTcHJpdGUud2FsbHNbMGIwMDBfMDAxXzAwMV0gPVxuICAgIFNwcml0ZS53YWxsc1swYjAwMV8wMDFfMDAxXSA9IHRoaXMuaW5pdER5bmFtaWNTcHJpdGUodGhpcy5yb3RhdGVJbWFnZShlZGdlLmltZywgQy5SMTgwKSk7XG5cbiAgICBTcHJpdGUud2FsbHNbMGIwMTBfMDAwXzAwMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjExMF8wMDBfMDAwXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMDExXzAwMF8wMDBdID1cbiAgICBTcHJpdGUud2FsbHNbMGIxMTFfMDAwXzAwMF0gPSB0aGlzLmluaXREeW5hbWljU3ByaXRlKHRoaXMucm90YXRlSW1hZ2UoZWRnZS5pbWcsIEMuUjkwKSk7XG5cbiAgICBTcHJpdGUud2FsbHNbMGIwMDBfMDAxXzAwMF0gPSB0aGlzLmluaXREeW5hbWljU3ByaXRlKHRoaXMucm90YXRlSW1hZ2UoZWRnZS5pbWcsIEMuUjE4MCkpO1xuICAgIFNwcml0ZS53YWxsc1swYjAwMF8wMDBfMDEwXSA9IHRoaXMuaW5pdER5bmFtaWNTcHJpdGUodGhpcy5yb3RhdGVJbWFnZShlZGdlLmltZywgQy5SMjcwKSk7XG5cbiAgICBTcHJpdGUud2FsbHNbMGIwMTBfMTAwXzAwMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjExMF8xMDBfMDAwXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMDExXzEwMF8wMDBdID1cbiAgICBTcHJpdGUud2FsbHNbMGIxMTFfMTAwXzAwMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjAxMV8xMDBfMTAwXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMDEwXzEwMF8xMDBdID1cbiAgICBTcHJpdGUud2FsbHNbMGIwMTFfMTAwXzEwMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjExMV8xMDBfMTAwXSA9IHR1cm47XG5cbiAgICBTcHJpdGUud2FsbHNbMGIwMTBfMDAxXzAwMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjAxMV8wMDFfMDAwXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMTEwXzAwMV8wMDBdID1cbiAgICBTcHJpdGUud2FsbHNbMGIxMTFfMDAxXzAwMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjAxMF8wMDFfMDAxXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMDExXzAwMV8wMDFdID1cbiAgICBTcHJpdGUud2FsbHNbMGIxMTFfMDAxXzAwMV0gPVxuICAgIFNwcml0ZS53YWxsc1swYjExMF8wMDFfMDAxXSA9IHRoaXMuaW5pdER5bmFtaWNTcHJpdGUodGhpcy5yb3RhdGVJbWFnZSh0dXJuLmltZywgQy5SOTApKTtcblxuICAgIFNwcml0ZS53YWxsc1swYjAwMF8wMDFfMDEwXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMDAwXzAwMV8wMTFdID1cbiAgICBTcHJpdGUud2FsbHNbMGIwMDBfMDAxXzExMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjAwMF8wMDFfMTExXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMDAxXzAwMV8wMTBdID1cbiAgICBTcHJpdGUud2FsbHNbMGIwMDFfMDAxXzAxMV0gPVxuICAgIFNwcml0ZS53YWxsc1swYjAwMV8wMDFfMTEwXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMDAxXzAwMV8xMTFdID0gdGhpcy5pbml0RHluYW1pY1Nwcml0ZSh0aGlzLnJvdGF0ZUltYWdlKHR1cm4uaW1nLCBDLlIxODApKTtcblxuICAgIFNwcml0ZS53YWxsc1swYjAwMF8xMDBfMDEwXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMDAwXzEwMF8wMTFdID1cbiAgICBTcHJpdGUud2FsbHNbMGIwMDBfMTAwXzExMF0gPVxuICAgIFNwcml0ZS53YWxsc1swYjAwMF8xMDBfMTExXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMTAwXzEwMF8wMTBdID1cbiAgICBTcHJpdGUud2FsbHNbMGIxMDBfMTAwXzAxMV0gPVxuICAgIFNwcml0ZS53YWxsc1swYjEwMF8xMDBfMTEwXSA9XG4gICAgU3ByaXRlLndhbGxzWzBiMTAwXzEwMF8xMTFdID0gdGhpcy5pbml0RHluYW1pY1Nwcml0ZSh0aGlzLnJvdGF0ZUltYWdlKHR1cm4uaW1nLCBDLlIyNzApKTtcblxuICAgIFNwcml0ZS53YWxsc1swYjEwMF8wMDBfMDAwXSA9IGNvcm5lcjtcbiAgICBTcHJpdGUud2FsbHNbMGIwMDFfMDAwXzAwMF0gPSB0aGlzLmluaXREeW5hbWljU3ByaXRlKHRoaXMucm90YXRlSW1hZ2UoY29ybmVyLmltZywgQy5SOTApKTtcbiAgICBTcHJpdGUud2FsbHNbMGIwMDBfMDAwXzAwMV0gPSB0aGlzLmluaXREeW5hbWljU3ByaXRlKHRoaXMucm90YXRlSW1hZ2UoY29ybmVyLmltZywgQy5SMTgwKSk7XG4gICAgU3ByaXRlLndhbGxzWzBiMDAwXzAwMF8xMDBdID0gdGhpcy5pbml0RHluYW1pY1Nwcml0ZSh0aGlzLnJvdGF0ZUltYWdlKGNvcm5lci5pbWcsIEMuUjI3MCkpO1xuXG4gICAgU3ByaXRlLndhbGxzWzBiMTAxXzAwMF8wMDBdID0gdGhpcy5pbml0RHluYW1pY1Nwcml0ZSh0aGlzLm92ZXJsYXkoU3ByaXRlLndhbGxzWzBiMTAwXzAwMF8wMDBdLmltZywgU3ByaXRlLndhbGxzWzBiMDAxXzAwMF8wMDBdLmltZykpO1xuICAgIFNwcml0ZS53YWxsc1swYjAwMF8wMDBfMTAxXSA9IHRoaXMuaW5pdER5bmFtaWNTcHJpdGUodGhpcy5vdmVybGF5KFNwcml0ZS53YWxsc1swYjAwMF8wMDBfMTAwXS5pbWcsIFNwcml0ZS53YWxsc1swYjAwMF8wMDBfMDAxXS5pbWcpKTtcbiAgICBTcHJpdGUud2FsbHNbMGIxMDBfMDAwXzEwMF0gPSB0aGlzLmluaXREeW5hbWljU3ByaXRlKHRoaXMub3ZlcmxheShTcHJpdGUud2FsbHNbMGIxMDBfMDAwXzAwMF0uaW1nLCBTcHJpdGUud2FsbHNbMGIwMDBfMDAwXzEwMF0uaW1nKSk7XG4gICAgU3ByaXRlLndhbGxzWzBiMDAxXzAwMF8wMDFdID0gdGhpcy5pbml0RHluYW1pY1Nwcml0ZSh0aGlzLm92ZXJsYXkoU3ByaXRlLndhbGxzWzBiMDAxXzAwMF8wMDBdLmltZywgU3ByaXRlLndhbGxzWzBiMDAwXzAwMF8wMDFdLmltZykpO1xuXG4vKlxuICAgIGxldCBzcHJpdGUgPSBhd2FpdCB0aGlzLmluaXRTcHJpdGUoU1BSSVRFU0hFRVRfVVJJLCBTcHJpdGVTaGVldC50aWxlc2V0XzUpO1xuICAgIFNwcml0ZS50aWxlc1tDLlRJTEVfRkxPT1JfRURHRV9MXSA9IHNwcml0ZTtcbiAgICBTcHJpdGUudGlsZXNbQy5USUxFX0ZMT09SX0VER0VfVF0gPSB0aGlzLmluaXREeW5hbWljU3ByaXRlKHRoaXMucm90YXRlSW1hZ2Uoc3ByaXRlLmltZywgTWF0aC5QSSAqIDAuNSkpO1xuICAgIFNwcml0ZS50aWxlc1tDLlRJTEVfRkxPT1JfRURHRV9SXSA9IHRoaXMuaW5pdER5bmFtaWNTcHJpdGUodGhpcy5yb3RhdGVJbWFnZShzcHJpdGUuaW1nLCBNYXRoLlBJICogMS4wKSk7XG4gICAgU3ByaXRlLnRpbGVzW0MuVElMRV9GTE9PUl9FREdFX0JdID0gdGhpcy5pbml0RHluYW1pY1Nwcml0ZSh0aGlzLnJvdGF0ZUltYWdlKHNwcml0ZS5pbWcsIE1hdGguUEkgKiAxLjUpKTtcblxuICAgIHNwcml0ZSA9IGF3YWl0IHRoaXMuaW5pdFNwcml0ZShTUFJJVEVTSEVFVF9VUkksIFNwcml0ZVNoZWV0LnRpbGVzZXRfNyk7XG4gICAgU3ByaXRlLnRpbGVzW0MuVElMRV9GTE9PUl9FREdFX0xUXSA9IHNwcml0ZTtcbiAgICBTcHJpdGUudGlsZXNbQy5USUxFX0ZMT09SX0VER0VfVFJdID0gdGhpcy5pbml0RHluYW1pY1Nwcml0ZSh0aGlzLnJvdGF0ZUltYWdlKHNwcml0ZS5pbWcsIE1hdGguUEkgKiAwLjUpKTtcbiAgICBTcHJpdGUudGlsZXNbQy5USUxFX0ZMT09SX0VER0VfUkJdID0gdGhpcy5pbml0RHluYW1pY1Nwcml0ZSh0aGlzLnJvdGF0ZUltYWdlKHNwcml0ZS5pbWcsIE1hdGguUEkgKiAxLjApKTtcbiAgICBTcHJpdGUudGlsZXNbQy5USUxFX0ZMT09SX0VER0VfQkxdID0gdGhpcy5pbml0RHluYW1pY1Nwcml0ZSh0aGlzLnJvdGF0ZUltYWdlKHNwcml0ZS5pbWcsIE1hdGguUEkgKiAxLjUpKTtcblxuICAgIHNwcml0ZSA9IGF3YWl0IHRoaXMuaW5pdFNwcml0ZShTUFJJVEVTSEVFVF9VUkksIFNwcml0ZVNoZWV0LnRpbGVzZXRfOCk7XG4gICAgU3ByaXRlLnRpbGVzW0MuVElMRV9GTE9PUl9FREdFX0xUUl0gPSBzcHJpdGU7XG4gICAgU3ByaXRlLnRpbGVzW0MuVElMRV9GTE9PUl9FREdFX1RSQl0gPSB0aGlzLmluaXREeW5hbWljU3ByaXRlKHRoaXMucm90YXRlSW1hZ2Uoc3ByaXRlLmltZywgTWF0aC5QSSAqIDAuNSkpO1xuICAgIFNwcml0ZS50aWxlc1tDLlRJTEVfRkxPT1JfRURHRV9SQkxdID0gdGhpcy5pbml0RHluYW1pY1Nwcml0ZSh0aGlzLnJvdGF0ZUltYWdlKHNwcml0ZS5pbWcsIE1hdGguUEkgKiAxLjApKTtcbiAgICBTcHJpdGUudGlsZXNbQy5USUxFX0ZMT09SX0VER0VfQkxUXSA9IHRoaXMuaW5pdER5bmFtaWNTcHJpdGUodGhpcy5yb3RhdGVJbWFnZShzcHJpdGUuaW1nLCBNYXRoLlBJICogMS41KSk7XG5cbiAgICBzcHJpdGUgPSBhd2FpdCB0aGlzLmluaXRTcHJpdGUoU1BSSVRFU0hFRVRfVVJJLCBTcHJpdGVTaGVldC50aWxlc2V0XzYpO1xuICAgIFNwcml0ZS50aWxlc1tDLlRJTEVfRkxPT1JfRURHRV9MUl0gPSBzcHJpdGU7XG4gICAgU3ByaXRlLnRpbGVzW0MuVElMRV9GTE9PUl9FREdFX1RCXSA9IHRoaXMuaW5pdER5bmFtaWNTcHJpdGUodGhpcy5yb3RhdGVJbWFnZShzcHJpdGUuaW1nLCBNYXRoLlBJICogMC41KSk7XG4vLyBUSUxFX0ZMT09SMTogICAgICAgICAgICAwLFxuLy8gVElMRV9GTE9PUjI6ICAgICAgICAgICAgMSxcbi8vIFRJTEVfRkxPT1JfRURHRV9MOiAgICAgMjAsXG4vLyBUSUxFX0ZMT09SX0VER0VfVDogICAgIDIxLFxuLy8gVElMRV9GTE9PUl9FREdFX1I6ICAgICAyMixcbi8vIFRJTEVfRkxPT1JfRURHRV9COiAgICAgMjMsXG4vLyBUSUxFX0ZMT09SX0VER0VfTFQ6ICAgIDI0LFxuLy8gVElMRV9GTE9PUl9FREdFX1RSOiAgICAyNSxcbi8vIFRJTEVfRkxPT1JfRURHRV9SQjogICAgMjYsXG4vLyBUSUxFX0ZMT09SX0VER0VfQkw6ICAgIDI3LFxuLy8gVElMRV9GTE9PUl9FREdFX0xUUjogICAyOCxcbi8vIFRJTEVfRkxPT1JfRURHRV9UUkI6ICAgMjksXG4vLyBUSUxFX0ZMT09SX0VER0VfUkJMOiAgIDMwLFxuLy8gVElMRV9GTE9PUl9FREdFX0JMVDogICAzMSxcbi8vIFRJTEVfRkxPT1JfRURHRV9MUjogICAgMzIsXG4vLyBUSUxFX0ZMT09SX0VER0VfVEI6ICAgIDMzLFxuLy8gVElMRV9GTE9PUl9DT1JORVJfTFQ6ICAzNCxcbi8vIFRJTEVfRkxPT1JfQ09STkVSX1RSOiAgMzUsXG4vLyBUSUxFX0ZMT09SX0NPUk5FUl9SQjogIDM2LFxuLy8gVElMRV9GTE9PUl9DT1JORVJfQkw6ICAzNyxcbi8vIFRJTEVfRkxPT1JfQ09STkVSX0xSOiAgMzksXG4gICAgU3ByaXRlLnRpbGVzW0MuVElMRV9XQUxMMV0gPSBhd2FpdCB0aGlzLmluaXRTcHJpdGUoU1BSSVRFU0hFRVRfVVJJLCBTcHJpdGVTaGVldC50aWxlc2V0XzEpO1xuICAgIFNwcml0ZS50aWxlc1tDLlRJTEVfV0FMTDJdID0gYXdhaXQgdGhpcy5pbml0U3ByaXRlKFNQUklURVNIRUVUX1VSSSwgU3ByaXRlU2hlZXQudGlsZXNldF8yKTtcbiAgICAqL1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGEgc3ByaXRlIGJ5IGxvYWRpbmcgaXQgZnJvbSBhIHBhcnRpY3VsYXIgc2xpY2Ugb2YgdGhlIGdpdmVuIGltYWdlLiBQcm92aWRlc1xuICAgKiBcInNlbnNpYmxlXCIgZGVmYXVsdHMgZm9yIGJvdW5kaW5nIGJveCBhbmQgYW5jaG9yIHBvaW50IGlmIG5vdCBwcm92aWRlZC5cbiAgICovXG4gIHN0YXRpYyBhc3luYyBpbml0U3ByaXRlKHVyaSwgZGF0YSwgb3B0cykge1xuICAgIHJldHVybiB0aGlzLmluaXREeW5hbWljU3ByaXRlKGF3YWl0IHRoaXMubG9hZFNsaWNlKHVyaSwgZGF0YS54LCBkYXRhLnksIGRhdGEudywgZGF0YS5oKSwgb3B0cyk7XG4gIH1cblxuICBzdGF0aWMgcm90YXRlSW1hZ2Uoc291cmNlLCByYWQpIHtcbiAgICBsZXQgY2FudmFzID0gbmV3IENhbnZhcyhzb3VyY2Uud2lkdGgsIHNvdXJjZS5oZWlnaHQpO1xuICAgIGNhbnZhcy5jdHgudHJhbnNsYXRlKHNvdXJjZS53aWR0aCAvIDIsIHNvdXJjZS5oZWlnaHQgLyAyKTtcbiAgICBjYW52YXMuY3R4LnJvdGF0ZShyYWQpO1xuICAgIGNhbnZhcy5jdHgudHJhbnNsYXRlKC1zb3VyY2Uud2lkdGggLyAyLCAtc291cmNlLmhlaWdodCAvIDIpO1xuICAgIGNhbnZhcy5jdHguZHJhd0ltYWdlKHNvdXJjZSwgMCwgMCk7XG4gICAgcmV0dXJuIGNhbnZhcy5jYW52YXM7XG4gIH1cblxuICBzdGF0aWMgb3ZlcmxheSguLi5zb3VyY2VzKSB7XG4gICAgbGV0IGNhbnZhcyA9IG5ldyBDYW52YXMoc291cmNlc1swXS53aWR0aCwgc291cmNlc1swXS5oZWlnaHQpO1xuICAgIGZvciAobGV0IHNvdXJjZSBvZiBzb3VyY2VzKSB7XG4gICAgICBjYW52YXMuY3R4LmRyYXdJbWFnZShzb3VyY2UsIDAsIDApO1xuICAgIH1cbiAgICByZXR1cm4gY2FudmFzLmNhbnZhcztcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGEgc3ByaXRlIGJ5IHBhc3NpbmcgaXQgYSBwcmUtZGVmaW5lZCBpbWFnZSBzb3VyY2UgKHByb2JhYmx5IGdlbmVyYXRlZCBkeW5hbWljYWxseSkuXG4gICAqIFByb3ZpZGVzIFwic2Vuc2libGVcIiBkZWZhdWx0cyBmb3IgYm91bmRpbmcgYm94IGFuZCBhbmNob3IgcG9pbnQgaWYgbm90IHByb3ZpZGVkLlxuICAgKi9cbiAgc3RhdGljIGluaXREeW5hbWljU3ByaXRlKHNvdXJjZSwgb3B0cykge1xuICAgIGxldCB3ID0gc291cmNlLndpZHRoLCBoID0gc291cmNlLmhlaWdodDtcblxuICAgIHJldHVybiB7XG4gICAgICBpbWc6IHNvdXJjZSxcbiAgICAgIGFuY2hvcjogKG9wdHMgJiYgb3B0cy5hbmNob3IpIHx8IHsgeDogTWF0aC5mbG9vcih3IC8gMiksIHk6IE1hdGguZmxvb3IoaCAvIDIpIH0sXG4gICAgICBiYm94OiAob3B0cyAmJiBvcHRzLmJib3gpIHx8IFt7eDogMCwgeTogMCB9LCB7IHg6IHcsIHk6IGggfV0sXG4gICAgICBoYm94OiBvcHRzICYmIG9wdHMuaGJveFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBoZWxwZXIgbWV0aG9kIHJldHJpZXZlcyBhIGNhY2hlZCBpbWFnZSwgY3V0cyB0aGUgc3BlY2lmaWVkIHNsaWNlIG91dCBvZiBpdCwgYW5kIHJldHVybnMgaXQuXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgbG9hZFNsaWNlKHVyaSwgeCwgeSwgdywgaCkge1xuICAgIGNvbnN0IHNvdXJjZSA9IGF3YWl0IHRoaXMubG9hZEltYWdlKHVyaSk7XG4gICAgY29uc3Qgc2xpY2VDYW52YXMgPSBuZXcgQ2FudmFzKHcsIGgpO1xuICAgIHNsaWNlQ2FudmFzLmN0eC5kcmF3SW1hZ2Uoc291cmNlLCB4LCB5LCB3LCBoLCAwLCAwLCB3LCBoKTtcbiAgICByZXR1cm4gc2xpY2VDYW52YXMuY2FudmFzO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgdGhlIGltYWdlIGZyb20gdGhlIGdpdmVuIFVSSSBhbmQgY2FjaGUgaXQuXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgbG9hZEltYWdlKHVyaSkge1xuICAgIGlmICh0aGlzLmltYWdlc1t1cmldKSByZXR1cm4gdGhpcy5pbWFnZXNbdXJpXTtcblxuICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBsZXQgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbiAgICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHJlc29sdmUoaW1hZ2UpO1xuICAgICAgaW1hZ2Uub25lcnJvciA9IChlcnIpID0+IHJlamVjdChlcnIpO1xuICAgICAgaW1hZ2Uuc3JjID0gdXJpO1xuICAgICAgdGhpcy5pbWFnZXNbdXJpXSA9IGltYWdlO1xuICAgIH0pO1xuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IElucHV0IH0gZnJvbSAnLi9JbnB1dCc7XG5cbi8vIEEgZmV3IHF1aWNrIGNvbnN0YW50cyAoMCosIDQ1KiwgOTAqKVxuY29uc3QgQTAwID0gMDtcbmNvbnN0IEE0NSA9IDAuNzA3MTA2NzgxMTg2NTQ3NTtcbmNvbnN0IEE5MCA9IDE7XG5cbi8qKlxuICogS2V5Ym9hcmRBZGFwdGVyXG4gKlxuICogTWFwcyBrZXlib2FyZCBpbnB1dHMgdG8gZ2FtZSBpbnB1dHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBLZXlib2FyZEFkYXB0ZXIge1xuICBjb25zdHJ1Y3RvcihoYW5kbGVyKSB7XG4gICAgdGhpcy5oYW5kbGVyID0gaGFuZGxlcjtcblxuICAgIC8vIEtleSBNYXBwaW5nOiAgICAgIEFDVElPTiAgICAgICAgICAgIC8vIEtleVxuICAgIHRoaXMubWFwID0gW107XG4gICAgdGhpcy5tYXBbODhdID0gSW5wdXQuQWN0aW9uLkFUVEFDSzsgICAgLy8gW1hdXG4gICAgdGhpcy5tYXBbOTBdID0gSW5wdXQuQWN0aW9uLkRFRkxFQ1Q7ICAgLy8gW1pdXG4gICAgdGhpcy5tYXBbNjddID0gSW5wdXQuQWN0aW9uLkRPREdFOyAgICAgLy8gW0NdXG4gICAgdGhpcy5tYXBbMzJdID0gSW5wdXQuQWN0aW9uLlNVUEVSOyAgICAgLy8gW1NQQUNFQkFSXVxuICAgIHRoaXMubWFwWzM4XSA9IElucHV0LkFjdGlvbi5VUDsgICAgICAgIC8vIFtVcEFycm93XVxuICAgIHRoaXMubWFwWzQwXSA9IElucHV0LkFjdGlvbi5ET1dOOyAgICAgIC8vIFtEb3duQXJyb3ddXG4gICAgdGhpcy5tYXBbMzddID0gSW5wdXQuQWN0aW9uLkxFRlQ7ICAgICAgLy8gW0xlZnRBcnJvd11cbiAgICB0aGlzLm1hcFszOV0gPSBJbnB1dC5BY3Rpb24uUklHSFQ7ICAgICAvLyBbUmlnaHRBcnJvd11cbiAgICB0aGlzLm1hcFs4N10gPSBJbnB1dC5BY3Rpb24uVVA7ICAgICAgICAvLyBbV11cbiAgICB0aGlzLm1hcFs4M10gPSBJbnB1dC5BY3Rpb24uRE9XTjsgICAgICAvLyBbU11cbiAgICB0aGlzLm1hcFs2NV0gPSBJbnB1dC5BY3Rpb24uTEVGVDsgICAgICAvLyBbQV1cbiAgICB0aGlzLm1hcFs2OF0gPSBJbnB1dC5BY3Rpb24uUklHSFQ7ICAgICAvLyBbRF1cbiAgICB0aGlzLm1hcFsyN10gPSBJbnB1dC5BY3Rpb24uTUVOVTsgICAgICAvLyBbRVNDXVxuICAgIHRoaXMubWFwWzc3XSA9IElucHV0LkFjdGlvbi5NVVRFOyAgICAgIC8vIFtNXVxuICAgIHRoaXMubWFwWzcwXSA9IElucHV0LkFjdGlvbi5GUkVFWkU7ICAgIC8vIFtGXVxuICAgIHRoaXMubWFwWzgwXSA9IElucHV0LkFjdGlvbi5GUkVFWkU7ICAgIC8vIFtQXVxuXG4gICAgLy8gRm9yIGtleWJvYXJkLCB3ZSBzdXBwb3J0IDgtcG9pbnQgbW92ZW1lbnQgKFMsIEUsIFNFLCBldGMuKVxuICAgIHRoaXMuYXJyb3dEaXJlY3Rpb25zID0gW1xuICAgICAgeyB4OiAgQTAwLCB5OiAgQTAwLCBtOiAwIH0sXG4gICAgICB7IHg6ICBBMDAsIHk6IC1BOTAsIG06IDEgfSxcbiAgICAgIHsgeDogIEEwMCwgeTogIEE5MCwgbTogMSB9LFxuICAgICAgeyB4OiAgQTAwLCB5OiAgQTAwLCBtOiAwIH0sXG4gICAgICB7IHg6IC1BOTAsIHk6ICBBMDAsIG06IDEgfSxcbiAgICAgIHsgeDogLUE0NSwgeTogLUE0NSwgbTogMSB9LFxuICAgICAgeyB4OiAtQTQ1LCB5OiAgQTQ1LCBtOiAxIH0sXG4gICAgICB7IHg6IC1BOTAsIHk6ICBBMDAsIG06IDEgfSxcbiAgICAgIHsgeDogIEE5MCwgeTogIEEwMCwgbTogMSB9LFxuICAgICAgeyB4OiAgQTQ1LCB5OiAtQTQ1LCBtOiAxIH0sXG4gICAgICB7IHg6ICBBNDUsIHk6ICBBNDUsIG06IDEgfSxcbiAgICAgIHsgeDogIEE5MCwgeTogIEEwMCwgbTogMSB9LFxuICAgICAgeyB4OiAgQTAwLCB5OiAgQTAwLCBtOiAwIH0sXG4gICAgICB7IHg6ICBBMDAsIHk6IC1BOTAsIG06IDEgfSxcbiAgICAgIHsgeDogIEEwMCwgeTogIEE5MCwgbTogMSB9LFxuICAgICAgeyB4OiAgQTAwLCB5OiAgQTAwLCBtOiAwIH1cbiAgICBdO1xuXG4gICAgdGhpcy5oZWxkID0gW107XG5cbiAgICB0aGlzLnJlc2V0KCk7XG4gIH1cblxuICBhc3luYyBpbml0KCkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZXZlbnQgPT4ge1xuICAgICAgbGV0IGsgPSB0aGlzLm1hcFtldmVudC5rZXlDb2RlXTtcbiAgICAgIGNvbnNvbGUubG9nKGV2ZW50LmtleUNvZGUpO1xuICAgICAgaWYgKGspIHtcbiAgICAgICAgdGhpcy5oZWxkW2tdID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gSGFjayAtIGZpcnN0IGtleSBwcmVzc2VkIGluIHdpbmRvdyB3aWxsIGluaXRpYWxpemUgdGhlIGF1ZGlvLlxuICAgICAgLy9nYW1lLmF1ZGlvLmluaXQoKTtcbiAgICB9KTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIGV2ZW50ID0+IHtcbiAgICAgIGxldCBrID0gdGhpcy5tYXBbZXZlbnQua2V5Q29kZV07XG4gICAgICBpZiAoaykge1xuICAgICAgICB0aGlzLmhlbGRba10gPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICAvLyBGb3Iga2V5Ym9hcmRzLCB3ZSB3YW50IHRvIGNvbnZlcnQgdGhlIHN0YXRlIG9mIHRoZSB2YXJpb3VzIGFycm93IGtleXMgYmVpbmcgaGVsZCBkb3duXG4gICAgLy8gaW50byBhIGRpcmVjdGlvbmFsIHZlY3Rvci4gV2UgdXNlIHRoZSBicm93c2VyJ3MgZXZlbnQgdG8gaGFuZGxlIHRoZSBoZWxkIHN0YXRlIG9mXG4gICAgLy8gdGhlIG90aGVyIGFjdGlvbiBidXR0b25zLCBzbyB3ZSBkb24ndCBuZWVkIHRvIHByb2Nlc3MgdGhlbSBoZXJlLlxuICAgIGxldCBzdGF0ZSA9ICh0aGlzLmhlbGRbSW5wdXQuQWN0aW9uLlVQXSA/IDEgOiAwKSArXG4gICAgICAgICAgICAgICAgKHRoaXMuaGVsZFtJbnB1dC5BY3Rpb24uRE9XTl0gPyAyIDogMCkgK1xuICAgICAgICAgICAgICAgICh0aGlzLmhlbGRbSW5wdXQuQWN0aW9uLkxFRlRdID8gNCA6IDApICtcbiAgICAgICAgICAgICAgICAodGhpcy5oZWxkW0lucHV0LkFjdGlvbi5SSUdIVF0gPyA4IDogMCk7XG5cbiAgICB0aGlzLmRpcmVjdGlvbiA9IHRoaXMuYXJyb3dEaXJlY3Rpb25zW3N0YXRlXTtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuZGlyZWN0aW9uID0gdGhpcy5hcnJvd0RpcmVjdGlvbnNbMF07XG4gICAgZm9yIChsZXQgYWN0aW9uIG9mIE9iamVjdC52YWx1ZXMoSW5wdXQuQWN0aW9uKSkge1xuICAgICAgdGhpcy5oZWxkW2FjdGlvbl0gPSBmYWxzZTtcbiAgICB9XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgR0FNRV9XSURUSCA9IDQ4MDtcbmNvbnN0IEdBTUVfSEVJR0hUID0gMjcwO1xuXG4vKipcbiogVmlld3BvcnRcbipcbiogUmVwcmVzZW50cyB0aGUgZ2FtZSBkaXNwbGF5IChmb3IgdXMsIGEgY2FudmFzKS5cbiovXG5leHBvcnQgY2xhc3MgVmlld3BvcnQge1xuICBhc3luYyBpbml0KCkge1xuICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpO1xuICAgIHRoaXMuY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB0aGlzLnJlc2l6ZSh0cnVlKTtcbiAgfVxuXG4gIC8vIFJlc2l6ZSB0aGUgY2FudmFzIHRvIGdpdmUgdXMgYXBwcm94aW1hdGVseSBvdXIgZGVzaXJlZCBnYW1lIGRpc3BsYXkgc2l6ZS5cbiAgLy9cbiAgLy8gUmF0aGVyIHRoYW4gYXR0ZW1wdCB0byBleHBsYWluIGl0LCBoZXJlJ3MgYSBjb25jcmV0ZSBleGFtcGxlOlxuICAvL1xuICAvLyAgICAgd2Ugc3RhcnQgd2l0aCBhIGRlc2lyZWQgZ2FtZSBkaW1lbnNpb246ICAgNDgweDI3MHB4XG4gIC8vICAgICAgICAgIGdldCB0aGUgYWN0dWFsIGJyb3dzZXIgZGltZW5zaW9uczogIDEzMDl4NDY4cHhcbiAgLy8gICAgICAgICAgZmFjdG9yIGluIHRoZSBkaXNwbGF5J3MgRFBJIHJhdGlvOiAgMjYxOHg5MzZweFxuICAvLyAgICAgICAgIG5vdyBjYWxjdWxhdGUgdGhlIGhvcml6b250YWwgc2NhbGU6ICAgICAgIDUuNDV4XG4gIC8vICAgICAgICAgICAgICAgICAgICAgYW5kIHRoZSB2ZXJ0aWNhbCBzY2FsZTogICAgICAgMy40NnhcbiAgLy8gICAgICAgICAgICBvdXIgbmV3IG9mZmljYWwgZ2FtZSBzY2FsaW5nIGlzOiAgICAgICAgNS40eFxuICAvLyAgICAgICBhbmQgb3VyIG9mZmljaWFsIHZpZXdwb3J0IGRpbWVuc2lvbnM6ICAgNDg0eDE3M3B4XG4gIC8vXG4gIC8vIFRoaXMgYXBwcm9hY2ggZW1waGFzaXplcyBjb3JyZWN0IGFzcGVjdCByYXRpbyBhbmQgbWFpbnRhaW5zIGZ1bGwtd2luZG93IHJlbmRlcmluZywgYXRcbiAgLy8gdGhlIHBvdGVudGlhbCBjb3N0IG9mIGxpbWl0aW5nIHZpc2liaWxpdHkgb2YgdGhlIGdhbWUgaXRzZWxmIGluIGVpdGhlciB0aGUgWCBvciBZIGF4aXMuXG4gIC8vIElmIHlvdSB1c2UgdGhpcyBhcHByb2FjaCwgbWFrZSBzdXJlIHlvdXIgR1VJIGNhbiBcImZsb2F0XCIgKG90aGVyd2lzZSB0aGVyZSBtYXkgYmUgd2hvbGVcbiAgLy8gVUkgZWxlbWVudHMgdGhlIHBsYXllciBjYW5ub3Qgc2VlISkuXG4gIHJlc2l6ZShmb3JjZSkge1xuICAgIGxldCBkcGkgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICBsZXQgd2lkdGggPSB0aGlzLmNhbnZhcy5jbGllbnRXaWR0aDtcbiAgICBsZXQgaGVpZ2h0ID0gdGhpcy5jYW52YXMuY2xpZW50SGVpZ2h0O1xuICAgIGxldCBkcGlXaWR0aCA9IHdpZHRoICogZHBpO1xuICAgIGxldCBkcGlIZWlnaHQgPSBoZWlnaHQgKiBkcGk7XG5cbiAgICBpZiAoZm9yY2UgfHwgdGhpcy5jYW52YXMud2lkdGggIT09IGRwaVdpZHRoIHx8IHRoaXMuY2FudmFzLmhlaWdodCAhPT0gZHBpSGVpZ2h0KSB7XG4gICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IGRwaVdpZHRoO1xuICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gZHBpSGVpZ2h0O1xuXG4gICAgICB0aGlzLnNjYWxlID0gKE1hdGguZmxvb3IoTWF0aC5tYXgoZHBpV2lkdGggLyBHQU1FX1dJRFRILCBkcGlIZWlnaHQgLyBHQU1FX0hFSUdIVCkgKiAxMCkgLyAxMCk7XG4gICAgICB0aGlzLndpZHRoID0gTWF0aC5jZWlsKHRoaXMuY2FudmFzLndpZHRoIC8gdGhpcy5zY2FsZSk7XG4gICAgICB0aGlzLmhlaWdodCA9IE1hdGguY2VpbCh0aGlzLmNhbnZhcy5oZWlnaHQgLyB0aGlzLnNjYWxlKTtcbiAgICAgIHRoaXMuY2VudGVyID0geyB1OiBNYXRoLmZsb29yKHRoaXMud2lkdGggLyAyKSwgdjogTWF0aC5mbG9vcih0aGlzLmhlaWdodCAvIDIpIH07XG4gICAgICB0aGlzLmNsaWVudFdpZHRoID0gd2lkdGg7XG4gICAgICB0aGlzLmNsaWVudEhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICAgICAgLy8gTm90ZTogc21vb3RoaW5nIGZsYWcgZ2V0cyByZXNldCBvbiBldmVyeSByZXNpemUgYnkgc29tZSBicm93c2Vycywgd2hpY2ggaXMgd2h5XG4gICAgICAgICAgICAvLyB3ZSBkbyBpdCBoZXJlLlxuICAgICAgICAgICAgdGhpcy5jdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHZpZXdwb3J0LmNhbnZhcy5zdHlsZS5jdXJzb3IgPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIFNpbmdsZXRvblxuZXhwb3J0IGNvbnN0IHZpZXdwb3J0ID0gbmV3IFZpZXdwb3J0KCk7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IElucHV0IH0gZnJvbSAnLi9JbnB1dCc7XG5pbXBvcnQgeyB2aWV3cG9ydCB9IGZyb20gJy4uL1ZpZXdwb3J0JztcblxuLyoqXG4gKiBNb3VzZUFkYXB0ZXJcbiAqXG4gKiBNYXBzIG1vdXNlIGlucHV0cyB0byBnYW1lIGlucHV0cy5cbiAqL1xuZXhwb3J0IGNsYXNzIE1vdXNlQWRhcHRlciB7XG4gIGNvbnN0cnVjdG9yKGhhbmRsZXIpIHtcbiAgICB0aGlzLmhhbmRsZXIgPSBoYW5kbGVyO1xuXG4gICAgLy8gS2V5IE1hcHBpbmc6ICAgICAgQUNUSU9OICAgICAgICAgICAgLy8gSW5wdXRcbiAgICB0aGlzLm1hcCA9IFtdO1xuICAgIHRoaXMubWFwWzBdICA9IElucHV0LkFjdGlvbi5BVFRBQ0s7ICAgIC8vIExNQlxuICAgIHRoaXMubWFwWzJdICA9IElucHV0LkFjdGlvbi5SRUxPQUQ7ICAgIC8vIFJNQlxuXG4gICAgdGhpcy5oZWxkID0gW107XG5cbiAgICB0aGlzLnJlc2V0KCk7XG4gIH1cblxuICBhc3luYyBpbml0KCkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBldmVudCA9PiB7XG4gICAgICBpZiAoIXRoaXMucG9pbnRlcikgdGhpcy5wb2ludGVyID0ge307XG4gICAgICAvL3RoaXMuaGFuZGxlcnNbJ21vdXNlbW92ZSddKGV2ZW50Lm1vdmVtZW50WCwgZXZlbnQubW92ZW1lbnRZLCBldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcbiAgICAgIHRoaXMucG9pbnRlci51ID0gTWF0aC5mbG9vcigoZXZlbnQuY2xpZW50WCAqIHZpZXdwb3J0LndpZHRoKSAvIHZpZXdwb3J0LmNsaWVudFdpZHRoKTtcbiAgICAgIHRoaXMucG9pbnRlci52ID0gTWF0aC5mbG9vcigoZXZlbnQuY2xpZW50WSAqIHZpZXdwb3J0LmhlaWdodCkgLyB2aWV3cG9ydC5jbGllbnRIZWlnaHQpO1xuICAgIH0pO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgICAgdGhpcy5wb2ludGVyID0gdW5kZWZpbmVkO1xuICAgIH0pO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGV2ZW50ID0+IHtcbiAgICAgIGxldCBrID0gdGhpcy5tYXBbZXZlbnQuYnV0dG9uXTtcbiAgICAgIGlmIChrKSB0aGlzLmhlbGRba10gPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBldmVudCA9PiB7XG4gICAgICBsZXQgayA9IHRoaXMubWFwW2V2ZW50LmJ1dHRvbl07XG4gICAgICBpZiAoaykgdGhpcy5oZWxkW2tdID0gZmFsc2U7XG4gICAgfSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgZXZlbnQgPT4ge1xuICAgICAgbGV0IGsgPSB0aGlzLm1hcFtldmVudC5idXR0b25dO1xuICAgICAgY29uc29sZS5sb2coZXZlbnQuYnV0dG9uKTtcbiAgICAgIGlmIChrKSB0aGlzLmhlbGRba10gPSB0cnVlO1xuICAgICAgdGhpcy5yZWxlYXNlUk1CVGljayA9IDI7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB1cGRhdGUoKSB7XG4gICAgLy8gSGFja3M6IGlkZWFsbHkgd2UgY291bGQgdXNlIG1vdXNlZG93biBhbmQgbW91c2V1cCBmb3IgYWxsIGNsaWNrcyBhbmQgcHJldmVudERlZmF1bHQgdG9cbiAgICAvLyBhdm9pZCBvcGVuaW5nIHRoZSBicm93c2VyJ3MgY29udGV4dCBtZW51LiBUaGlzIGhhc24ndCB3b3JrZWQgZm9yIG1lIHNvIGZhciB3aGVuIGNsaWNraW5nXG4gICAgLy8gb24gYSBjYW52YXMsIHNvIEkgbmVlZCB0byB1c2UgdGhlIGNvbnRleHQgbWVudSBldmVudCB0byBjYXB0dXJlIGEgcmlnaHQgbW91c2UgY2xpY2sgaW5zdGVhZC5cbiAgICAvL1xuICAgIC8vIFdlIGZha2UgYSBkb3duL3VwIGZvciBSTUIgY2xpY2tzLCB3aGljaCBtZWFucyB3ZSBjYW4ndCBkZXRlcm1pbmUgaG93IGxvbmcgdGhlIFJNQiBpcyBoZWxkXG4gICAgLy8gKGJ1dCBsdWNraWx5IHdlIGRvbid0IG5lZWQgdG8gZm9yIHRoaXMgZ2FtZSkuXG4gICAgaWYgKHRoaXMucmVsZWFzZVJNQlRpY2spIHtcbiAgICAgIHRoaXMucmVsZWFzZVJNQlRpY2stLTtcbiAgICAgIGlmICh0aGlzLnJlbGVhc2VSTUJUaWNrID09PSAwKSB7XG4gICAgICAgIHRoaXMuaGVsZFtJbnB1dC5BY3Rpb24uUkVMT0FEXSA9IGZhbHNlO1xuICAgICAgICBjb25zb2xlLmxvZygncmVsZWFzZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLnBvaW50ZXIgPSB1bmRlZmluZWQ7XG4gICAgZm9yIChsZXQgYWN0aW9uIG9mIE9iamVjdC52YWx1ZXMoSW5wdXQuQWN0aW9uKSkge1xuICAgICAgdGhpcy5oZWxkW2FjdGlvbl0gPSBmYWxzZTtcbiAgICB9XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgS2V5Ym9hcmRBZGFwdGVyIH0gZnJvbSAnLi9LZXlib2FyZEFkYXB0ZXInO1xuaW1wb3J0IHsgTW91c2VBZGFwdGVyIH0gZnJvbSAnLi9Nb3VzZUFkYXB0ZXInO1xuXG4vL2ltcG9ydCB7IEdhbWVwYWRBZGFwdGVyIH0gZnJvbSAnLi9HYW1lcGFkQWRhcHRlcic7XG4vL2ltcG9ydCB7IE5vcm1hbFZlY3RvciB9IGZyb20gJy4vR2VvbWV0cnknO1xuXG4vKipcbiAqIFRoaXMgaXMgb3VyIGFic3RyYWN0IGdhbWUgaW5wdXQgaGFuZGxlci5cbiAqXG4gKiBFYWNoIGZyYW1lLCB3ZSdsbCBjb2xsZWN0IGlucHV0IGRhdGEgZnJvbSBhbGwgb2Ygb3VyIHN1cHBvcnRlZCBpbnB1dCBhZGFwdGVycyxcbiAqIGFuZCB0dXJuIGl0IGludG8gZ2FtZSBpbnB1dC4gVGhpcyBnYW1lIGlucHV0IGNhbiB0aGVuIGJlIHVzZWQgYnkgdGhlIGdhbWVcbiAqIHVwZGF0ZSBmb3IgdGhlIGZyYW1lLlxuICpcbiAqIFRoZSBpbnB1dCBhZGFwdGVycyBnaXZlIHVzIGRhdGEgbGlrZSBcImtleSBYIHByZXNzZWRcIiwgb3IgXCJyaWdodCBtb3VzZSBidXR0b25cbiAqIGNsaWNrZWRcIiwgb3IgXCJidXR0b24gQlwiIHByZXNzZWQsIGFuZCB0aGVzZSBhcmUgdHJhbnNsYXRlZCBpbnRvIGEgZ2FtZSBpbnB1dFxuICogbGlrZSBcImRvZGdlXCIuXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnB1dCB7XG4gICAgYXN5bmMgaW5pdCgpIHtcbiAgICAgICAgLy8gQSB2ZWN0b3IgcmVwcmVzZW50aW5nIHRoZSBkaXJlY3Rpb24gdGhlIHVzZXIgaXMgcHJlc3NpbmcvZmFjaW5nLFxuICAgICAgICAvLyBzZXBhcmF0ZSBmcm9tIHByZXNzaW5nIGFuZCByZWxlYXNpbmcgaW5wdXRzLiBUcmVhdGluZyBcImRpcmVjdGlvblwiXG4gICAgICAgIC8vIHNlcGFyYXRlbHkgbWFrZXMgaXQgZWFzaWVyIHRvIGhhbmRsZSBnYW1lcGFkIHN0aWNrcy5cbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSB7IHg6IDAsIHk6IDAsIG06IDAgfTtcblxuICAgICAgICAvLyBcIlByZXNzZWRcIiBtZWFucyBhbiBpbnB1dCB3YXMgcHJlc3NlZCBUSElTIEZSQU1FLlxuICAgICAgICB0aGlzLnByZXNzZWQgPSB7fTtcblxuICAgICAgICAvLyBcIlJlbGVhc2VkXCIgbWVhbnMgYW4gaW5wdXQgd2FzIHJlbGVhc2VkIFRISVMgRlJBTUUuXG4gICAgICAgIHRoaXMucmVsZWFzZWQgPSB7fTtcblxuICAgICAgICAvLyBcIkhlbGRcIiBtZWFucyBhbiBpbnB1dCBpcyBoZWxkIGRvd24uIFRoZSBpbnB1dCB3YXMgXCJQcmVzc2VkXCIgZWl0aGVyXG4gICAgICAgIC8vIHRoaXMgZnJhbWUgb3IgaW4gYSBwYXN0IGZyYW1lLCBhbmQgaGFzIG5vdCBiZWVuIFwiUmVsZWFzZWRcIiB5ZXQuXG4gICAgICAgIHRoaXMuaGVsZCA9IHt9O1xuXG4gICAgICAgIC8vIEhvdyBtYW55IGZyYW1lcyB3YXMgdGhpcyBpbnB1dCBoZWxkIGRvd24gYnkgdGhlIHBsYXllci4gSWYgW2hlbGRdXG4gICAgICAgIC8vIGlzIGZhbHNlLCBpdCByZXByZXNlbnRzIGhvdyBsb25nIHRoZSBpbnB1dCB3YXMgbGFzdCBoZWxkIGRvd24uXG4gICAgICAgIHRoaXMuZnJhbWVzSGVsZCA9IHt9O1xuXG4gICAgICAgIHRoaXMua2V5Ym9hcmQgPSBuZXcgS2V5Ym9hcmRBZGFwdGVyKHRoaXMpO1xuICAgICAgICBhd2FpdCB0aGlzLmtleWJvYXJkLmluaXQoKTtcblxuICAgICAgICB0aGlzLm1vdXNlID0gbmV3IE1vdXNlQWRhcHRlcih0aGlzKTtcbiAgICAgICAgYXdhaXQgdGhpcy5tb3VzZS5pbml0KCk7XG5cbiAgICAgICAgLy90aGlzLmdhbWVwYWQgPSBuZXcgR2FtZXBhZEFkYXB0ZXIodGhpcyk7XG4gICAgICAgIC8vYXdhaXQgdGhpcy5nYW1lcGFkLmluaXQoKTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIC8vIFdlIGNvdWxkIGhhdmUgc29tZSBraW5kIG9mIFwiaW5wdXQgYWRhcHRlciB0b2dnbGVcIiwgYnV0IGl0J3MgZWFzaWVyIHRvIGp1c3QgdHJlYXQgYWxsIGlucHV0c1xuICAgICAgICAvLyBhcyB2YWxpZCAtLSBpZiB5b3UncmUgcHJlc3NpbmcgdGhlIFwiYXR0YWNrXCIgYnV0dG9uIG9uIGVpdGhlciBnYW1lcGFkIG9yIGtleWJvYXJkLCB0aGVuIHlvdSdyZVxuICAgICAgICAvLyBhdHRhY2tpbmcuIEZvciBkaXJlY3Rpb25hbCBpbnB1dCwgd2UgaW5zdGVhZCBjaGVjayB3aGV0aGVyIHRoZXJlJ3MgbW92ZW1lbnQgb24gdGhlIHRodW1ic3RpY2ssXG4gICAgICAgIC8vIGFuZCB3ZSB1c2UgaXQgaWYgdGhlcmUgaXMgLS0gb3RoZXJ3aXNlIHdlIHRyeSB0byBleHRyYWN0IG1vdmVtZW50IGZyb20gdGhlIGtleWJvYXJkIGluc3RlYWQuXG5cbiAgICAgICAgdGhpcy5rZXlib2FyZC51cGRhdGUoKTtcbiAgICAgICAgdGhpcy5tb3VzZS51cGRhdGUoKTtcbiAgICAgICAgLy90aGlzLmdhbWVwYWQudXBkYXRlKCk7XG5cbiAgICAgICAgZm9yIChsZXQgYWN0aW9uIG9mIE9iamVjdC52YWx1ZXMoSW5wdXQuQWN0aW9uKSkge1xuICAgICAgICAgICAgbGV0IGhlbGQgPSB0aGlzLm1vdXNlLmhlbGRbYWN0aW9uXSB8fCB0aGlzLmtleWJvYXJkLmhlbGRbYWN0aW9uXTtcbiAgICAgICAgICAgIC8vbGV0IGhlbGQgPSB0aGlzLmdhbWVwYWQuaGVsZFthY3Rpb25dIHx8IHRoaXMua2V5Ym9hcmQuaGVsZFthY3Rpb25dO1xuICAgICAgICAgICAgdGhpcy5wcmVzc2VkW2FjdGlvbl0gPSAhdGhpcy5oZWxkW2FjdGlvbl0gJiYgaGVsZDtcbiAgICAgICAgICAgIHRoaXMucmVsZWFzZWRbYWN0aW9uXSA9IHRoaXMuaGVsZFthY3Rpb25dICYmICFoZWxkO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5wcmVzc2VkW2FjdGlvbl0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZyYW1lc0hlbGRbYWN0aW9uXSA9IDE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaGVsZFthY3Rpb25dICYmIGhlbGQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZyYW1lc0hlbGRbYWN0aW9uXSsrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmhlbGRbYWN0aW9uXSA9IGhlbGQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBvaW50ZXIgPSB0aGlzLm1vdXNlLnBvaW50ZXI7XG5cbiAgICAgICAgLy90aGlzLmRpcmVjdGlvbiA9IHRoaXMuZ2FtZXBhZC5kaXJlY3Rpb24ubSA+IDAgPyB0aGlzLmdhbWVwYWQuZGlyZWN0aW9uIDogdGhpcy5rZXlib2FyZC5kaXJlY3Rpb247XG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gdGhpcy5rZXlib2FyZC5kaXJlY3Rpb247XG4gICAgfVxuXG4gICAgb25Eb3duKGFjdGlvbikge1xuICAgIH1cblxuICAgIG9uVXAoYWN0aW9uKSB7XG4gICAgfVxufVxuXG4vLyBHYW1lIElucHV0c1xuLy9cbi8vIE5vdGUgdGhhdCBtb3ZpbmcgdGhlIHBsYXllciBhcm91bmQgaXMgYWN0dWFsbHkgbm90IGNvbnNpZGVyZWQgYW4gYWN0aW9uOyBpdCdzXG4vLyBhIHNlcGFyYXRlIG5vbi1hY3Rpb24gaW5wdXQgY2FsbGVkIFwiZGlyZWN0aW9uXCIuIEl0IGp1c3Qgc28gaGFwcGVucyB0aGF0IG9uXG4vLyBrZXlib2FyZCwgZm9yIGV4YW1wbGUsIHByZXNzaW5nIHRoZSBcImRvd24gYXJyb3dcIiBrZXkgaXMgY29uc2lkZXJlZCBib3RoIGFcbi8vIHByZXNzIG9mIHRoZSBpbi1nYW1lIERPV04gYWN0aW9uIGFuZCBhIGRpcmVjdGlvbmFsIGlucHV0LiBJdCdzIHVwIHRvIHRoZSBpbnB1dFxuLy8gY29uc3VtZXIgdG8gZGVjaWRlIHdoaWNoIGlucHV0IGlzIHJlbGV2YW50IChpZiBhbnkpLiBGb3IgZXhhbXBsZSwgb24gYSBtZW51LFxuLy8gd2UgbWF5IGNvbnN1bWUgdGhlIERPV04vVVAgYWN0aW9ucyB0byBuYXZpZ2F0ZSB0aGUgbWVudSwgYnV0IGlnbm9yZSBkaXJlY3Rpb25hbFxuLy8gaW5wdXRzLlxuLy9cbklucHV0LkFjdGlvbiA9IHtcbiAgVVA6ICAgICAgMTEsXG4gIERPV046ICAgIDEyLFxuICBMRUZUOiAgICAxMyxcbiAgUklHSFQ6ICAgMTQsXG4gIEFUVEFDSzogIDIxLFxuICBSRUxPQUQ6ICAzMCxcbiAgREVGTEVDVDogMjIsXG4gIERPREdFOiAgIDIzLFxuICBTVVBFUjogICAyNCxcbiAgTUVOVTogICAgOTYsXG4gIE1VVEU6ICAgIDk3LFxuICBGUkVFWkU6ICA5OFxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgQ29uc3RhbnRzIGFzIEMgfSBmcm9tICcuL0NvbnN0YW50cydcbmltcG9ydCB7IGdhbWUgfSBmcm9tICcuL0dhbWUnO1xuaW1wb3J0IHsgdmlld3BvcnQgfSBmcm9tICcuL1ZpZXdwb3J0JztcblxuLyoqXG4gKiBHZW9tZXRyeVxuICpcbiAqIEEgaG9ycmlibGUgZ3JhYiBiYWcgb2YgbWF0aC1yZWxhdGVkIG5vbnNlbnNlLlxuICovXG5leHBvcnQgY29uc3QgR2VvbWV0cnkgPSB7XG4gIFJBRDogKCgpID0+IHtcbiAgICBsZXQgcmFkaWFuVGFibGUgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSAzNjA7IGkrKykge1xuICAgICAgcmFkaWFuVGFibGVbaV0gPSBNYXRoLlBJICogMiAqIGkgLyAzNjA7XG4gICAgfVxuICAgIHJldHVybiByYWRpYW5UYWJsZTtcbiAgfSkoKSxcblxuICBub3JtYWxpemVWZWN0b3IocCkge1xuICAgIGxldCBtID0gTWF0aC5zcXJ0KHAueCAqIHAueCArIHAueSAqIHAueSk7XG4gICAgcmV0dXJuIChtID09PSAwKSA/IHsgeDogMCwgeTogMCwgbTogMCB9IDogeyB4OiBwLnggLyBtLCB5OiBwLnkgLyBtLCBtIH07XG4gIH0sXG5cbiAgdmVjdG9yQmV0d2VlbihwMSwgcDIpIHtcbiAgICByZXR1cm4gR2VvbWV0cnkubm9ybWFsaXplVmVjdG9yKHsgeDogcDIueCAtIHAxLngsIHk6IHAyLnkgLSBwMS55IH0pO1xuICB9LFxuXG4gIGFuZ2xlMnZlY3RvcihyLCBtKSB7XG4gICAgcmV0dXJuIHsgeDogTWF0aC5jb3MociksIHk6IE1hdGguc2luKHIpLCBtOiBtIHx8IDEgfTtcbiAgfSxcblxuICB2ZWN0b3IyYW5nbGUodikge1xuICAgIGxldCBhbmdsZSA9IE1hdGguYXRhbjIodi55LCB2LngpO1xuICAgIGlmIChhbmdsZSA8IDApIGFuZ2xlICs9IEdlb21ldHJ5LlJBRFszNjBdO1xuICAgIHJldHVybiBhbmdsZTtcbiAgfSxcblxuICB2ZWN0b3IycG9pbnQodikge1xuICAgIHJldHVybiB7IHg6IHYueCAqICh2Lm0gfHwgMSksIHk6IHYueSAqICh2Lm0gfHwgMSkgfTtcbiAgfSxcblxuICBkb3QoYSwgYikge1xuICAgIFthLCBiXSA9IFtHZW9tZXRyeS52ZWN0b3IycG9pbnQoYSksIEdlb21ldHJ5LnZlY3RvcjJwb2ludChiKV07XG4gICAgcmV0dXJuIGEueCAqIGIueCArIGEueSAqIGIueTtcbiAgfSxcblxuICAvLyBUYWtlcyBhIHNlcmllcyBvZiB2ZWN0b3JzIGFuZCBkZW5vcm1hbGl6ZXMgdGhlbSBhbmQgYWRkcyB0aGVtIHRvZ2V0aGVyLCB1c3VhbGx5IHJlc3VsdGluZ1xuICAvLyBpbiBhIHBvaW50IGluIHNwYWNlLiBXcmFwIGluIG5vcm1hbGl6ZVZlY3RvciB0byBnZXQgYSBub3JtYWxpemVkIHZlY3RvciBhZ2FpbiwgaWYgZGVzaXJlZC5cbiAgdmVjdG9yQWRkKC4uLnZlY3RvcnMpIHtcbiAgICBsZXQgdiA9IHsgeDogMCwgeTogMCwgbTogMSB9O1xuICAgIGZvciAobGV0IHZlY3RvciBvZiB2ZWN0b3JzKSB7XG4gICAgICB2LnggKz0gdmVjdG9yLnggKiAodmVjdG9yLm0gfHwgMSk7XG4gICAgICB2LnkgKz0gdmVjdG9yLnkgKiAodmVjdG9yLm0gfHwgMSk7XG4gICAgfVxuICAgIHJldHVybiB2O1xuICB9LFxuXG4gIGFuZ2xlQmV0d2VlbihhbmdsZSwgbWluLCBtYXgpIHtcbiAgICBpZiAobWluID4gbWF4KSBbbWluLCBtYXhdID0gW21heCwgbWluXTtcbiAgICB3aGlsZSAoYW5nbGUgPj0gbWF4ICsgR2VvbWV0cnkuUkFEWzM2MF0pIGFuZ2xlIC09IEdlb21ldHJ5LlJBRFszNjBdO1xuICAgIHdoaWxlIChhbmdsZSA8PSBtaW4gLSBHZW9tZXRyeS5SQURbMzYwXSkgYW5nbGUgKz0gR2VvbWV0cnkuUkFEWzM2MF07XG4gICAgcmV0dXJuIChhbmdsZSA+PSBtaW4gJiYgYW5nbGUgPCBtYXgpO1xuICB9LFxuXG4gIGFyY092ZXJsYXAoYW5nbGVBMSwgYW5nbGVBMiwgYW5nbGVCMSwgYW5nbGVCMikge1xuICAgIGNvbnNvbGUubG9nKFthbmdsZUExLCBhbmdsZUEyLCBhbmdsZUIxLCBhbmdsZUIyXS5tYXAoeCA9PiB4ICogMzYwIC8gKE1hdGguUEkgKiAyKSkpO1xuICAgIGlmIChhbmdsZUExID4gYW5nbGVBMikgW2FuZ2xlQTEsIGFuZ2xlQTJdID0gW2FuZ2xlQTIsIGFuZ2xlQTFdO1xuICAgIGlmIChhbmdsZUIxID4gYW5nbGVCMikgW2FuZ2xlQjEsIGFuZ2xlQjJdID0gW2FuZ2xlQjIsIGFuZ2xlQjFdO1xuICAgIC8vd2hpbGUgKGFuZ2xlQTEgPCAwKSBhbmdsZUExICs9IEdlb21ldHJ5LlJBRFszNjBdO1xuXG4gICAgd2hpbGUgKGFuZ2xlQjIgPj0gYW5nbGVBMiArIEdlb21ldHJ5LlJBRFszNjBdKSB7XG4gICAgICBhbmdsZUIyIC09IEdlb21ldHJ5LlJBRFszNjBdO1xuICAgICAgYW5nbGVCMSAtPSBHZW9tZXRyeS5SQURbMzYwXTtcbiAgICB9XG4gICAgd2hpbGUgKGFuZ2xlQjEgPD0gYW5nbGVBMSAtIEdlb21ldHJ5LlJBRFszNjBdKSB7XG4gICAgICBhbmdsZUIxICs9IEdlb21ldHJ5LlJBRFszNjBdO1xuICAgICAgYW5nbGVCMiArPSBHZW9tZXRyeS5SQURbMzYwXTtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSBbTWF0aC5tYXgoYW5nbGVBMSwgYW5nbGVCMSksIE1hdGgubWluKGFuZ2xlQTIsIGFuZ2xlQjIpXTtcbiAgICBjb25zb2xlLmxvZyhbYW5nbGVBMSwgYW5nbGVBMiwgYW5nbGVCMSwgYW5nbGVCMiwgLi4ucmVzdWx0XS5tYXAoeCA9PiB4ICogMzYwIC8gKE1hdGguUEkgKiAyKSkpO1xuICAgIHJldHVybiByZXN1bHRbMF0gPiByZXN1bHRbMV0gPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gIH0sXG5cbiAgeHkycXIocG9zKSB7XG4gICAgcmV0dXJuIHsgcTogKHBvcy54IC8gQy5USUxFX1dJRFRIKSB8IDAsIHI6IChwb3MueSAvIEMuVElMRV9IRUlHSFQpIHwgMCB9O1xuICB9LFxuXG4gIHFyMnh5KHBvcykge1xuICAgIHJldHVybiB7IHg6IHBvcy5xICogQy5USUxFX1dJRFRILCB5OiBwb3MuciAqIEMuVElMRV9IRUlHSFQgfTtcbiAgfSxcblxuICB4eTJ1dihwb3MpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdTogcG9zLnggKyB2aWV3cG9ydC5jZW50ZXIudSAtIGdhbWUuY2FtZXJhLnBvcy54LFxuICAgICAgdjogcG9zLnkgKyB2aWV3cG9ydC5jZW50ZXIudiAtIGdhbWUuY2FtZXJhLnBvcy55XG4gICAgfTtcbiAgfSxcblxuICBjbGFtcCh2YWx1ZSwgbWluLCBtYXgpIHtcbiAgICByZXR1cm4gdmFsdWUgPCBtaW4gPyBtaW4gOiAodmFsdWUgPiBtYXggPyBtYXggOiB2YWx1ZSk7XG4gIH0sXG5cbiAgLy8gVGhlIHBhcmFtZXRlcnMgdG8gdGhpcyBmdW5jdGlvbiBhcmUgKFEsIFEpIG9yIChSLCBSKSAtIGkuZS4gaG9yaXpvbnRhbCBvclxuICAvLyB2ZXJ0aWNhbCBjb29yZGluYXRlcyBpbiB0aWxlIHNwYWNlLlxuICBjYWxjdWxhdGVSYXlJbnRlcnNlY3Rpb25BbmRTdGVwKHN0YXJ0UG9zLCBlbmRQb3MpIHtcbiAgICBsZXQgbmV4dCwgc3RlcCwgZGlmZiA9IGVuZFBvcyAtIHN0YXJ0UG9zO1xuXG4gICAgaWYgKGRpZmYgPT09IDApIHtcbiAgICAgICAgc3RlcCA9IE5hTjtcbiAgICAgICAgbmV4dCA9ICtJbmZpbml0eTtcbiAgICB9IGVsc2UgaWYgKGRpZmYgPiAwKSB7XG4gICAgICAgIHN0ZXAgPSAxIC8gZGlmZjtcbiAgICAgICAgbmV4dCA9ICgxIC0gKHN0YXJ0UG9zIC0gTWF0aC5mbG9vcihzdGFydFBvcykpKSAqIHN0ZXA7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc3RlcCA9IC0xIC8gZGlmZjtcbiAgICAgICAgbmV4dCA9IChzdGFydFBvcyAtIE1hdGguZmxvb3Ioc3RhcnRQb3MpKSAqIHN0ZXA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgbmV4dCwgc3RlcCB9O1xuICB9LFxuXG4gIC8vIGh0dHBzOi8vd3d3LmdlbmVyaWNnYW1lZGV2LmNvbS9nZW5lcmFsL3Nob290aW5nLXJheXMtdGhyb3VnaC10aWxlbWFwcy9cbiAgKnRpbGVzSGl0QmV0d2VlbihwMSwgcDIpIHtcbiAgICBsZXQgc3RhcnRRID0gcDEueCAvIEMuVElMRV9XSURUSCwgc3RhcnRSID0gcDEueSAvIEMuVElMRV9IRUlHSFQ7XG4gICAgbGV0IGVuZFEgPSBwMi54IC8gQy5USUxFX1dJRFRILCBlbmRSID0gcDIueSAvIEMuVElMRV9IRUlHSFQ7XG4gICAgbGV0IHRpbGVDb3VudCA9IE1hdGguYWJzKE1hdGguZmxvb3Ioc3RhcnRRKSAtIE1hdGguZmxvb3IoZW5kUSkpICsgTWF0aC5hYnMoTWF0aC5mbG9vcihzdGFydFIpIC0gTWF0aC5mbG9vcihlbmRSKSk7XG5cbiAgICB5aWVsZCB7IHE6IHN0YXJ0USB8IDAsIHI6IHN0YXJ0UiB8IDAsIG06IDAgfTtcblxuICAgIC8vIElmIHRoZXJlJ3Mgb25seSAxIG9yIDIgaGl0IHRpbGVzLCB3ZSBkb24ndCBuZWVkIHRoZSBtYXRoIHRvIGNvbXB1dGUgdGhlIG1pZGRsZS5cbiAgICBpZiAodGlsZUNvdW50ID4gMSkge1xuICAgICAgbGV0IHEgPSBzdGFydFEsIHIgPSBzdGFydFIsIG0gPSAwO1xuICAgICAgbGV0IHN0ZXBRID0gTWF0aC5zaWduKGVuZFEgLSBzdGFydFEpO1xuICAgICAgbGV0IHN0ZXBSID0gTWF0aC5zaWduKGVuZFIgLSBzdGFydFIpO1xuICAgICAgbGV0IGludGVyc2VjdGlvblEgPSBHZW9tZXRyeS5jYWxjdWxhdGVSYXlJbnRlcnNlY3Rpb25BbmRTdGVwKHN0YXJ0USwgZW5kUSk7XG4gICAgICBsZXQgaW50ZXJzZWN0aW9uUiA9IEdlb21ldHJ5LmNhbGN1bGF0ZVJheUludGVyc2VjdGlvbkFuZFN0ZXAoc3RhcnRSLCBlbmRSKTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aWxlQ291bnQgLSAxOyBpKyspIHtcbiAgICAgICAgaWYgKGludGVyc2VjdGlvblEubmV4dCA8IGludGVyc2VjdGlvblIubmV4dCkge1xuICAgICAgICAgIHEgKz0gc3RlcFE7XG4gICAgICAgICAgbSArPSBzdGVwUTtcbiAgICAgICAgICBpbnRlcnNlY3Rpb25RLm5leHQgKz0gaW50ZXJzZWN0aW9uUS5zdGVwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHIgKz0gc3RlcFI7XG4gICAgICAgICAgbSArPSBzdGVwUjtcbiAgICAgICAgICBpbnRlcnNlY3Rpb25SLm5leHQgKz0gaW50ZXJzZWN0aW9uUi5zdGVwO1xuICAgICAgICB9XG4gICAgICAgIHlpZWxkIHsgcTogcSB8IDAsIHI6IHIgfCAwLCBtIH07XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRpbGVDb3VudCA+IDApIHtcbiAgICAgIHlpZWxkIHsgcTogZW5kUSB8IDAsIHI6IGVuZFIgfCAwLCBtOiAxIH07XG4gICAgfVxuICB9LFxuXG4gICp0aWxlc0hpdEJ5KHAsIHYpIHtcbiAgICB5aWVsZCAqR2VvbWV0cnkudGlsZXNIaXRCZXR3ZWVuKHAsIEdlb21ldHJ5LnZlY3RvckFkZChwLCB2KSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7WFlbXX0gYm91bmRzICB0aGUgdXBwZXItbGVmdCBhbmQgbG93ZXItcmlnaHQgYm91bmRzXG4gICAqIEB5aWVsZHMge1FSfVxuICAgKi9cbiAgKnRpbGVzSGl0SW5Cb3VuZHMoYm91bmRzKSB7XG4gICAgZm9yIChsZXQgciA9IE1hdGguZmxvb3IoYm91bmRzWzBdLnkgLyBDLlRJTEVfSEVJR0hUKTsgciAqIEMuVElMRV9IRUlHSFQgPCBib3VuZHNbMV0ueTsgcisrKSB7XG4gICAgICBmb3IgKGxldCBxID0gTWF0aC5mbG9vcihib3VuZHNbMF0ueCAvIEMuVElMRV9XSURUSCk7IHEgKiBDLlRJTEVfV0lEVEggPCBib3VuZHNbMV0ueDsgcSsrKSB7XG4gICAgICAgIHlpZWxkIHsgcSwgciB9O1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtYWX0gcDEgIHRoZSBzdGFydGluZyBwb3NpdGlvblxuICAgKiBAcGFyYW0ge1hZfSBwMiAgdGhlIGVuZGluZyBwb3NpdGlvblxuICAgKiBAcGFyYW0ge251bWJlcn0gciAgdGhlIHJhZGl1cyBvZiB0aGUgbW92aW5nIGNpcmNsZVxuICAgKiBAeWllbGRzIHtRUn1cbiAgICovXG4gICp0aWxlc0hpdEJldHdlZW5DaXJjbGUocDEsIHAyLCByKSB7XG4gICAgbGV0IGJvdW5kcyA9IFtcbiAgICAgIHsgeDogTWF0aC5taW4ocDEueCwgcDIueCkgLSByLCB5OiBNYXRoLm1pbihwMS55LCBwMi55KSAtIHIgfSxcbiAgICAgIHsgeDogTWF0aC5tYXgocDEueCwgcDIueCkgKyByLCB5OiBNYXRoLm1heChwMS55LCBwMi55KSArIHIgfVxuICAgIF07XG4gICAgeWllbGQgKkdlb21ldHJ5LnRpbGVzSGl0SW5Cb3VuZHMoYm91bmRzKTtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIHtYWX0gcCAgdGhlIHN0YXJ0aW5nIHBvc2l0aW9uXG4gICAqIEBwYXJhbSB7WFl9IHYgIHRoZSB2ZWxvY2l0eSAobW92ZW1lbnQpXG4gICAqIEBwYXJhbSB7bnVtYmVyfSByICB0aGUgcmFkaXVzIG9mIHRoZSBtb3ZpbmcgY2lyY2xlXG4gICAqIEB5aWVsZHMge1FSfVxuICAgKi9cbiAgKnRpbGVzSGl0QnlDaXJjbGUocCwgdiwgcikge1xuICAgIHlpZWxkICpHZW9tZXRyeS50aWxlc0hpdEJldHdlZW5DaXJjbGUocCwgeyB4OiBwLnggKyB2LngsIHk6IHAueSArIHYueSB9LCByKTtcbiAgfSxcblxuICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTg3OTAzODkvODA2MzBcbiAgaW50ZXJzZWN0Q2lyY2xlUmVjdGFuZ2xlKHAxLCBwMiwgciwgYm91bmRzKSB7XG4gICAgLy8gSWYgdGhlIGJvdW5kaW5nIGJveCBhcm91bmQgdGhlIHN0YXJ0IGFuZCBlbmQgcG9pbnRzICgrcmFkaXVzIG9uIGFsbFxuICAgIC8vIHNpZGVzKSBkb2VzIG5vdCBpbnRlcnNlY3Qgd2l0aCB0aGUgcmVjdGFuZ2xlLCBkZWZpbml0ZWx5IG5vdCBhblxuICAgIC8vIGludGVyc2VjdGlvblxuICAgIGlmIChNYXRoLm1heChwMS54LCBwMi54KSArIHIgPCBib3VuZHNbMF0ueCB8fFxuICAgICAgICBNYXRoLm1pbihwMS54LCBwMi54KSAtIHIgPiBib3VuZHNbMV0ueCB8fFxuICAgICAgICBNYXRoLm1heChwMS55LCBwMi55KSArIHIgPCBib3VuZHNbMF0ueSB8fFxuICAgICAgICBNYXRoLm1pbihwMS55LCBwMi55KSAtIHIgPiBib3VuZHNbMV0ueSlcbiAgICAgIHJldHVybjtcblxuICAgIGxldCBkeCA9IHAyLnggLSBwMS54O1xuICAgIGxldCBkeSA9IHAyLnkgLSBwMS55O1xuICAgIGxldCBpbnZkeCA9IChkeCA9PT0gMCA/IDAgOiAxIC8gZHgpO1xuICAgIGxldCBpbnZkeSA9IChkeSA9PT0gMCA/IDAgOiAxIC8gZHkpO1xuICAgIGxldCBjb3JuZXJYID0gSW5maW5pdHk7XG4gICAgbGV0IGNvcm5lclkgPSBJbmZpbml0eTtcblxuICAgIC8vIENoZWNrIGVhY2ggc2lkZSBvZiB0aGUgcmVjdGFuZ2xlIGZvciBhIHNpbmdsZS1zaWRlIGludGVyc2VjdGlvblxuICAgIC8vIExlZnQgU2lkZVxuICAgIGlmIChwMS54IC0gciA8IGJvdW5kc1swXS54ICYmIHAyLnggKyByID4gYm91bmRzWzBdLngpIHtcbiAgICAgIGxldCBsdGltZSA9ICgoYm91bmRzWzBdLnggLSByKSAtIHAxLngpICogaW52ZHg7XG4gICAgICBpZiAobHRpbWUgPj0gMCAmJiBsdGltZSA8PSAxKSB7XG4gICAgICAgIGxldCBseSA9IGR5ICogbHRpbWUgKyBwMS55O1xuICAgICAgICBpZiAobHkgPj0gYm91bmRzWzBdLnkgJiYgbHkgPD0gYm91bmRzWzFdLnkpIHtcbiAgICAgICAgICByZXR1cm4geyB4OiBkeCAqIGx0aW1lICsgcDEueCwgeTogbHksIHQ6IGx0aW1lLCBueDogLTEsIG55OiAwLCBpeDogYm91bmRzWzBdLngsIGl5OiBseSB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb3JuZXJYID0gYm91bmRzWzBdLng7XG4gICAgfVxuICAgIC8vIFJpZ2h0IFNpZGVcbiAgICBpZiAocDEueCArIHIgPiBib3VuZHNbMV0ueCAmJiBwMi54IC0gciA8IGJvdW5kc1sxXS54KSB7XG4gICAgICBsZXQgcnRpbWUgPSAocDEueCAtIChib3VuZHNbMV0ueCArIHIpKSAqIC1pbnZkeDtcbiAgICAgIGlmIChydGltZSA+PSAwICYmIHJ0aW1lIDw9IDEpIHtcbiAgICAgICAgbGV0IHJ5ID0gZHkgKiBydGltZSArIHAyLnk7XG4gICAgICAgIGlmIChyeSA+PSBib3VuZHNbMF0ueSAmJiByeSA8PSBib3VuZHNbMV0ueSkge1xuICAgICAgICAgIHJldHVybiB7IHg6IGR4ICogcnRpbWUgKyBwMS54LCB5OiByeSwgdDogcnRpbWUsIG54OiAxLCBueTogMCwgaXg6IGJvdW5kc1sxXS54LCBpeTogcnkgfTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29ybmVyWCA9IGJvdW5kc1sxXS54O1xuICAgIH1cbiAgICAvLyBUb3AgU2lkZVxuICAgIGlmIChwMS55IC0gciA8IGJvdW5kc1swXS55ICYmIHAyLnkgKyByID4gYm91bmRzWzBdLnkpIHtcbiAgICAgIGxldCB0dGltZSA9ICgoYm91bmRzWzBdLnkgLSByKSAtIHAxLnkpICogaW52ZHk7XG4gICAgICBpZiAodHRpbWUgPj0gMCAmJiB0dGltZSA8PSAxKSB7XG4gICAgICAgIGxldCB0eCA9IGR4ICogdHRpbWUgKyBwMS54O1xuICAgICAgICBpZiAodHggPj0gYm91bmRzWzBdLnggJiYgdHggPD0gYm91bmRzWzFdLngpIHtcbiAgICAgICAgICByZXR1cm4geyB4OiB0eCwgeTogZHkgKiB0dGltZSArIHAxLnksIHQ6IHR0aW1lLCBueDogMCwgbnk6IC0xLCBpeDogdHgsIGl5OiBib3VuZHNbMF0ueSB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjb3JuZXJZID0gYm91bmRzWzBdLnk7XG4gICAgfVxuICAgIC8vIEJvdHRvbSBTaWRlXG4gICAgaWYgKHAxLnkgKyByID4gYm91bmRzWzFdLnkgJiYgcDIueSAtIHIgPCBib3VuZHNbMV0ueSkge1xuICAgICAgbGV0IGJ0aW1lID0gKHAxLnkgLSAoYm91bmRzWzFdLnkgKyByKSkgKiAtaW52ZHk7XG4gICAgICBpZiAoYnRpbWUgPj0gMCAmJiBidGltZSA8PSAxKSB7XG4gICAgICAgIGxldCBieCA9IGR4ICogYnRpbWUgKyBwMS54O1xuICAgICAgICBpZiAoYnggPj0gYm91bmRzWzBdLnggJiYgYnggPD0gYm91bmRzWzFdLngpIHtcbiAgICAgICAgICByZXR1cm4geyB4OiBieCwgeTogZHkgKiBidGltZSArIHAxLnksIHQ6IGJ0aW1lLCBueDogMCwgbnk6IDEsIGl4OiBieCwgaXk6IGJvdW5kc1swXS55IH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvcm5lclkgPSBib3VuZHNbMV0ueTtcbiAgICB9XG5cbiAgICAvLyBJZiB3ZSBoYXZlbid0IHRvdWNoZWQgYW55dGhpbmcsIHRoZXJlIGlzIG5vIGNvbGxpc2lvblxuICAgIGlmIChjb3JuZXJYID09PSBJbmZpbml0eSAmJiBjb3JuZXJZID09PSBJbmZpbml0eSkgcmV0dXJuO1xuXG4gICAgLy8gV2UgZGlkbid0IHBhc3MgdGhyb3VnaCBhIHNpZGUgYnV0IG1heSBiZSBoaXR0aW5nIHRoZSBjb3JuZXJcbiAgICBpZiAoY29ybmVyWCAhPT0gSW5maW5pdHkgJiYgY29ybmVyWSA9PT0gSW5maW5pdHkpIHtcbiAgICAgIGNvcm5lclkgPSBkeSA+IDAgPyBib3VuZHNbMV0ueSA6IGJvdW5kc1swXS55O1xuICAgIH1cbiAgICBpZiAoY29ybmVyWSAhPT0gSW5maW5pdHkgJiYgY29ybmVyWCA9PT0gSW5maW5pdHkpIHtcbiAgICAgIGNvcm5lclggPSBkeCA+IDAgPyBib3VuZHNbMV0ueCA6IGJvdW5kc1swXS54O1xuICAgIH1cblxuICAgIC8qIFNvbHZlIHRoZSB0cmlhbmdsZSBiZXR3ZWVuIHRoZSBzdGFydCwgY29ybmVyLCBhbmQgaW50ZXJzZWN0aW9uIHBvaW50LlxuICAgICAqXG4gICAgICogICAgICAgICAgICstLS0tLS0tLS0tLVQtLS0tLS0tLS0tLStcbiAgICAgKiAgICAgICAgICAgfCAgICAgICAgICAgICAgICAgICAgICAgfFxuICAgICAqICAgICAgICAgIEx8ICAgICAgICAgICAgICAgICAgICAgICB8UlxuICAgICAqICAgICAgICAgICB8ICAgICAgICAgICAgICAgICAgICAgICB8XG4gICAgICogICAgICAgICAgIEMtLS0tLS0tLS0tLUItLS0tLS0tLS0tLStcbiAgICAgKiAgICAgICAgICAvIFxcXG4gICAgICogICAgICAgICAvICAgXFxyICAgICBfLi1FXG4gICAgICogICAgICAgIC8gICAgIFxcIF8uLSdcbiAgICAgKiAgICAgICAvICAgIF8uLUlcbiAgICAgKiAgICAgIC8gXy4tJ1xuICAgICAqICAgICBTLSdcbiAgICAgKlxuICAgICAqIFMgPSBzdGFydCBvZiBjaXJjbGUncyBwYXRoXG4gICAgICogRSA9IGVuZCBvZiBjaXJjbGUncyBwYXRoXG4gICAgICogTFRSQiA9IHNpZGVzIG9mIHRoZSByZWN0YW5nbGVcbiAgICAgKiBJID0ge2l4LCBpWX0gPSBwb2ludCBhdCB3aGljaCB0aGUgY2lyY2xlIGludGVyc2VjdHMgd2l0aCB0aGUgcmVjdGFuZ2xlXG4gICAgICogQyA9IGNvcm5lciBvZiBpbnRlcnNlY3Rpb24gKGFuZCBjb2xsaXNpb24gcG9pbnQpXG4gICAgICogQz0+SSAocikgPSB7bngsIG55fSA9IHJhZGl1cyBhbmQgaW50ZXJzZWN0aW9uIG5vcm1hbFxuICAgICAqIFM9PkMgPSBjb3JuZXJkaXN0XG4gICAgICogUz0+SSA9IGludGVyc2VjdGlvbkRpc3RhbmNlXG4gICAgICogUz0+RSA9IGxpbmVMZW5ndGhcbiAgICAgKiA8UyA9IGlubmVyQW5nbGVcbiAgICAgKiA8SSA9IGFuZ2xlMVxuICAgICAqIDxDID0gYW5nbGUyXG4gICAgICovXG4gICAgbGV0IGludmVyc2VSYWRpdXMgPSAxIC8gcjtcbiAgICBsZXQgbGluZUxlbmd0aCA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgbGV0IGNvcm5lcmR4ID0gY29ybmVyWCAtIHAxLng7XG4gICAgbGV0IGNvcm5lcmR5ID0gY29ybmVyWSAtIHAxLnk7XG4gICAgbGV0IGNvcm5lckRpc3RhbmNlID0gTWF0aC5zcXJ0KGNvcm5lcmR4ICogY29ybmVyZHggKyBjb3JuZXJkeSAqIGNvcm5lcmR5KTtcbiAgICBsZXQgaW5uZXJBbmdsZSA9IE1hdGguYWNvcygoY29ybmVyZHggKiBkeCArIGNvcm5lcmR5ICogZHkpIC8gKGxpbmVMZW5ndGggKiBjb3JuZXJEaXN0YW5jZSkpO1xuXG4gICAgLy8gSWYgdGhlIGNpcmNsZSBpcyB0b28gY2xvc2UsIG5vIGludGVyc2VjdGlvblxuICAgIGlmIChjb3JuZXJEaXN0YW5jZSA8IHIpIHJldHVybjtcblxuICAgIC8vIElmIGlubmVyIGFuZ2xlIGlzIHplcm8sIGl0J3MgZ29pbmcgdG8gaGl0IHRoZSBjb3JuZXIgc3RyYWlnaHQgb24uXG4gICAgaWYgKGlubmVyQW5nbGUgPT09IDApIHtcbiAgICAgIGxldCB0aW1lID0gKGNvcm5lckRpc3RhbmNlIC0gcikgLyBsaW5lTGVuZ3RoO1xuXG4gICAgICAgIC8vIElnbm9yZSBpZiB0aW1lIGlzIG91dHNpZGUgYm91bmRhcmllcyBvZiAocDEsIHAyKVxuICAgICAgICBpZiAodGltZSA+IDEgfHwgdGltZSA8IDApIHJldHVybjtcblxuICAgICAgICBsZXQgaXggPSB0aW1lICogZHggKyBwMS54O1xuICAgICAgICBsZXQgaXkgPSB0aW1lICogZHkgKyBwMS55O1xuICAgICAgICBsZXQgbnggPSBjb3JuZXJkeCAvIGNvcm5lckRpc3RhbmNlO1xuICAgICAgICBsZXQgbnkgPSBjb3JuZXJkeSAvIGNvcm5lckRpc3RhbmNlO1xuXG4gICAgICAgIHJldHVybiBpc05hTihpeCkgPyB1bmRlZmluZWQgOiB7IHg6IGl4LCB5OiBpeSwgdDogdGltZSwgbngsIG55LCBpeDogY29ybmVyWCwgaXk6IGNvcm5lclkgfTtcbiAgICB9XG5cbiAgICBsZXQgaW5uZXJBbmdsZVNpbiA9IE1hdGguc2luKGlubmVyQW5nbGUpO1xuICAgIGxldCBhbmdsZTFTaW4gPSBpbm5lckFuZ2xlU2luICogY29ybmVyRGlzdGFuY2UgKiBpbnZlcnNlUmFkaXVzO1xuXG4gICAgLy8gSWYgdGhlIGFuZ2xlIGlzIHRvbyBsYXJnZSwgdGhlcmUgaXMgbm8gY29sbGlzaW9uXG4gICAgaWYgKE1hdGguYWJzKGFuZ2xlMVNpbikgPiAxKSByZXR1cm47XG5cbiAgICBsZXQgYW5nbGUxID0gTWF0aC5QSSAtIE1hdGguYXNpbihhbmdsZTFTaW4pO1xuICAgIGxldCBhbmdsZTIgPSBNYXRoLlBJIC0gaW5uZXJBbmdsZSAtIGFuZ2xlMTtcbiAgICBsZXQgaW50ZXJzZWN0aW9uRGlzdGFuY2UgPSByICogTWF0aC5zaW4oYW5nbGUyKSAvIGlubmVyQW5nbGVTaW47XG4gICAgbGV0IHRpbWUgPSBpbnRlcnNlY3Rpb25EaXN0YW5jZSAvIGxpbmVMZW5ndGg7XG5cbiAgICAvLyBJZ25vcmUgaWYgdGltZSBpcyBvdXRzaWRlIGJvdW5kYXJpZXMgb2YgKHAxLCBwMilcbiAgICBpZiAodGltZSA+IDEgfHwgdGltZSA8IDApIHJldHVybjtcblxuICAgIGxldCBpeCA9IHRpbWUgKiBkeCArIHAxLng7XG4gICAgbGV0IGl5ID0gdGltZSAqIGR5ICsgcDIueTtcbiAgICBsZXQgbnggPSAoaXggLSBjb3JuZXJYKSAqIGludmVyc2VSYWRpdXM7XG4gICAgbGV0IG55ID0gKGl5IC0gY29ybmVyWSkgKiBpbnZlcnNlUmFkaXVzO1xuXG4gICAgcmV0dXJuIGlzTmFOKGl4KSA/IHVuZGVmaW5lZCA6IHsgeDogaXgsIHk6IGl5LCB0OiB0aW1lLCBueCwgbnksIGl4OiBjb3JuZXJYLCBpeTogY29ybmVyWSB9O1xuICB9LFxuXG4gIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE4NjgzMTc5L2hvdy10by1maXgtY2lyY2xlcy1vdmVybGFwLWluLWNvbGxpc2lvbi1yZXNwb25zZVxuICAvL1xuICAvLyBUaGlzIGlzIGFuIGluY3JlZGlibHkgc2ltcGxlIGltcGxlbWVudGF0aW9uIHRoYXQgQVNTVU1FUyB2ZXJ5IHNtYWxsIHZlbG9jaXRpZXMuIEl0IGRvZXNuJ3QgYXR0ZW1wdFxuICAvLyB0byBhbnN3ZXIgdGhlIHF1ZXN0aW9uIGFib3V0IFwid2hlblwiIHRoZSBpbnRlcnNlY3Rpb24gaGFwcGVuZWQgbGlrZSB0aGUgbWV0aG9kIGFib3ZlIC0gbWF5XG4gIC8vIGZpeCB0aGF0IGluIGZ1dHVyZS5cbiAgaW50ZXJzZWN0Q2lyY2xlQ2lyY2xlMihwMSwgcjEsIHYxLCBwMiwgcjIsIHYyKSB7XG4gICAgW3YxLCB2Ml0gPSBbR2VvbWV0cnkudmVjdG9yMnBvaW50KHYxKSwgR2VvbWV0cnkudmVjdG9yMnBvaW50KHYyKV07XG4gICAgbGV0IGExID0geyB4OiBwMS54ICsgdjEueCwgeTogcDEueSArIHYxLnkgfTtcbiAgICBsZXQgYTIgPSB7IHg6IHAyLnggKyB2Mi54LCB5OiBwMi55ICsgdjIueSB9O1xuICAgIGxldCBkZWx0YSA9IEdlb21ldHJ5LnZlY3RvckJldHdlZW4oYTEsIGEyKTtcbiAgICBpZiAoZGVsdGEubSA8IHIxICsgcjIpIHtcbiAgICAgIHJldHVybiB7IG54OiBkZWx0YS54LCBueTogZGVsdGEueSwgbTogcjEgKyByMiAtIGRlbHRhLm0gfTtcbiAgICB9XG4gIH0sXG5cbiAgZmxvb2QobWF6ZSwgcG9zKSB7XG4gICAgbGV0IHJlc3VsdCA9IEdlb21ldHJ5LmFycmF5MmQobWF6ZVswXS5sZW5ndGgsIG1hemUubGVuZ3RoLCAxMDApO1xuICAgIGNvbnNvbGUubG9nKHJlc3VsdFswXVswXSk7XG4gICAgbGV0IHN0YWNrID0gW3sgLi4ucG9zLCBjb3N0OiAwIH1dO1xuICAgIHdoaWxlIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICBsZXQgeyBxLCByLCBjb3N0IH0gPSBzdGFjay5zaGlmdCgpO1xuICAgICAgaWYgKHJlc3VsdFtyXVtxXSA8PSBjb3N0KSBjb250aW51ZTtcbiAgICAgIHJlc3VsdFtyXVtxXSA9IGNvc3QrKztcbiAgICAgIGlmIChtYXplW3JdW3EgKyAxXSAmJiByZXN1bHRbcl1bcSArIDFdID4gY29zdCkgc3RhY2sucHVzaCh7IHE6IHEgKyAxLCByLCBjb3N0IH0pO1xuICAgICAgaWYgKG1hemVbcl1bcSAtIDFdICYmIHJlc3VsdFtyXVtxIC0gMV0gPiBjb3N0KSBzdGFjay5wdXNoKHsgcTogcSAtIDEsIHIsIGNvc3QgfSk7XG4gICAgICBpZiAobWF6ZVtyICsgMV1bcV0gJiYgcmVzdWx0W3IgKyAxXVtxXSA+IGNvc3QpIHN0YWNrLnB1c2goeyBxLCByOiByICsgMSwgY29zdCB9KTtcbiAgICAgIGlmIChtYXplW3IgLSAxXVtxXSAmJiByZXN1bHRbciAtIDFdW3FdID4gY29zdCkgc3RhY2sucHVzaCh7IHEsIHI6IHIgLSAxLCBjb3N0IH0pO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhbXCItLS1cIiwgcmVzdWx0LCBcIi0tLVwiXSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcblxuICBhcnJheTJkKHdpZHRoLCBoZWlnaHQsIHZhbHVlKSB7XG4gICAgbGV0IGZuID0gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nID8gdmFsdWUgOiAoKSA9PiB2YWx1ZTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogaGVpZ2h0IH0sICgpID0+IEFycmF5LmZyb20oeyBsZW5ndGg6IHdpZHRoIH0sIGZuKSk7XG4gIH0sXG5cbiAgdGlsZUlzUGFzc2FibGUocSwgcikge1xuICAgIHJldHVybiAhIWdhbWUubWF6ZS5tYXplW3JdW3FdO1xuICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFNlZWRlZCByYW5kb20gbnVtYmVyIGdlbmVyYXRvciwgdXNpbmcgU2ltcGxlRmFzdENvdW50ZXIgZm9yIGdlbmVyYXRvciBhbmRcbiAqIHhtdXIzIGZvciBoYXNoaW5nLlxuICpcbiAqIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzUyMTI5NS9zZWVkaW5nLXRoZS1yYW5kb20tbnVtYmVyLWdlbmVyYXRvci1pbi1qYXZhc2NyaXB0XG4gKi9cbmV4cG9ydCBjb25zdCBSYW5kb20gPSB7XG4gICAgc2ZjMzIoYSwgYiwgYywgZCkge1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgYSA+Pj49IDA7IGIgPj4+PSAwOyBjID4+Pj0gMDsgZCA+Pj49IDA7XG4gICAgICAgICAgICBsZXQgdCA9IChhICsgYikgfCAwO1xuICAgICAgICAgICAgYSA9IGIgXiBiID4+PiA5O1xuICAgICAgICAgICAgYiA9IGMgKyAoYyA8PCAzKSB8IDA7XG4gICAgICAgICAgICBjID0gKGMgPDwgMjEgfCBjID4+PiAxMSk7XG4gICAgICAgICAgICBkID0gZCArIDEgfCAwO1xuICAgICAgICAgICAgdCA9IHQgKyBkIHwgMDtcbiAgICAgICAgICAgIGMgPSBjICsgdCB8IDA7XG4gICAgICAgICAgICByZXR1cm4gKHQgPj4+IDApIC8gNDI5NDk2NzI5NjtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICB4bXVyMyhzdHIpIHtcbiAgICAgICAgbGV0IGksIGg7XG4gICAgICAgIGZvciAoaSA9IDAsIGggPSAxNzc5MDMzNzAzIF4gc3RyLmxlbmd0aDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaCA9IE1hdGguaW11bChoIF4gc3RyLmNoYXJDb2RlQXQoaSksIDM0MzI5MTgzNTMpO1xuICAgICAgICAgICAgaCA9IGggPDwgMTMgfCBoID4+PiAxOTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBoID0gTWF0aC5pbXVsKGggXiBoID4+PiAxNiwgMjI0NjgyMjUwNyk7XG4gICAgICAgICAgICBoID0gTWF0aC5pbXVsKGggXiBoID4+PiAxMywgMzI2NjQ4OTkwOSk7XG4gICAgICAgICAgICByZXR1cm4gKGggXj0gaCA+Pj4gMTYpID4+PiAwO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHNlZWQoc3RyKSB7XG4gICAgICAgIGxldCBzZWVkZm4gPSB0aGlzLnhtdXIzKHN0cik7XG4gICAgICAgIGxldCByYW5kZm4gPSB0aGlzLnNmYzMyKHNlZWRmbigpLCBzZWVkZm4oKSwgc2VlZGZuKCksIHNlZWRmbigpKTtcblxuICAgICAgICAvLyBJZiBtaW4vbWF4IGFyZSBub3Qgc3VwcGxpZWQsIHJldHVybnMgYSByYW5kb20gZmxvYXRpbmcgcG9pbnQgdmFsdWVcbiAgICAgICAgLy8gKD49MCAmJiA8MSkuIElmIHRoZXkgYXJlIHN1cHBsaWVkLCByZXR1cm5zIGEgcmFuZG9tIGludGVnZXIgdmFsdWVcbiAgICAgICAgLy8gKD49bWluICYmIDxtYXgpLlxuICAgICAgICByZXR1cm4gKG1pbiwgbWF4KSA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG1pbiA9PT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgbWF4ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IocmFuZGZuKCkgKiAobWF4IC0gbWluKSkgKyBtaW47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiByYW5kZm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vLyBodHRwczovL2pvdXJuYWwuc3R1ZmZ3aXRoc3R1ZmYuY29tLzIwMTQvMTIvMjEvcm9vbXMtYW5kLW1hemVzL1xuXG5cbmltcG9ydCB7IENvbnN0YW50cyBhcyBDIH0gZnJvbSAnLi9Db25zdGFudHMnO1xuaW1wb3J0IHsgR2VvbWV0cnkgYXMgRyB9IGZyb20gJy4vR2VvbWV0cnknO1xuaW1wb3J0IHsgUmFuZG9tIH0gZnJvbSAnLi9SYW5kb20nO1xuXG5jb25zdCBDUk9TUyA9IFtcbiAgICB7IHE6IDAsIHI6IDAgfSxcbiAgICB7IHE6IDAsIHI6IC0xIH0sXG4gICAgeyBxOiAwLCByOiAxIH0sXG4gICAgeyBxOiAtMSwgcjogMCB9LFxuICAgIHsgcTogMSwgcjogMCB9XG5dO1xuXG5jb25zdCBDQVJESU5BTFMgPSBbXG4gICAgeyBxOiAwLCByOiAtMSB9LFxuICAgIHsgcTogMCwgcjogMSB9LFxuICAgIHsgcTogLTEsIHI6IDAgfSxcbiAgICB7IHE6IDEsIHI6IDAgfVxuXTtcblxuLy8gTWF6ZSBHZW5lcmF0b3IgLSBUT0RPXG4vL1xuLy9cbmV4cG9ydCBjb25zdCBNYXplR2VuZXJhdG9yID0ge1xuICAgIG9wZW5Dcm9zc0NlbGxzKG1hemUsIHEsIHIpIHtcbiAgICAgICAgcmV0dXJuIENST1NTLmZpbHRlcihkaXIgPT4ge1xuICAgICAgICAgICAgbGV0IFtjcSwgY3JdID0gW3EgKyBkaXIucSwgciArIGRpci5yXTtcbiAgICAgICAgICAgIHJldHVybiBjciA+PSAwICYmIGNyIDwgbWF6ZS5sZW5ndGggJiYgY3EgPj0gMCAmJiBjcSA8IG1hemVbMF0ubGVuZ3RoICYmICFtYXplW2NyXVtjcV07XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBhdHRlbXB0Um9vbVBsYWNlbWVudChtYXplLCByYW5kLCBib3VuZHMsIHdpZHRoLCBoZWlnaHQsIHJvb21OdW1iZXIpIHtcbiAgICAgICAgbGV0IHEgPSByYW5kKDAsIChib3VuZHNbMV0ucSAtIHdpZHRoKSAvIDIpICogMiArIDE7XG4gICAgICAgIGxldCByID0gcmFuZCgwLCAoYm91bmRzWzFdLnIgLSBoZWlnaHQpIC8gMikgKiAyICsgMTtcbiAgICAgICAgbGV0IGZvdW5kID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRVTkVBQkxFXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFlvdSBjYW4gbmV2ZXIgXCJ0b3VjaFwiIHRoZSBzcGF3biByb29tIChSb29tICMxKS4gSWYgeW91IHRvdWNoIGFub3RoZXIgcm9vbSxcbiAgICAgICAgLy8gdGhlcmUncyBhIDklIGNoYW5jZSBmb3IgZWFjaCBhdHRlbXB0IHRvIGFsbG93IHRoZSByb29tIHRvIGJlIGJ1aWx0LCBwb3RlbnRpYWxseVxuICAgICAgICAvLyBvdmVybGFwcGluZy9pbnRlcnNlY3RpbmcsIG9yIGV2ZW4gY29tcGxldGVseSBlY2xpcHNpbmcgdGhlIHByZXZpb3VzIHJvb21cbiAgICAgICAgLy8gaWYgdGhpcyByb29tIGlzIGxhcmdlci5cbiAgICAgICAgLy9cbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBoZWlnaHQ7IGorKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3aWR0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hemVbcitqXVtxK2ldKSByb29tTnVtYmVyID0gZm91bmQgPSBtYXplW3Iral1bcStpXTtcbiAgICAgICAgICAgICAgICBpZiAobWF6ZVtyK2pdW3EraV09PT0xKSByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvdW5kICYmIHJhbmQoKSA+IDAuMDEpIHJldHVybjtcblxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGhlaWdodDsgaisrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdpZHRoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBtYXplW3Iral1bcStpXSA9IHJvb21OdW1iZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4geyBxLCByLCB3aWR0aCwgaGVpZ2h0LCByb29tTnVtYmVyIH07XG4gICAgfSxcblxuICAgIGNhcnZlTWF6ZShtYXplLCByYW5kLCBzdGFydFEsIHN0YXJ0Uiwgcm9vbU51bWJlcikge1xuICAgICAgICBsZXQgY2VsbHMgPSBbeyBxOiBzdGFydFEsIHI6IHN0YXJ0UiB9XTtcbiAgICAgICAgbWF6ZVtzdGFydFJdW3N0YXJ0UV0gPSByb29tTnVtYmVyO1xuXG4gICAgICAgIHdoaWxlIChjZWxscy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gVFVORUFCTEVcbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBXaGVuIGNhcnZpbmcsIHdlIGNhbiBhdHRlbXB0IHRvIGNhcnZlIG9mZiBhbnkgY2VsbCBpbiBvdXIgY29sbGVjdGVkIGxpc3QuIEZvclxuICAgICAgICAgICAgLy8gdGhpcyBnYW1lLCB3ZSBjaG9vc2UgNzUlIHRvIGtlZXAgY2FydmluZyBvZmYgdGhlIGxhc3QgY2VsbCB3ZSBjYXJ2ZWQgKHdpbmR5IHBhc3NhZ2UpLFxuICAgICAgICAgICAgLy8gYW5kIDI1JSB0byBjYXJ2ZSBzb21ld2hlcmUgZWxzZSAoYnJhbmNoKS4gSWYgd2UgY2hvb3NlIHRvIGJyYW5jaCwgdGhhdCdzIHRoZVxuICAgICAgICAgICAgLy8gbmV3IHdpbmR5IHBhc3NhZ2UsIGxlYXZpbmcgdGhlIG9sZCBvbmUgZm9yIGxhdGVyLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIGxldCBpZHggPSByYW5kKCkgPCAwLjI1ID8gcmFuZCgwLCBjZWxscy5sZW5ndGgpIDogY2VsbHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGxldCBjZWxsID0gY2VsbHNbaWR4XTtcbiAgICAgICAgICAgIGlmIChpZHggIT09IGNlbGxzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBjZWxscy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICBjZWxscy5wdXNoKGNlbGwpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcG9zc2libGUgPSBDQVJESU5BTFMuZmlsdGVyKGRpciA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hemVHZW5lcmF0b3Iub3BlbkNyb3NzQ2VsbHMobWF6ZSwgY2VsbC5xICsgZGlyLnEsIGNlbGwuciArIGRpci5yKS5sZW5ndGggPT09IDQ7XG4gICAgICAgICAgICB9KTtcbi8qXG4gICAgICAgICAgICBsZXQgcG9zc2libGUgPSBDQVJESU5BTFMuZmlsdGVyKGRpciA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coY2VsbC5yICsgZGlyLnIsIGNlbGwucSArIGRpci5xKTtcbiAgICAgICAgICAgICAgICBpZiAoY2VsbC5yICsgZGlyLnIgPCAwIHx8IGNlbGwuciArIGRpci5yID49IG1hemUubGVuZ3RoIHx8IGNlbGwucSArIGRpci5xIDwgMCB8fCBjZWxsLnEgKyBkaXIucSA+PSBtYXplWzBdLmxlbmd0aCkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChtYXplW2NlbGwuciArIGRpci5yXVtjZWxsLnEgKyBkaXIucV0pIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGxldCBvcGVuQ2VsbHMgPSBDQVJESU5BTFMuZmlsdGVyKGRpcjIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgW2NxLCBjcl0gPSBbY2VsbC5xICsgZGlyLnEgKyBkaXIyLnEsIGNlbGwuciArIGRpci5yICsgZGlyMi5yXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNyIDwgMCB8fCBjciA+PSBtYXplLmxlbmd0aCB8fCBjcSA8IDAgfHwgY3EgPj0gbWF6ZVswXS5sZW5ndGgpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFtYXplW2NyXVtjcV07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coW2Rpci5xLCBkaXIuciwgb3BlbkNlbGxzLmxlbmd0aF0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wZW5DZWxscy5sZW5ndGggPT09IDM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBvc3NpYmxlKTtcbiAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIGlmIChwb3NzaWJsZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBjZWxscy5zcGxpY2UoY2VsbHMuaW5kZXhPZihjZWxsKSwgMSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBjaG9pY2UgPSBwb3NzaWJsZVtyYW5kKDAsIHBvc3NpYmxlLmxlbmd0aCldO1xuICAgICAgICAgICAgICAgIG1hemVbY2VsbC5yICsgY2hvaWNlLnJdW2NlbGwucSArIGNob2ljZS5xXSA9IHJvb21OdW1iZXI7XG4gICAgICAgICAgICAgICAgY2VsbHMucHVzaCh7IHE6IGNlbGwucSArIGNob2ljZS5xLCByOiBjZWxsLnIgKyBjaG9pY2UuciB9KTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjZWxscyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgY2FydmVDb25uZWN0b3JzKG1hemUsIHJhbmQpIHtcbiAgICAgICAgbGV0IGNvbm5lY3RvcnMgPSBbXTtcbiAgICAgICAgbGV0IHJvb21zID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgciA9IDE7IHIgPCBtYXplLmxlbmd0aCAtIDE7IHIrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgcSA9IDE7IHEgPCBtYXplLmxlbmd0aCAtIDE7IHErKykge1xuICAgICAgICAgICAgICAgIGxldCByb29tMSwgcm9vbTI7XG5cbiAgICAgICAgICAgICAgICBsZXQgW3VwLCBkb3duLCBsZWZ0LCByaWdodF0gPSBbXG4gICAgICAgICAgICAgICAgICAgIG1hemVbciAtIDFdW3FdLFxuICAgICAgICAgICAgICAgICAgICBtYXplW3IgKyAxXVtxXSxcbiAgICAgICAgICAgICAgICAgICAgbWF6ZVtyXVtxIC0gMV0sXG4gICAgICAgICAgICAgICAgICAgIG1hemVbcl1bcSArIDFdXG4gICAgICAgICAgICAgICAgXTtcblxuICAgICAgICAgICAgICAgIGlmICh1cCAmJiBkb3duICYmIHVwICE9PSBkb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvb20xID0gdXAsIHJvb20yID0gZG93bjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxlZnQgJiYgcmlnaHQgJiYgbGVmdCAhPT0gcmlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcm9vbTEgPSBsZWZ0LCByb29tMiA9IHJpZ2h0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChyb29tMSAmJiByb29tMikge1xuICAgICAgICAgICAgICAgICAgICBpZiAocm9vbTEgPiByb29tMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgW3Jvb20xLCByb29tMl0gPSBbcm9vbTIsIHJvb20xXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3JzLnB1c2goeyBxLCByLCByb29tMSwgcm9vbTIgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJvb21zLnB1c2gocm9vbTEsIHJvb20yKTtcbiAgICAgICAgICAgICAgICAgICAgLy9jb25uZWN0b3JzLnB1c2goeyBxLCByLCByb29tMTogcm9vbTIsIHJvb20yOiByb29tMSB9KTtcbiAgICAgICAgICAgICAgICAgICAgLypjb25uZWN0b3JzW3Jvb20xXSA9IGNvbm5lY3RvcnNbcm9vbTFdIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3JzW3Jvb20xXVtyb29tMl0gPSBjb25uZWN0b3JzW3Jvb20xXVtyb29tMl0gfHwgW107XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3RvcnNbcm9vbTFdW3Jvb20yXS5wdXNoKHsgcSwgciB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yc1tyb29tMl0gPSBjb25uZWN0b3JzW3Jvb20yXSB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdG9yc1tyb29tMl1bcm9vbTFdID0gY29ubmVjdG9yc1tyb29tMl1bcm9vbTFdIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICBjb25uZWN0b3JzW3Jvb20yXVtyb29tMV0ucHVzaCh7IHEsIHIgfSk7Ki9cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZ3JvdXBzID0gWy4uLm5ldyBTZXQocm9vbXMpXS5tYXAoYSA9PiBbYV0pO1xuICAgICAgICBjb25zb2xlLmxvZyhncm91cHMpO1xuXG4gICAgICAgIHdoaWxlIChjb25uZWN0b3JzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCBpZHggPSByYW5kKDAsIGNvbm5lY3RvcnMubGVuZ3RoKTtcbiAgICAgICAgICAgIGxldCBjaG9pY2UgPSBjb25uZWN0b3JzLnNwbGljZShpZHgsIDEpWzBdO1xuICAgICAgICAgICAgbWF6ZVtjaG9pY2Uucl1bY2hvaWNlLnFdID0gY2hvaWNlLnJvb20xO1xuXG4gICAgICAgICAgICBsZXQgZ3JvdXAxID0gZ3JvdXBzLmZpbmQoZ3JvdXAgPT4gZ3JvdXAuaW5jbHVkZXMoY2hvaWNlLnJvb20xKSk7XG4gICAgICAgICAgICBsZXQgZ3JvdXAyID0gZ3JvdXBzLmZpbmQoZ3JvdXAgPT4gZ3JvdXAuaW5jbHVkZXMoY2hvaWNlLnJvb20yKSk7XG5cbiAgICAgICAgICAgIGlmIChyYW5kKCkgPiAwLjIpIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0b3JzID0gY29ubmVjdG9ycy5maWx0ZXIoYyA9PiAhKFxuICAgICAgICAgICAgICAgICAgICAoZ3JvdXAxLmluY2x1ZGVzKGMucm9vbTEpICYmIGdyb3VwMi5pbmNsdWRlcyhjLnJvb20yKSkgfHxcbiAgICAgICAgICAgICAgICAgICAgKGdyb3VwMi5pbmNsdWRlcyhjLnJvb20xKSAmJiBncm91cDEuaW5jbHVkZXMoYy5yb29tMikpXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChncm91cDEgIT09IGdyb3VwMikge1xuICAgICAgICAgICAgICAgIGdyb3Vwcy5zcGxpY2UoZ3JvdXBzLmluZGV4T2YoZ3JvdXAyKSwgMSk7XG4gICAgICAgICAgICAgICAgZ3JvdXAxLnB1c2goLi4uZ3JvdXAyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuLypcbiAgICAgICAgd2hpbGUgKGdyb3Vwcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBsZXQgYSA9IHJhbmQoMCwgZ3JvdXBzLmxlbmd0aCk7XG4gICAgICAgICAgICBsZXQgYiA9IChhICsgMSkgJSBncm91cHMubGVuZ3RoO1xuICAgICAgICAgICAgbGV0IHBvc3NpYmxlID0gY29ubmVjdG9ycy5maWx0ZXIocGFpciA9PiBncm91cHNbYV0uaW5jbHVkZXMocGFpci5yb29tMSkgJiYgZ3JvdXBzW2JdLmluY2x1ZGVzKHBhaXIucm9vbTIpKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBvc3NpYmxlKTtcbiAgICAgICAgICAgIGxldCBjaG9pY2UgPSBwb3NzaWJsZVtyYW5kKDAsIHBvc3NpYmxlLmxlbmd0aCldO1xuXG4gICAgICAgICAgICBtYXplW2Nob2ljZS5yXVtjaG9pY2UucV0gPSBwYWlyLnJvb20xO1xuICAgICAgICAgICAgZ3JvdXBzLnNwbGljZShiLCAxKTtcbiAgICAgICAgICAgIGdyb3Vwc1thXSA9IGdyb3Vwc1thXS5jb25jYXQoZ3JvdXBzW2JdKTtcbiAgICAgICAgfVxuICAgICAgICAqL1xuXG4gICAgICAgIC8qZm9yIChsZXQgcGFpciBvZiBPYmplY3Qua2V5cyhjb25uZWN0b3JzKSkge1xuICAgICAgICAgICAgbGV0IGNob2ljZSA9IGNvbm5lY3RvcnNbcGFpcl1bcmFuZCgwLCBjb25uZWN0b3JzW3BhaXJdLmxlbmd0aCldO1xuICAgICAgICAgICAgbWF6ZVtjaG9pY2Uucl1bY2hvaWNlLnFdID0gMjtcbiAgICAgICAgfSovXG4gICAgfSxcblxuICAgIHBydW5lRGVhZEVuZHMobWF6ZSwgcmFuZCkge1xuICAgICAgICBsZXQgZGVhZEVuZHMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCByID0gMDsgciA8IG1hemUubGVuZ3RoOyByKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHEgPSAwOyBxIDwgbWF6ZVswXS5sZW5ndGg7IHErKykge1xuICAgICAgICAgICAgICAgIGlmIChtYXplW3JdW3FdICYmIE1hemVHZW5lcmF0b3Iub3BlbkNyb3NzQ2VsbHMobWF6ZSwgcSwgcikubGVuZ3RoID49IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVhZEVuZHMucHVzaCh7IHEsIHIgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKGRlYWRFbmRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCBpZHggPSByYW5kKDAsIGRlYWRFbmRzLmxlbmd0aCk7XG4gICAgICAgICAgICBsZXQgY2VsbCA9IGRlYWRFbmRzLnNwbGljZShpZHgsIDEpWzBdO1xuXG4gICAgICAgICAgICBpZiAocmFuZCgpIDwgMC40NSkge1xuICAgICAgICAgICAgICAgIGxldCBwb3NzaWJsZSA9IENBUkRJTkFMUy5maWx0ZXIoZGlyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hemVHZW5lcmF0b3Iub3BlbkNyb3NzQ2VsbHMobWF6ZSwgY2VsbC5xICsgZGlyLnEsIGNlbGwuciArIGRpci5yKS5sZW5ndGggPD0gMiAmJlxuICAgICAgICAgICAgICAgICAgICAgIChjZWxsLnErZGlyLnEpID49IDAgJiYgKGNlbGwucStkaXIucSkgPCBtYXplWzBdLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgICAgICAgIChjZWxsLnIrZGlyLnIpID49IDAgJiYgKGNlbGwucitkaXIucikgPCBtYXplLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBsZXQgY2hvaWNlID0gcG9zc2libGVbcmFuZCgwLCBwb3NzaWJsZS5sZW5ndGgpXTtcbiAgICAgICAgICAgICAgICBpZiAoY2hvaWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hemVbY2VsbC5yICsgY2hvaWNlLnJdW2NlbGwucSArIGNob2ljZS5xXSA9IG1hemVbY2VsbC5yXVtjZWxsLnFdO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyYW5kKCkgPiAwLjA1KSB7XG4gICAgICAgICAgICAgICAgbWF6ZVtjZWxsLnJdW2NlbGwucV0gPSAwO1xuICAgICAgICAgICAgICAgIENBUkRJTkFMUy5mb3JFYWNoKGRpciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBbY3EsIGNyXSA9IFtjZWxsLnEgKyBkaXIucSwgY2VsbC5yICsgZGlyLnJdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWF6ZVtjcl1bY3FdICYmIE1hemVHZW5lcmF0b3Iub3BlbkNyb3NzQ2VsbHMobWF6ZSwgY3EsIGNyKS5sZW5ndGggPj0gMyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgY3EgPj0gMCAmJiBjcSA8IG1hemVbMF0ubGVuZ3RoICYmIGNyID49IDAgJiYgY3IgPCBtYXplLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVhZEVuZHMucHVzaCh7IHE6IGNxLCByOiBjciB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIGNyZWF0ZVJvb21Mb29rdXAocm9vbXMpIHtcbiAgICAgICAgcmV0dXJuIHJvb21zLnJlZHVjZSgoaGFzaCwgcm9vbSkgPT4ge1xuICAgICAgICAgICAgaGFzaFtyb29tLnJvb21OdW1iZXJdID0gaGFzaFtyb29tLnJvb21OdW1iZXJdIHx8IFtdO1xuICAgICAgICAgICAgaGFzaFtyb29tLnJvb21OdW1iZXJdLnB1c2gocm9vbSk7XG4gICAgICAgICAgICByZXR1cm4gaGFzaDtcbiAgICAgICAgfSwge30pO1xuICAgIH0sXG5cbiAgICBjcmVhdGVUaWxlcyhtYXplLCByYW5kKSB7XG4gICAgICAgIGxldCB0aWxlcyA9IEcuYXJyYXkyZChtYXplWzBdLmxlbmd0aCwgbWF6ZS5sZW5ndGgsICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiAocmFuZCgpIDwgMC4xID8gQy5USUxFX1dBTEwyIDogQy5USUxFX1dBTEwxKSArICgwYjAwMF8wMTBfMDAwIDw8IDQpO1xuICAgICAgICB9KTtcbiAgICAgICAgZm9yIChsZXQgciA9IDA7IHIgPCB0aWxlcy5sZW5ndGg7IHIrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgcSA9IDA7IHEgPCB0aWxlc1swXS5sZW5ndGg7IHErKykge1xuICAgICAgICAgICAgICAgIGlmIChtYXplW3JdW3FdKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBrZXkgPVxuICAgICAgICAgICAgICAgICAgICAgICAgKG1hemVbciAtIDFdW3EgLSAxXSA/IDAgOiAwYjEwMF8wMDBfMDAwKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAobWF6ZVtyIC0gMV1bcV0gICAgID8gMCA6IDBiMDEwXzAwMF8wMDApICtcbiAgICAgICAgICAgICAgICAgICAgICAgIChtYXplW3IgLSAxXVtxICsgMV0gPyAwIDogMGIwMDFfMDAwXzAwMCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgKG1hemVbcl1bcSAtIDFdICAgICA/IDAgOiAwYjAwMF8xMDBfMDAwKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAobWF6ZVtyXVtxXSAgICAgICAgID8gMCA6IDBiMDAwXzAxMF8wMDApICtcbiAgICAgICAgICAgICAgICAgICAgICAgIChtYXplW3JdW3EgKyAxXSAgICAgPyAwIDogMGIwMDBfMDAxXzAwMCkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgKG1hemVbciArIDFdW3EgLSAxXSA/IDAgOiAwYjAwMF8wMDBfMTAwKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAobWF6ZVtyICsgMV1bcV0gICAgID8gMCA6IDBiMDAwXzAwMF8wMTApICtcbiAgICAgICAgICAgICAgICAgICAgICAgIChtYXplW3IgKyAxXVtxICsgMV0gPyAwIDogMGIwMDBfMDAwXzAwMSk7XG4gICAgICAgICAgICAgICAgICAgIHRpbGVzW3JdW3FdID0gKGtleSA8PCA0KSArIEMuVElMRV9GTE9PUjE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aWxlcztcbiAgICB9LFxuXG4gICAgZ2VuZXJhdGUoc2VlZCkge1xuICAgICAgICBsZXQgbWF6ZSA9IEcuYXJyYXkyZCg5OSwgOTksIDApO1xuICAgICAgICAvL2xldCByYW5kID0gUmFuZG9tLnNlZWQoXCJhcHBsZXNcIik7XG4gICAgICAgIGxldCByYW5kID0gUmFuZG9tLnNlZWQoc2VlZCk7XG5cbiAgICAgICAgbGV0IHJvb21OdW1iZXIgPSAxO1xuXG4gICAgICAgIGxldCByZXN1bHQgPSBNYXplR2VuZXJhdG9yLmF0dGVtcHRSb29tUGxhY2VtZW50KG1hemUsIHJhbmQsIFt7IHE6IDAsIHI6IDAgfSwgeyBxOiA5OSwgcjogOTkgfV0sIDExLCA5LCByb29tTnVtYmVyKyspO1xuICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgICBsZXQgcm9vbXMgPSBbcmVzdWx0XTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdyA9IHJhbmQoMywgNCkgKiAyICsgMTtcbiAgICAgICAgICAgIGxldCBoID0gcmFuZCgzLCA0KSAqIDIgKyAxO1xuICAgICAgICAgICAgcmVzdWx0ID0gTWF6ZUdlbmVyYXRvci5hdHRlbXB0Um9vbVBsYWNlbWVudChtYXplLCByYW5kLCBbeyBxOiAwLCByOiAwIH0sIHsgcTogOTksIHI6IDk5IH1dLCB3LCBoLCByb29tTnVtYmVyKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHJvb21zLnB1c2gocmVzdWx0KTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnJvb21OdW1iZXIgPT09IHJvb21OdW1iZXIpIHJvb21OdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdyA9IHJhbmQoMiwgNCkgKiAyICsgMTtcbiAgICAgICAgICAgIGxldCBoID0gcmFuZCgyLCA0KSAqIDIgKyAxO1xuICAgICAgICAgICAgcmVzdWx0ID0gTWF6ZUdlbmVyYXRvci5hdHRlbXB0Um9vbVBsYWNlbWVudChtYXplLCByYW5kLCBbeyBxOiAwLCByOiAwIH0sIHsgcTogOTksIHI6IDk5IH1dLCB3LCBoLCByb29tTnVtYmVyKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHJvb21zLnB1c2gocmVzdWx0KTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnJvb21OdW1iZXIgPT09IHJvb21OdW1iZXIpIHJvb21OdW1iZXIrKztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdyA9IHJhbmQoMSwgNCkgKiAyICsgMTtcbiAgICAgICAgICAgIGxldCBoID0gcmFuZCgxLCA0KSAqIDIgKyAxO1xuICAgICAgICAgICAgcmVzdWx0ID0gTWF6ZUdlbmVyYXRvci5hdHRlbXB0Um9vbVBsYWNlbWVudChtYXplLCByYW5kLCBbeyBxOiAwLCByOiAwIH0sIHsgcTogOTksIHI6IDk5IH1dLCB3LCBoLCByb29tTnVtYmVyKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHJvb21zLnB1c2gocmVzdWx0KTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnJvb21OdW1iZXIgPT09IHJvb21OdW1iZXIpIHJvb21OdW1iZXIrKztcbiAgICAgICAgfVxuXG4gICAgICAgIC8qXG4gICAgICAgIHJhbmRvbSByb29tIHBsYWNlbWVudFxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgOTAwOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB3ID0gcmFuZCgxLCA0KSAqIDIgKyAxO1xuICAgICAgICAgICAgbGV0IGggPSByYW5kKDEsIDQpICogMiArIDE7XG4gICAgICAgICAgICByZXN1bHQgPSBNYXplR2VuZXJhdG9yLmF0dGVtcHRSb29tUGxhY2VtZW50KG1hemUsIHJhbmQsIFt7IHE6IDAsIHI6IDAgfSwgeyBxOiA5OSwgcjogOTkgfV0sIHcsIGgsIHJvb21OdW1iZXIrKyk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgICovXG5cbiAgICAgICAgZm9yIChsZXQgciA9IDE7IHIgPCA5OTsgciArPSAyKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBxID0gMTsgcSA8IDk5OyBxICs9IDIpIHtcbiAgICAgICAgICAgICAgICBpZiAoTWF6ZUdlbmVyYXRvci5vcGVuQ3Jvc3NDZWxscyhtYXplLCBxLCByKS5sZW5ndGggPT09IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgTWF6ZUdlbmVyYXRvci5jYXJ2ZU1hemUobWF6ZSwgcmFuZCwgcSwgciwgcm9vbU51bWJlcisrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBNYXplR2VuZXJhdG9yLmNhcnZlQ29ubmVjdG9ycyhtYXplLCByYW5kKTtcblxuICAgICAgICBNYXplR2VuZXJhdG9yLnBydW5lRGVhZEVuZHMobWF6ZSwgcmFuZCk7XG5cbiAgICAgICAgbGV0IGhvbWVmbG93ID0gRy5mbG9vZChtYXplLCByb29tc1swXSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtYXplLFxuICAgICAgICAgICAgdGlsZXM6IE1hemVHZW5lcmF0b3IuY3JlYXRlVGlsZXMobWF6ZSwgcmFuZCksXG4gICAgICAgICAgICByYW5kLFxuICAgICAgICAgICAgcm9vbXM6IHRoaXMuY3JlYXRlUm9vbUxvb2t1cChyb29tcyksXG4gICAgICAgICAgICBmbG93aG9tZTogaG9tZWZsb3dcbiAgICAgICAgfTtcbiAgICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICcuL0Fzc2V0cyc7XG5pbXBvcnQgeyBDYW52YXMgfSBmcm9tICcuL0NhbnZhcyc7XG5cbmNvbnN0IENfV0lEVEggPSAzO1xuY29uc3QgQ19IRUlHSFQgPSA1O1xuXG4vLyBWZXJ5IHNpbXBsZSB2YXJpYWJsZS13aWR0aCBmb250IGltcGxlbWVudGF0aW9uLiBUaGUgY2hhcmFjdGVycyBpbiB0aGUgZm9udCBzdHJpcFxuLy8gYXJlIGxlZnQtYWxpZ25lZCBpbiB0aGVpciAzeDUgcGl4ZWwgYm94ZXMsIHNvIGluIG9yZGVyIHRvIGhhdmUgdmFyaWFibGUgd2lkdGgsXG4vLyB3ZSBqdXN0IG5lZWQgdG8gbm90ZSB0aGUgY2hhcmFjdGVycyB0aGF0IEFSRU4nVCBmdWxsIHdpZHRoLiBBbnl0aGluZyBub3QgaW5cbi8vIHRoaXMgbGlzdCBoYXMgZnVsbCBzaGlmdCAoMysxID0gNCBwaXhlbHMpLlxuY29uc3QgQ19TSElGVCA9IHtcbiAgICAzMjogMywgICAgICAgICAgLy8gU3BhY2VcbiAgICA0NDogMywgICAgICAgICAgLy8gQ29tbWFcbiAgICA0NjogMywgICAgICAgICAgLy8gUGVyaW9kXG4gICAgNzM6IDIgICAgICAgICAgIC8vIElcbn07XG5cbi8qKlxuICogVGV4dFxuICpcbiAqIFV0aWxpdGllcyBmb3IgZHJhd2luZyB0ZXh0IHVzaW5nIGluLWdhbWUgcGl4ZWwgZm9udC5cbiAqL1xuZXhwb3J0IGNvbnN0IFRleHQgPSB7XG4gICAgYXN5bmMgaW5pdCgpIHtcbiAgICAgICAgdGhpcy5kZWZhdWx0ID0gU3ByaXRlLmZvbnQuaW1nO1xuICAgICAgICB0aGlzLmZpcmUgPSB0aGlzLnJlY29sb3IodGhpcy5kZWZhdWx0LCBjdHggPT4ge1xuICAgICAgICAgICAgbGV0IGdyYWRpZW50ID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIDAsIDAsIHRoaXMuZGVmYXVsdC5oZWlnaHQpO1xuICAgICAgICAgICAgZ3JhZGllbnQuYWRkQ29sb3JTdG9wKDAsICdyZ2JhKDI0MCwxMzQsNTEsMSknKTtcbiAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcCgxLCAncmdiYSgyNTAsMjIwLDc0LDEpJyk7XG4gICAgICAgICAgICByZXR1cm4gZ3JhZGllbnQ7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNoYWRvdyA9IHRoaXMucmVjb2xvcih0aGlzLmRlZmF1bHQsICdyZ2JhKDI0MCwgMjQwLCAyNTUsIDAuMjUpJyk7XG4gICAgfSxcblxuICAgIGRyYXdUZXh0KGN0eCwgdGV4dCwgdSwgdiwgZm9udCA9IHRoaXMuZGVmYXVsdCwgc2NhbGUgPSAxKSB7XG4gICAgICAgIHRleHQgPSB0ZXh0LnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IHRleHQubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgbGV0IGMgPSB0ZXh0LmNoYXJDb2RlQXQoaWR4KTtcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoXG4gICAgICAgICAgICAgICAgZm9udCxcbiAgICAgICAgICAgICAgICAoYyAtIDMyKSAqIChDX1dJRFRIICsgMSksIDAsIENfV0lEVEgsIENfSEVJR0hULFxuICAgICAgICAgICAgICAgIHUsIHYsIENfV0lEVEggKiBzY2FsZSwgQ19IRUlHSFQgKiBzY2FsZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHUgKz0gKENfU0hJRlRbY10gfHwgKENfV0lEVEggKyAxKSkgKiBzY2FsZTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBkcmF3UmlnaHRUZXh0KGN0eCwgdGV4dCwgdSwgdiwgZm9udCA9IHRoaXMuZGVmYXVsdCwgc2NhbGUgPSAxKSB7XG4gICAgICAgIHRleHQgPSB0ZXh0LnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIHUgLT0gdGhpcy5tZWFzdXJlV2lkdGgodGV4dCwgc2NhbGUpO1xuICAgICAgICB0aGlzLmRyYXdUZXh0KGN0eCwgdGV4dCwgdSwgdiwgZm9udCwgc2NhbGUpO1xuICAgIH0sXG5cbiAgICBkcmF3UGFyYWdyYXBoKGN0eCwgdGV4dCwgdSwgdiwgdywgaCwgZm9udCA9IHRoaXMuZGVmYXVsdCwgc2NhbGUgPSAxKSB7XG4gICAgICAgIGxldCBjdSA9IHUsIGN2ID0gdiwgcGhyYXNlcyA9IHRleHQudG9VcHBlckNhc2UoKS5zcGxpdCgnICcpO1xuXG4gICAgICAgIGZvciAobGV0IHBocmFzZSBvZiBwaHJhc2VzKSB7XG4gICAgICAgICAgICBsZXQgcGhyYXNlV2lkdGggPSB0aGlzLm1lYXN1cmVXaWR0aChwaHJhc2UsIHNjYWxlKTtcbiAgICAgICAgICAgIGlmIChjdSArIHBocmFzZVdpZHRoIC0gdSA+IHcpIHtcbiAgICAgICAgICAgICAgICBjdSA9IHU7XG4gICAgICAgICAgICAgICAgY3YgKz0gKENfSEVJR0hUICsgMikgKiBzY2FsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZHJhd1RleHQoY3R4LCBwaHJhc2UsIGN1LCBjdiwgZm9udCwgc2NhbGUpO1xuICAgICAgICAgICAgY3UgKz0gcGhyYXNlV2lkdGggKyAoQ19TSElGVFszMl0gfHwgNCk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgbWVhc3VyZVdpZHRoKHRleHQsIHNjYWxlKSB7XG4gICAgICAgIHJldHVybiB0ZXh0LnNwbGl0KCcnKS5yZWR1Y2UoKHN1bSwgYykgPT4gc3VtICsgKENfU0hJRlRbYy5jaGFyQ29kZUF0KDApXSB8fCA0KSwgMCkgKiBzY2FsZTtcbiAgICB9LFxuXG4gICAgcmVjb2xvcihmb250LCBjb2xvcikge1xuICAgICAgICBsZXQgY2FudmFzID0gbmV3IENhbnZhcyhmb250LndpZHRoLCBmb250LmhlaWdodCk7XG4gICAgICAgIGNhbnZhcy5jdHguZmlsbFN0eWxlID0gdHlwZW9mIGNvbG9yID09PSBcImZ1bmN0aW9uXCIgPyBjb2xvcihjYW52YXMuY3R4KSA6IGNvbG9yO1xuICAgICAgICBjYW52YXMuY3R4LmZpbGxSZWN0KDAsIDAsIGZvbnQud2lkdGgsIGZvbnQuaGVpZ2h0KTtcbiAgICAgICAgY29uc29sZS5sb2coZm9udC53aWR0aCwgZm9udC5oZWlnaHQsIGNvbG9yLCBjYW52YXMpO1xuICAgICAgICBjYW52YXMuY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdkZXN0aW5hdGlvbi1pbic7XG4gICAgICAgIGNhbnZhcy5jdHguZHJhd0ltYWdlKGZvbnQsIDAsIDApO1xuICAgICAgICByZXR1cm4gY2FudmFzLmNhbnZhcztcbiAgICB9LFxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgZ2FtZSB9IGZyb20gJy4vR2FtZSc7XG5pbXBvcnQgeyBHZW9tZXRyeSBhcyBHIH0gZnJvbSAnLi9HZW9tZXRyeSc7XG5pbXBvcnQgeyBDb25zdGFudHMgYXMgQyB9IGZyb20gJy4vQ29uc3RhbnRzJztcblxuLyoqXG4gKiBEZXRlY3Rpb25cbiAqL1xuZXhwb3J0IGNvbnN0IERldGVjdGlvbiA9IHtcbiAgbGluZU9mU2lnaHQoYSwgYikge1xuICAgICAgLy8gdG9kbzogdGhpcyBjaGVja3MgY2VudGVyIG1hc3NcbiAgICAgIGZvciAobGV0IHRpbGUgb2YgRy50aWxlc0hpdEJldHdlZW4oYS5wb3MsIGIucG9zKSkge1xuICAgICAgICBpZiAoIUcudGlsZUlzUGFzc2FibGUodGlsZS5xLCB0aWxlLnIpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIHRvZG86IGRpc3RhbmNlIGF3YXlcbiAgICAgIC8vIHRvZG86IGZhY2luZyBjaGVja1xuICAgICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQmVoYXZpb3JcbiAqL1xuZXhwb3J0IGNvbnN0IEJlaGF2aW9yID0ge1xuICBJRExFOiAgIDEwMSxcbiAgV0FOREVSOiAxMDIsXG4gIENIQVNFOiAgMTAzLFxuICBIVU5UOiAgIDEwNCxcbiAgRkxFRTogICAxMDUsXG4gIERFQUQ6ICAgMTA2LFxuXG4gIEFUVEFDSzogMjAxLFxuICBSRUxPQUQ6IDIwMixcblxuICBhcHBseShlbnRpdGllcykge1xuICAgIGZvciAobGV0IGVudGl0eSBvZiBlbnRpdGllcykge1xuICAgICAgaWYgKGVudGl0eS50aGluaykgZW50aXR5LnRoaW5rKCk7XG4gICAgfVxuICB9XG59O1xuIiwiaW1wb3J0IHsgZ2FtZSB9IGZyb20gJy4vR2FtZSc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICcuL0Fzc2V0cyc7XG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gJy4vaW5wdXQvSW5wdXQnO1xuaW1wb3J0IHsgR2VvbWV0cnkgYXMgRyB9IGZyb20gJy4vR2VvbWV0cnknO1xuaW1wb3J0IHsgRGV0ZWN0aW9uIH0gZnJvbSAnLi9EZXRlY3Rpb24nO1xuaW1wb3J0IHsgQmVoYXZpb3IgfSBmcm9tICcuL3N5c3RlbXMvQmVoYXZpb3InO1xuXG4vKipcbiAqIE1vbnN0ZXJcbiAqL1xuZXhwb3J0IGNsYXNzIE1vbnN0ZXIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnBvcyA9IHsgeDogMCwgeTogMCB9O1xuICAgIHRoaXMudmVsID0geyB4OiAwLCB5OiAwIH07XG4gICAgdGhpcy5mYWNpbmcgPSB7IHg6IDAsIHk6IC0xLCBtOiAwIH07XG4gICAgdGhpcy5ocCA9IDEwMDtcbiAgICB0aGlzLmRhbWFnZSA9IFtdO1xuICAgIHRoaXMucmFkaXVzID0gMTE7XG5cbiAgICB0aGlzLm1hc3MgPSAwLjU7XG4gIH1cblxuICB0aGluaygpIHtcbiAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgIGNhc2UgQmVoYXZpb3IuSURMRTpcbiAgICAgICAgaWYgKERldGVjdGlvbi5saW5lT2ZTaWdodCh0aGlzLCBnYW1lLnBsYXllcikpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlID0gQmVoYXZpb3IuQ0hBU0U7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEJlaGF2aW9yLkNIQVNFOlxuICAgICAgICBsZXQgZGlmZiA9IEcudmVjdG9yQmV0d2Vlbih0aGlzLnBvcywgZ2FtZS5wbGF5ZXIucG9zKTtcbiAgICAgICAgZGlmZi5tID0gRy5jbGFtcChkaWZmLm0sIDAsIDEpO1xuICAgICAgICB0aGlzLnZlbCA9IHsgeDogZGlmZi54ICogZGlmZi5tLCB5OiBkaWZmLnkgKiBkaWZmLm0gfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEJlaGF2aW9yLkRFQUQ6XG4gICAgICAgIHRoaXMudmVsID0geyB4OiAwLCB5OiAwLCBtOiAwIH07XG4gICAgICAgIGlmICghdGhpcy5jdWxsdCkgdGhpcy5jdWxsdCA9IDE1O1xuICAgICAgICB0aGlzLmN1bGx0LS07XG4gICAgICAgIGlmICh0aGlzLmN1bGx0IDwgMSkgdGhpcy5jdWxsID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aGlzLnN0YXRlID0gQmVoYXZpb3IuSURMRTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgZHJhdyh2aWV3cG9ydCkge1xuICAgIC8vIFRPRE9cbiAgICBpZiAodGhpcy5zdGF0ZSA9PT0gQmVoYXZpb3IuREVBRCkge1xuICAgICAgU3ByaXRlLmRyYXdWaWV3cG9ydFNwcml0ZSh2aWV3cG9ydCwgU3ByaXRlLm1vbnN0ZXJfZGVhZCwgdGhpcy5wb3MsIGdhbWUuY2FtZXJhLnBvcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIFNwcml0ZS5kcmF3Vmlld3BvcnRTcHJpdGUodmlld3BvcnQsIFNwcml0ZS5tb25zdGVyLCB0aGlzLnBvcywgZ2FtZS5jYW1lcmEucG9zKTtcbiAgICB9XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgZ2FtZSB9IGZyb20gJy4vR2FtZSc7XG5pbXBvcnQgeyBNb25zdGVyIH0gZnJvbSAnLi9Nb25zdGVyJztcbmltcG9ydCB7IFNwcml0ZSB9IGZyb20gJy4vQXNzZXRzJztcbmltcG9ydCB7IEdlb21ldHJ5IGFzIEcgfSBmcm9tICcuL0dlb21ldHJ5JztcbmltcG9ydCB7IHZpZXdwb3J0IH0gZnJvbSAnLi9WaWV3cG9ydCc7XG5cbmV4cG9ydCBjbGFzcyBTaG90Z3VuQmxhc3Qge1xuICBjb25zdHJ1Y3Rvcihwb3MsIGFuZ2xlKSB7XG4gICAgdGhpcy5wb3MgPSB7IC4uLnBvcyB9O1xuICAgIHRoaXMuYW5nbGUgPSBhbmdsZTtcbiAgICB0aGlzLnNwcmVhZCA9IEcuUkFEWzcwXTtcbiAgICB0aGlzLnJhbmdlID0gNTU7XG4gIH1cblxuICB0aGluaygpIHtcbiAgICB0aGlzLnQgPSAodGhpcy50IHx8IDApICsgMTtcblxuICAgIGlmICh0aGlzLnQgPT09IDMpIHtcbiAgICAgIGxldCBlbnRpdGllcyA9IGdhbWUuZW50aXRpZXMuZmlsdGVyKGVudGl0eSA9PiBlbnRpdHkgaW5zdGFuY2VvZiBNb25zdGVyKTtcbiAgICAgIGZvciAobGV0IGVudGl0eSBvZiBlbnRpdGllcykge1xuICAgICAgICBsZXQgdmVjdCA9IEcudmVjdG9yQmV0d2Vlbih0aGlzLnBvcywgZW50aXR5LnBvcyk7XG4gICAgICAgIGlmICh2ZWN0Lm0gPj0gdGhpcy5yYW5nZSArIGVudGl0eS5yYWRpdXMpIGNvbnRpbnVlO1xuXG4gICAgICAgIGxldCBkb3QxID0gRy52ZWN0b3JCZXR3ZWVuKFxuICAgICAgICAgIHRoaXMucG9zLFxuICAgICAgICAgIHsgeDogZW50aXR5LnBvcy54IC0gdmVjdC55ICogZW50aXR5LnJhZGl1cywgeTogZW50aXR5LnBvcy55ICsgdmVjdC54ICogZW50aXR5LnJhZGl1cyB9XG4gICAgICAgICk7XG4gICAgICAgIGxldCBkb3QyID0gRy52ZWN0b3JCZXR3ZWVuKFxuICAgICAgICAgIHRoaXMucG9zLFxuICAgICAgICAgIHsgeDogZW50aXR5LnBvcy54ICsgdmVjdC55ICogZW50aXR5LnJhZGl1cywgeTogZW50aXR5LnBvcy55IC0gdmVjdC54ICogZW50aXR5LnJhZGl1cyB9XG4gICAgICAgICk7XG4gICAgICAgIGxldCBzaWRlcyA9IFtHLnZlY3RvcjJhbmdsZShkb3QxKSwgRy52ZWN0b3IyYW5nbGUoZG90MildO1xuICAgICAgICBsZXQgb3ZlcmxhcCA9IEcuYXJjT3ZlcmxhcChzaWRlc1swXSwgc2lkZXNbMV0sIHRoaXMuYW5nbGUgLSB0aGlzLnNwcmVhZCAvIDIsIHRoaXMuYW5nbGUgKyB0aGlzLnNwcmVhZCAvIDIpO1xuICAgICAgICBpZiAoIW92ZXJsYXApIGNvbnRpbnVlO1xuXG4gICAgICAgIGxldCB3YWxsSGl0ID0gW107XG4gICAgICAgIGxldCBrID0gRy52ZWN0b3JBZGQodGhpcy5wb3MsIEcuYW5nbGUydmVjdG9yKHNpZGVzWzBdLCB2ZWN0Lm0pKTtcbiAgICAgICAgZm9yIChsZXQgdGlsZSBvZiBHLnRpbGVzSGl0QnkodGhpcy5wb3MsIEcuYW5nbGUydmVjdG9yKHNpZGVzWzBdLCB2ZWN0Lm0pKSkge1xuICAgICAgICAgIGlmICghRy50aWxlSXNQYXNzYWJsZSh0aWxlLnEsIHRpbGUucikpIHtcbiAgICAgICAgICAgIHdhbGxIaXQucHVzaCh0aWxlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCB0aWxlIG9mIEcudGlsZXNIaXRCeSh0aGlzLnBvcywgRy5hbmdsZTJ2ZWN0b3Ioc2lkZXNbMV0sIHZlY3QubSkpKSB7XG4gICAgICAgICAgaWYgKCFHLnRpbGVJc1Bhc3NhYmxlKHRpbGUucSwgdGlsZS5yKSkge1xuICAgICAgICAgICAgd2FsbEhpdC5wdXNoKHRpbGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdhbGxIaXQubGVuZ3RoIDwgMikge1xuICAgICAgICAgIC8vIGhpdFxuICAgICAgICAgIGVudGl0eS5kYW1hZ2UucHVzaCh7IGFtb3VudDogMjUsIHZlY3RvcjogdmVjdCB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnQgPiA2KSB0aGlzLmN1bGwgPSB0cnVlO1xuICB9XG5cbiAgZHJhdyh2aWV3cG9ydCkge1xuICAgIC8vIFRPRE9cbiAgICAvL1Nwcml0ZS5kcmF3Vmlld3BvcnRTcHJpdGUodmlld3BvcnQsIFNwcml0ZS5tb25zdGVyLCB0aGlzLnBvcywgZ2FtZS5jYW1lcmEucG9zKTtcbiAgICBsZXQgdXYgPSBHLnh5MnV2KHRoaXMucG9zKTtcbiAgICB2aWV3cG9ydC5jdHguYmVnaW5QYXRoKCk7XG4gICAgdmlld3BvcnQuY3R4LmFyYyh1di51LCB1di52LCB0aGlzLnJhbmdlLCB0aGlzLmFuZ2xlIC0gdGhpcy5zcHJlYWQgLyAyLCB0aGlzLmFuZ2xlICsgdGhpcy5zcHJlYWQgLyAyKTtcbiAgICB2aWV3cG9ydC5jdHgubGluZVRvKHV2LnUsIHV2LnYpO1xuICAgIHZpZXdwb3J0LmN0eC5jbG9zZVBhdGgoKTtcbiAgICB2aWV3cG9ydC5jdHguZmlsbFN0eWxlID0gJ3JnYmEoMjU1LCAwLCAwLCAwLjUpJ1xuICAgIHZpZXdwb3J0LmN0eC5maWxsKCk7XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgZ2FtZSB9IGZyb20gJy4vR2FtZSc7XG5pbXBvcnQgeyBTcHJpdGUgfSBmcm9tICcuL0Fzc2V0cyc7XG5pbXBvcnQgeyBHZW9tZXRyeSBhcyBHIH0gZnJvbSAnLi9HZW9tZXRyeSc7XG5cbmV4cG9ydCBjbGFzcyBSZWxvYWRBbmltYXRpb24ge1xuICBjb25zdHJ1Y3RvcihmcmFtZXMpIHtcbiAgICB0aGlzLnQgPSAtMTtcbiAgICB0aGlzLmQgPSBmcmFtZXM7XG4gICAgdGhpcy56ID0gMTAxO1xuICB9XG5cbiAgdGhpbmsoKSB7XG4gICAgaWYgKCsrdGhpcy50ID09PSB0aGlzLmQpIHRoaXMuY3VsbCA9IHRydWU7XG4gIH1cblxuICBkcmF3KHZpZXdwb3J0KSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnYW1lLnBsYXllci5zaGVsbHNNYXg7IGkrKykge1xuICAgICAgbGV0IGVuZCA9IGkgKiB0aGlzLmQgLyBnYW1lLnBsYXllci5zaGVsbHNNYXg7XG4gICAgICBsZXQgc3RhcnQgPSBlbmQgLSAzO1xuXG4gICAgICBpZiAodGhpcy50ID49IHN0YXJ0KSB7XG4gICAgICAgIGxldCB5ID0gTWF0aC5taW4oMTAsIDEwICsgdGhpcy50IC0gZW5kKTtcbiAgICAgICAgdmlld3BvcnQuY3R4Lmdsb2JhbEFscGhhID0gTWF0aC5taW4oMSwgMSArICh0aGlzLnQgLSBlbmQpIC8gMTApO1xuICAgICAgICB2aWV3cG9ydC5jdHguZHJhd0ltYWdlKFNwcml0ZS5odWRfc2hlbGxzX2Z1bGwuaW1nLCAxNSArIDYgKiBpLCB5KTtcbiAgICAgICAgdmlld3BvcnQuY3R4Lmdsb2JhbEFscGhhID0gMTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IGdhbWUgfSBmcm9tICcuL0dhbWUnO1xuaW1wb3J0IHsgU3ByaXRlIH0gZnJvbSAnLi9Bc3NldHMnO1xuaW1wb3J0IHsgSW5wdXQgfSBmcm9tICcuL2lucHV0L0lucHV0JztcbmltcG9ydCB7IEdlb21ldHJ5IGFzIEcgfSBmcm9tICcuL0dlb21ldHJ5JztcbmltcG9ydCB7IEJ1bGxldCB9IGZyb20gJy4vQnVsbGV0JztcbmltcG9ydCB7IFNob3RndW5CbGFzdCB9IGZyb20gJy4vU2hvdGd1bkJsYXN0JztcbmltcG9ydCB7IENvbnN0YW50cyBhcyBDIH0gZnJvbSAnLi9Db25zdGFudHMnO1xuaW1wb3J0IHsgQmVoYXZpb3IgfSBmcm9tICcuL3N5c3RlbXMvQmVoYXZpb3InO1xuaW1wb3J0IHsgUmVsb2FkQW5pbWF0aW9uIH0gZnJvbSAnLi9SZWxvYWRBbmltYXRpb24nO1xuXG4vKipcbiAqIFBsYXllclxuICovXG5leHBvcnQgY2xhc3MgUGxheWVyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5wb3MgPSB7IHg6IDAsIHk6IDAgfTtcbiAgICB0aGlzLnZlbCA9IHsgeDogMCwgeTogMCB9O1xuICAgIHRoaXMuZmFjaW5nID0geyB4OiAwLCB5OiAtMSwgbTogMCB9O1xuICAgIHRoaXMuaHAgPSAxMDA7XG4gICAgdGhpcy5kYW1hZ2UgPSBbXTtcbiAgICB0aGlzLnJhZGl1cyA9IDEyO1xuXG4gICAgdGhpcy5zaGVsbHNMZWZ0ID0gNDtcbiAgICB0aGlzLnNoZWxsc01heCA9IDQ7XG5cbiAgICB0aGlzLm1hc3MgPSAzO1xuICB9XG5cbiAgdGhpbmsoKSB7XG4gICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICBjYXNlIEJlaGF2aW9yLkhVTlQ6XG4gICAgICAgIHRoaXMuZGVmYXVsdE1vdmVtZW50KDEpO1xuXG4gICAgICAgIGlmIChnYW1lLmlucHV0LnByZXNzZWRbSW5wdXQuQWN0aW9uLkFUVEFDS10pIHtcbiAgICAgICAgICBpZiAodGhpcy5zaGVsbHNMZWZ0ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnJlbG9hZCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZpcmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2FtZS5pbnB1dC5wcmVzc2VkW0lucHV0LkFjdGlvbi5SRUxPQURdKSB7XG4gICAgICAgICAgdGhpcy5yZWxvYWQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBCZWhhdmlvci5BVFRBQ0s6XG4gICAgICAgIHRoaXMuZGVmYXVsdE1vdmVtZW50KDEpO1xuICAgICAgICBpZiAoLS10aGlzLmZyYW1lcyA8PSAwKSB0aGlzLnN0YXRlID0gQmVoYXZpb3IuSFVOVDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIEJlaGF2aW9yLlJFTE9BRDpcbiAgICAgICAgdGhpcy5kZWZhdWx0TW92ZW1lbnQoMi41KTtcbiAgICAgICAgaWYgKC0tdGhpcy5mcmFtZXMgPD0gMCkge1xuICAgICAgICAgIHRoaXMuc2hlbGxzTGVmdCA9IHRoaXMuc2hlbGxzTWF4O1xuICAgICAgICAgIHRoaXMuc3RhdGUgPSBCZWhhdmlvci5IVU5UO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhpcy5zdGF0ZSA9IEJlaGF2aW9yLkhVTlQ7XG4gICAgICAgIHRoaXMuZnJhbWVzID0gMDtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgZGVmYXVsdE1vdmVtZW50KHZlbG9jaXR5QWRqKSB7XG4gICAgaWYgKGdhbWUucG9pbnRlclhZKCkpIHtcbiAgICAgIHRoaXMuZmFjaW5nID0gRy52ZWN0b3JCZXR3ZWVuKHRoaXMucG9zLCBnYW1lLnBvaW50ZXJYWSgpKTtcbiAgICB9XG5cbiAgICBsZXQgdiA9IHtcbiAgICAgIHg6IGdhbWUuaW5wdXQuZGlyZWN0aW9uLnggKiBnYW1lLmlucHV0LmRpcmVjdGlvbi5tICogMS44ICogdmVsb2NpdHlBZGosXG4gICAgICB5OiBnYW1lLmlucHV0LmRpcmVjdGlvbi55ICogZ2FtZS5pbnB1dC5kaXJlY3Rpb24ubSAqIDEuOCAqIHZlbG9jaXR5QWRqXG4gICAgfTtcblxuICAgIHRoaXMudmVsLnggPSAodGhpcy52ZWwueCArIHYueCkgLyAyO1xuICAgIHRoaXMudmVsLnkgPSAodGhpcy52ZWwueSArIHYueSkgLyAyO1xuICB9XG5cbiAgZHJhdyh2aWV3cG9ydCkge1xuICAgIFNwcml0ZS5kcmF3Vmlld3BvcnRTcHJpdGUodmlld3BvcnQsIFNwcml0ZS5wbGF5ZXIsIHRoaXMucG9zLCBnYW1lLmNhbWVyYS5wb3MpO1xuXG4gICAgdmlld3BvcnQuY3R4LnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LCAyNTUsIDY0LCAwLjMpJztcbiAgICB2aWV3cG9ydC5jdHguYmVnaW5QYXRoKCk7XG4gICAgbGV0IHV2ID0gZ2FtZS54eTJ1dih0aGlzLnBvcyk7XG4gICAgdmlld3BvcnQuY3R4LmFyYyh1di51LCB1di52LCBDLlBMQVlFUl9CT1VORF9SQURJVVMsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICB2aWV3cG9ydC5jdHguc2V0TGluZURhc2goWzIsIDFdKTtcbiAgICB2aWV3cG9ydC5jdHguc3Ryb2tlKCk7XG4gICAgdmlld3BvcnQuY3R4LnNldExpbmVEYXNoKFtdKTtcbiAgfVxuXG4gIGZpcmUoKSB7XG4gICAgdGhpcy5zdGF0ZSA9IEJlaGF2aW9yLkFUVEFDSztcbiAgICB0aGlzLmZyYW1lcyA9IDY7XG4gICAgdGhpcy5zaGVsbHNMZWZ0LS07XG5cbiAgICBsZXQgYW5nbGUgPSBHLnZlY3RvcjJhbmdsZSh0aGlzLmZhY2luZyk7XG4gICAgZ2FtZS5lbnRpdGllcy5wdXNoKG5ldyBTaG90Z3VuQmxhc3QodGhpcy5wb3MsIGFuZ2xlKSk7XG5cbiAgICB0aGlzLnZlbCA9IEcubm9ybWFsaXplVmVjdG9yKHRoaXMuZmFjaW5nKTtcbiAgICB0aGlzLnZlbC5tID0gMTtcbiAgfVxuXG4gIHJlbG9hZCgpIHtcbiAgICB0aGlzLnN0YXRlID0gQmVoYXZpb3IuUkVMT0FEO1xuICAgIHRoaXMuZnJhbWVzID0gMTI7XG4gICAgZ2FtZS5lbnRpdGllcy5wdXNoKG5ldyBSZWxvYWRBbmltYXRpb24odGhpcy5mcmFtZXMpKTtcbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBUZXh0IH0gZnJvbSAnLi9UZXh0JztcblxuZXhwb3J0IGNvbnN0IE1lbnUgPSB7XG4gICAgZHJhdyh2aWV3cG9ydCkge1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgICAgdmlld3BvcnQuY3R4LmZpbGxTdHlsZSA9ICcjMzkzOTk0JztcbiAgICAgICAgdmlld3BvcnQuY3R4LmZpbGxSZWN0KDQwLCA0MCwgMTQwLCA4MCk7XG5cblxuICAgICAgICBsZXQgb3B0aW9ucyA9IFtcbiAgICAgICAgICAgIHsgbmFtZTogJ0Fib21pbmFibGUgU25vd21hbicsIGNvc3Q6IDUwMCB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnU3dvcmRzIHRvIFBsb3dzaGFyZXMnLCBjb3N0OiA2MDAgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ1NvbWV0aGluZycsIGNvc3Q6IDI1MCB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnUGxvd3NoYXJlcycsIGNvc3Q6IDMwMCB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnV2lsbCAxJywgY29zdDogNDAwIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdXaWxsIDEnLCBjb3N0OiAyNDAgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ0VscGVnYW50JywgY29zdDogMzAwIH1cbiAgICAgICAgXTtcblxuICAgICAgICBmb3IgKGxldCBpZHggPSAwOyBpZHggPCBvcHRpb25zLmxlbmd0aDsgaWR4KyspIHtcbiAgICAgICAgICAgIGxldCBvcHRpb24gPSBvcHRpb25zW2lkeF07XG4gICAgICAgICAgICBUZXh0LmRyYXdUZXh0KHZpZXdwb3J0LmN0eCwgb3B0aW9uLm5hbWUsIDQzLCA0MCArIDIgKyBpZHggKiA5LCBUZXh0LnNoYWRvdyk7XG4gICAgICAgICAgICBUZXh0LmRyYXdUZXh0KHZpZXdwb3J0LmN0eCwgb3B0aW9uLm5hbWUsIDQyLCA0MCArIDIgKyBpZHggKiA5KTtcblxuICAgICAgICAgICAgVGV4dC5kcmF3UmlnaHRUZXh0KHZpZXdwb3J0LmN0eCwgU3RyaW5nKG9wdGlvbi5jb3N0KSwgMTgwIC0gMSwgNDAgKyAyICsgaWR4ICogOSwgVGV4dC5zaGFkb3cpO1xuICAgICAgICAgICAgVGV4dC5kcmF3UmlnaHRUZXh0KHZpZXdwb3J0LmN0eCwgU3RyaW5nKG9wdGlvbi5jb3N0KSwgMTgwIC0gMiwgNDAgKyAyICsgaWR4ICogOSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKlxuICAgICAgICBUZXh0LmRyYXdUZXh0KGN0eCwgXCJBYm9taW5hYmxlIFNub3dtYW5cIiwgMTIwLCA1MCk7XG4gICAgICAgIFRleHQuZHJhd1RleHQoY3R4LCBcIkFib21pbmFibGUgU25vd21hblwiLCAxMjEsIDUwLCBUZXh0LnNoYWRvdyk7XG4gICAgICAgIFRleHQuZHJhd1JpZ2h0VGV4dChjdHgsIFwiNTAwXCIsIDEyMCwgNzApO1xuICAgICAgICBUZXh0LmRyYXdSaWdodFRleHQoY3R4LCBcIjEsMjAwXCIsIDEyMCwgODApO1xuICAgICAgICBUZXh0LmRyYXdSaWdodFRleHQoY3R4LCBcIjUsMDAwXCIsIDEyMCwgOTApO1xuICAgICAgICBUZXh0LmRyYXdSaWdodFRleHQoY3R4LCBcIjUsMDAwXCIsIDEyMSwgOTEsIFRleHQuc2hhZG93KTtcblxuXG4gICAgICAgIDVweCA3cHggOXB4XG5cbiAgICAgICAgZHJhdyh2aWV3cG9ydCkge1xuICAgICAgICAgICAgU3ByaXRlLmRyYXdWaWV3cG9ydFNwcml0ZSh2aWV3cG9ydCwgU3ByaXRlLnBsYXllciwgdGhpcy5wb3MsIGdhbWUuY2FtZXJhLnBvcyk7XG5cbiAgICAgICAgICAgIHZpZXdwb3J0LmN0eC5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwgMjU1LCA2NCwgMC4zKSc7XG4gICAgICAgICAgICB2aWV3cG9ydC5jdHguYmVnaW5QYXRoKCk7Ki9cblxuICAgIH1cbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IGdhbWUgfSBmcm9tICcuLi9HYW1lJztcbmltcG9ydCB7IEdlb21ldHJ5IGFzIEcgfSBmcm9tICcuLi9HZW9tZXRyeSc7XG5pbXBvcnQgeyBDb25zdGFudHMgYXMgQyB9IGZyb20gJy4uL0NvbnN0YW50cyc7XG5cbi8qKlxuICogTW92ZW1lbnRcbiAqL1xuZXhwb3J0IGNvbnN0IE1vdmVtZW50ID0ge1xuICBhcHBseShlbnRpdGllcykge1xuICAgIC8vIE1vdmVtZW50IG9ubHkgYXBwbGllcyB0byBhY3RpdmUgZW50aXRpZXMgd2l0aCBwb3NpdGlvbnMgYW5kIHZlbG9jaXRpZXNcbiAgICBsZXQgbW92ZXJzID0gZW50aXRpZXMuZmlsdGVyKGVudGl0eSA9PiBlbnRpdHkucG9zICYmIGVudGl0eS52ZWwgJiYgIWVudGl0eS5jdWxsKTtcblxuICAgIC8vIFZlcnkgYmFzaWMgXCJyb3VuZHNcIiBvZiBjb2xsaXNpb24gcmVzb2x1dGlvbiwgc2luY2Ugd2UgaGF2ZSBubyByZWFsIHBoeXNpY3MuXG4gICAgLy8gKEFzIHVzdWFsLCBcImRldGVjdGluZ1wiIGEgY29sbGlzaW9uIGlzIG5vdCB0aGUgaGFyZCBwYXJ0Li4uIHdlIG5lZWQgdG8gcmVzb2x2ZVxuICAgIC8vIHRoZW0gdG9vISlcbiAgICBmb3IgKGxldCByb3VuZHMgPSAwOyByb3VuZHMgPCA1OyByb3VuZHMrKykge1xuICAgICAgLy8gRWFjaCBwYWlyIG9mIGVudGl0aWVzIG9ubHkgbmVlZHMgdG8gaW50ZXJhY3Qgb25jZS5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbW92ZXJzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBtb3ZlcnMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICB0aGlzLmNsaXBWZWxvY2l0eUVudGl0eVZzRW50aXR5KG1vdmVyc1tpXSwgbW92ZXJzW2pdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmb3IgKGxldCBlbnRpdHkgb2YgbW92ZXJzKSB7XG4gICAgICAgIHRoaXMuY2xpcFZlbG9jaXR5QWdhaW5zdFdhbGxzKGVudGl0eSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gTm93IHdlIGFwcGx5IGFsbCBtb3ZlbWVudCwgZXZlbiBpZiBpdCdzIG5vdCBnb2luZyB0byBiZSBwZXJmZWN0LlxuICAgIGZvciAobGV0IGVudGl0eSBvZiBtb3ZlcnMpIHtcbiAgICAgIGVudGl0eS5wb3MueCArPSBlbnRpdHkudmVsLng7XG4gICAgICBlbnRpdHkucG9zLnkgKz0gZW50aXR5LnZlbC55O1xuICAgIH1cbiAgfSxcblxuICBjbGlwVmVsb2NpdHlFbnRpdHlWc0VudGl0eShlbnRpdHksIG90aGVyKSB7XG4gICAgbGV0IGhpdCA9IEcuaW50ZXJzZWN0Q2lyY2xlQ2lyY2xlMihcbiAgICAgIGVudGl0eS5wb3MsIGVudGl0eS5yYWRpdXMsIGVudGl0eS52ZWwsXG4gICAgICBvdGhlci5wb3MsIG90aGVyLnJhZGl1cywgb3RoZXIudmVsXG4gICAgKTtcbiAgICBpZiAoaGl0KSB7XG4gICAgICAvLyBOb3QgYSBidWc6IHdlIFwiYWRkXCIgdGhlIG1hc3Mgb2YgdGhlIG9wcG9zaW5nIGVudGl0eSB0byBvdXIgb3duIHZlbG9jaXR5IHdoZW4gZGVjaWRpbmcgd2hvXG4gICAgICAvLyBpcyBhdCBmYXVsdCBmb3IgdGhlIGNvbGxpc2lvbi4gRW50aXR5IHZlbG9jaXRpZXMgYWRqdXN0IGluIHJlbGF0aW9uIHRvIHRoZWlyIGZhdWx0IGxldmVsLlxuICAgICAgbGV0IGVudGl0eU0gPSBHLm5vcm1hbGl6ZVZlY3RvcihlbnRpdHkudmVsKS5tICsgb3RoZXIubWFzcztcbiAgICAgIGxldCBvdGhlck0gPSBHLm5vcm1hbGl6ZVZlY3RvcihvdGhlci52ZWwpLm0gKyBlbnRpdHkubWFzcztcbiAgICAgIGVudGl0eS52ZWwueCAtPSBoaXQubnggKiBoaXQubSAqIGVudGl0eU0gLyAoZW50aXR5TSArIG90aGVyTSk7XG4gICAgICBlbnRpdHkudmVsLnkgLT0gaGl0Lm55ICogaGl0Lm0gKiBlbnRpdHlNIC8gKGVudGl0eU0gKyBvdGhlck0pO1xuICAgICAgb3RoZXIudmVsLnggKz0gaGl0Lm54ICogaGl0Lm0gKiBvdGhlck0gLyAoZW50aXR5TSArIG90aGVyTSk7XG4gICAgICBvdGhlci52ZWwueSArPSBoaXQubnkgKiBoaXQubSAqIG90aGVyTSAvIChlbnRpdHlNICsgb3RoZXJNKTtcbiAgICB9XG4gIH0sXG5cbiAgY2xpcFZlbG9jaXR5QWdhaW5zdFdhbGxzKGVudGl0eSkge1xuICAgIGZvciAobGV0IHRpbGUgb2YgRy50aWxlc0hpdEJ5Q2lyY2xlKGVudGl0eS5wb3MsIGVudGl0eS52ZWwsIEMuUExBWUVSX0JPVU5EX1JBRElVUykpIHtcbiAgICAgIGlmICghRy50aWxlSXNQYXNzYWJsZSh0aWxlLnEsIHRpbGUucikpIHtcbiAgICAgICAgbGV0IGJvdW5kcyA9IFtHLnFyMnh5KHRpbGUpLCBHLnFyMnh5KHsgcTogdGlsZS5xICsgMSwgcjogdGlsZS5yICsgMSB9KV07XG4gICAgICAgIGxldCBoaXQgPSBHLmludGVyc2VjdENpcmNsZVJlY3RhbmdsZShcbiAgICAgICAgICBlbnRpdHkucG9zLFxuICAgICAgICAgIHsgeDogZW50aXR5LnBvcy54ICsgZW50aXR5LnZlbC54LCB5OiBlbnRpdHkucG9zLnkgKyBlbnRpdHkudmVsLnkgfSxcbiAgICAgICAgICBDLlBMQVlFUl9CT1VORF9SQURJVVMsXG4gICAgICAgICAgYm91bmRzXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gVGhlIFwibWF0aFwiIHBhcnQgb2YgZGV0ZWN0aW5nIGNvbGxpc2lvbiB3aXRoIHdhbGxzIGlzIGJ1cmllZCBpbiB0aGUgZ2VvbWV0cnkgZnVuY3Rpb25zXG4gICAgICAgIC8vIGFib3ZlLCBidXQgaXQncyBub3QgdGhlIHdob2xlIHN0b3J5IC0tIGlmIHdlIGRvIGRldGVjdCBhIGNvbGxpc2lvbiwgd2Ugc3RpbGwgbmVlZCB0b1xuICAgICAgICAvLyBkZWNpZGUgd2hhdCB0byBkbyBhYm91dCBpdC5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gSWYgdGhlIG5vcm1hbCB2ZWN0b3IgaXMgaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbCwgd2UgemVybyBvdXQgdGhlIHBvcnRpb24gb2YgdGhlIHZlY3RvclxuICAgICAgICAvLyBtb3ZpbmcgaW50byB0aGUgd2FsbCwgYWxsb3dpbmcgZnJpY3Rpb25sZXNzIHNsaWRpbmcgKGlmIHdlIHdhbnRlZCB0byBhcHBseSBmcmljdGlvbixcbiAgICAgICAgLy8gd2UgY291bGQgYWxzbyByZWR1Y2UgdGhlIG90aGVyIGF4aXMgc2xpZ2h0bHkpLlxuICAgICAgICAvL1xuICAgICAgICAvLyBJZiB0aGUgbm9ybWFsIHZlY3RvciBpcyBub3QgOTAqLCB3ZSBcImJhY2sgdXBcIiBvZmYgdGhlIHdhbGwgYnkgZXhhY3RseSB0aGUgbm9ybWFsIHZlY3Rvci5cbiAgICAgICAgLy8gSWYgdGhlIHBsYXllciBydW5zIGludG8gYSBjb3JuZXIgYXQgRVhBQ1RMWSBhIDQ1IGRlZ3JlZSBhbmdsZSwgdGhleSB3aWxsIHNpbXBseSBcInN0aWNrXCJcbiAgICAgICAgLy8gb24gaXQgLS0gYnV0IG9uZSBkZWdyZWUgbGVmdCBvciByaWdodCBhbmQgdGhleSdsbCBzbGlkZSBhcm91bmQgdGhlIGNvcm5lciBvbnRvIHRoZSB3YWxsLFxuICAgICAgICAvLyB3aGljaCBpcyB0aGUgZGVzaXJlZCByZXN1bHQuXG4gICAgICAgIGlmIChoaXQpIHtcbiAgICAgICAgICBpZiAoaGl0Lm54ID09PSAwKSB7XG4gICAgICAgICAgICBlbnRpdHkudmVsLnkgPSBoaXQueSAtIGVudGl0eS5wb3MueTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGhpdC5ueSA9PT0gMCkge1xuICAgICAgICAgICAgZW50aXR5LnZlbC54ID0gaGl0LnggLSBlbnRpdHkucG9zLng7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVudGl0eS52ZWwueCArPSBoaXQubng7XG4gICAgICAgICAgICBlbnRpdHkudmVsLnkgKz0gaGl0Lm55O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgQmVoYXZpb3IgfSBmcm9tICcuL0JlaGF2aW9yJztcbmltcG9ydCB7IEdlb21ldHJ5IGFzIEcgfSBmcm9tICcuLi9HZW9tZXRyeSc7XG5cbi8qKlxuICogRGFtYWdlXG4gKi9cbmV4cG9ydCBjb25zdCBEYW1hZ2UgPSB7XG4gIGFwcGx5KGVudGl0aWVzKSB7XG4gICAgZm9yIChsZXQgZW50aXR5IG9mIGVudGl0aWVzKSB7XG4gICAgICBpZiAodHlwZW9mIGVudGl0eS5ocCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgaWYgKGVudGl0eS5kYW1hZ2UubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGZvciAobGV0IGRhbWFnZSBvZiBlbnRpdHkuZGFtYWdlKSB7XG4gICAgICAgICAgICBlbnRpdHkuaHAgLT0gZGFtYWdlLmFtb3VudDtcbiAgICAgICAgICAgIGRhbWFnZS52ZWN0b3IubSA9IDEwOyAvLyBwdXNoIGJhY2sgYW1vdW50XG4gICAgICAgICAgICBlbnRpdHkudmVsID0gRy52ZWN0b3JBZGQoZW50aXR5LnZlbCwgZGFtYWdlLnZlY3Rvcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVudGl0eS5kYW1hZ2UgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW50aXR5LmhwIDw9IDApIGVudGl0eS5zdGF0ZSA9IEJlaGF2aW9yLkRFQUQ7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuIiwiLyppbXBvcnQgeyBJbnB1dCB9IGZyb20gJy4vSW5wdXQnO1xuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnLi9QbGF5ZXInO1xuaW1wb3J0IHsgU2NyZWVuU2hha2UgfSBmcm9tICcuL1NjcmVlblNoYWtlJztcbmltcG9ydCB7IEh1ZCB9IGZyb20gJy4vSHVkJztcbmltcG9ydCB7IE1lbnUsIFBhdXNlTWVudSwgSW50cm9NZW51QSwgSW50cm9NZW51QiwgT3V0cm9NZW51IH0gZnJvbSAnLi9NZW51JztcbmltcG9ydCB7IEF1ZGlvIH0gZnJvbSAnLi9BdWRpbyc7XG5pbXBvcnQgeyBBc3NldHMsIFNwcml0ZSwgZHJhd1BvbHkgfSBmcm9tICcuL0Fzc2V0cyc7XG5pbXBvcnQgeyBEZW1vbjEgfSBmcm9tICcuL0RlbW9uMSc7XG5pbXBvcnQgeyBDYW52YXMgfSBmcm9tICcuL0NhbnZhcyc7XG5pbXBvcnQgeyBQYXJ0aWNsZSwgUG9ydGFsUGFydGljbGUsIFN1cGVyUGFydGljbGUgfSBmcm9tICcuL1BhcnRpY2xlJztcbmltcG9ydCB7IEhpdmUgfSBmcm9tICcuL0hpdmUnO1xuaW1wb3J0IHsgUG9pbnQsIGludGVyc2VjdGluZ1BvbHlnb25zLCBpbnRlcnNlY3RpbmdDaXJjbGVzLCBSQUQsIHZlY3RvckZyb21BbmdsZSwgZGlzdGFuY2UgfSBmcm9tICcuL0dlb21ldHJ5JztcbmltcG9ydCB7IEhFQVJUQkVBVCB9IGZyb20gJy4vQ29uZmlnJztcbmltcG9ydCB7IFR3ZWVuIH0gZnJvbSAnLi9Ud2Vlbic7XG4qL1xuXG5pbXBvcnQgeyBBc3NldHMsIFNwcml0ZSB9IGZyb20gJy4vQXNzZXRzJztcbmltcG9ydCB7IElucHV0IH0gZnJvbSAnLi9pbnB1dC9JbnB1dCc7XG5pbXBvcnQgeyBNYXplR2VuZXJhdG9yIH0gZnJvbSAnLi9NYXplR2VuZXJhdG9yJztcbmltcG9ydCB7IFRleHQgfSBmcm9tICcuL1RleHQnO1xuaW1wb3J0IHsgUGxheWVyfSBmcm9tICcuL1BsYXllcic7XG5pbXBvcnQgeyBNb25zdGVyIH0gZnJvbSAnLi9Nb25zdGVyJztcbmltcG9ydCB7IHZpZXdwb3J0IH0gZnJvbSAnLi9WaWV3cG9ydCc7XG5pbXBvcnQgeyBDb25zdGFudHMgYXMgQyB9IGZyb20gJy4vQ29uc3RhbnRzJztcbmltcG9ydCB7IEdlb21ldHJ5IGFzIEcgfSBmcm9tICcuL0dlb21ldHJ5JztcbmltcG9ydCB7IE1lbnUgfSBmcm9tICcuL01lbnUnO1xuXG5pbXBvcnQgeyBCZWhhdmlvciB9IGZyb20gJy4vc3lzdGVtcy9CZWhhdmlvcic7XG5pbXBvcnQgeyBNb3ZlbWVudCB9IGZyb20gJy4vc3lzdGVtcy9Nb3ZlbWVudCc7XG5pbXBvcnQgeyBEYW1hZ2UgfSBmcm9tICcuL3N5c3RlbXMvRGFtYWdlJztcblxuLyoqXG4gKiBHYW1lIHN0YXRlLlxuICovXG5leHBvcnQgY2xhc3MgR2FtZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgfVxuXG4gICAgYXN5bmMgaW5pdCgpIHtcbiAgICAgICAgdmlld3BvcnQuaW5pdCgpO1xuXG4gICAgICAgIHRoaXMuaW5wdXQgPSBuZXcgSW5wdXQoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5pbnB1dC5pbml0KCk7XG5cbiAgICAgICAgdGhpcy5tYXplID0gTWF6ZUdlbmVyYXRvci5nZW5lcmF0ZShcImFwcGxlc1wiKTtcbiAgICAgICAgdGhpcy5jYW1lcmEgPSB7IHBvczogeyB4OiAxLCB5OiAxIH0gfTtcblxuICAgICAgICBhd2FpdCBBc3NldHMuaW5pdCgpO1xuICAgICAgICBhd2FpdCBUZXh0LmluaXQoKTtcblxuICAgICAgICB0aGlzLmVudGl0aWVzID0gW107XG5cbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgUGxheWVyKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMubWF6ZS5yb29tcyk7XG4gICAgICAgIHRoaXMucGxheWVyLnBvcy54ID0gKHRoaXMubWF6ZS5yb29tc1sxXVswXS5xICsgTWF0aC5mbG9vcih0aGlzLm1hemUucm9vbXNbMV1bMF0ud2lkdGggLyAyKSkgKiBDLlRJTEVfV0lEVEggKyBDLlRJTEVfV0lEVEggLyAyO1xuICAgICAgICB0aGlzLnBsYXllci5wb3MueSA9ICh0aGlzLm1hemUucm9vbXNbMV1bMF0uciArIE1hdGguZmxvb3IodGhpcy5tYXplLnJvb21zWzFdWzBdLmhlaWdodCAvIDIpKSAqIEMuVElMRV9XSURUSCArIEMuVElMRV9XSURUSCAvIDI7XG5cbiAgICAgICAgdGhpcy5lbnRpdGllcy5wdXNoKHRoaXMucGxheWVyKTtcblxuICAgICAgICAvKlxuXG4gICAgICAgIGF3YWl0IEFzc2V0cy5pbml0KCk7XG5cbiAgICAgICAgdGhpcy5hcnRpZmFjdHMgPSBbXG4gICAgICAgICAgICBhd2FpdCBBc3NldHMuZ3JheXNjYWxlTm9pc2UodGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCksXG4gICAgICAgICAgICBhd2FpdCBBc3NldHMuZ3JheXNjYWxlTm9pc2UodGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCksXG4gICAgICAgICAgICBhd2FpdCBBc3NldHMuZ3JheXNjYWxlTm9pc2UodGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodClcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLmlucHV0ID0gbmV3IElucHV0KCk7XG4gICAgICAgIGF3YWl0IHRoaXMuaW5wdXQuaW5pdCgpO1xuXG4gICAgICAgIHRoaXMucGxheWVyID0gbmV3IFBsYXllcigpO1xuXG4gICAgICAgIHRoaXMuaHVkID0gbmV3IEh1ZCgpO1xuXG4gICAgICAgIHRoaXMucGFydGljbGVzID0gW107XG4gICAgICAgIHRoaXMuc2NyZWVuc2hha2VzID0gW107XG4gICAgICAgIHRoaXMubWVudVN0YWNrID0gW107XG5cbiAgICAgICAgdGhpcy5tb25zdGVycyA9IFtdO1xuXG4gICAgICAgIC8vIENyZWF0ZSwgYnV0IGRvIG5vdCBpbml0aWFsaXplLCB0aGUgYXVkaW8gb2JqZWN0LiBUaGUgYXVkaW8gb2JqZWN0IHdpbGwgYmVcbiAgICAgICAgLy8gaW5pdGlhbGl6ZWQgYXMgc29vbiBhcyBwb3NzaWJsZSBieSB0aGUgZmlyc3QgdXNlciBpbnB1dCBldmVudCwgdG8gbWVldFxuICAgICAgICAvLyByZXF1aXJlbWVudHMgb2YgdGhlIGJyb3dzZXIuXG4gICAgICAgIHRoaXMuYXVkaW8gPSBuZXcgQXVkaW8oKTtcblxuICAgICAgICB0aGlzLnNjb3JlID0gMDtcblxuICAgICAgICB0aGlzLmhpdmUgPSBuZXcgSGl2ZSgpO1xuXG4gICAgICAgICovXG4gICAgfVxuXG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuZnJhbWUgPSAwO1xuXG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8qXG4gICAgICAgIHRoaXMubWVudVN0YWNrLnB1c2gobmV3IEludHJvTWVudUEoe1xuICAgICAgICAgICAgb25DbG9zZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubWVudVN0YWNrLnB1c2gobmV3IEludHJvTWVudUIoe30pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpOyovXG5cbiAgICAgICAgLy90aGlzLmZyYW1lbXMgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB0aGlzLm9uRnJhbWUoMSkpO1xuICAgICAgICAvL3RoaXMuZnJhbWUgPSAwO1xuICAgIH1cblxuICAgIG9uRnJhbWUoY3VycmVudG1zKSB7XG4gICAgICAgIHRoaXMuZnJhbWUrKztcbiAgICAgICAgdmlld3BvcnQucmVzaXplKCk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIHRoaXMuZHJhdyh2aWV3cG9ydC5jdHgpO1xuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHRoaXMub25GcmFtZShjdXJyZW50bXMpKTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIC8vIFB1bGwgaW4gZnJhbWUgYnkgZnJhbWUgYnV0dG9uIHB1c2hlcyAvIGtleXByZXNzZXMgLyBtb3VzZSBjbGlja3NcbiAgICAgICAgdGhpcy5pbnB1dC51cGRhdGUoKTtcblxuICAgICAgICAvLyBCZWhhdmlvciAoQUksIHBsYXllciBpbnB1dCwgZXRjLilcbiAgICAgICAgQmVoYXZpb3IuYXBwbHkodGhpcy5lbnRpdGllcyk7XG5cbiAgICAgICAgRGFtYWdlLmFwcGx5KHRoaXMuZW50aXRpZXMpO1xuXG4gICAgICAgIC8vIE1vdmVtZW50IChhcHBseSBlbnRpdHkgdmVsb2NpdHkgdG8gcG9zaXRpb24pXG4gICAgICAgIE1vdmVtZW50LmFwcGx5KHRoaXMuZW50aXRpZXMpO1xuXG4gICAgICAgIC8vIGNhbWVyYSBsb2dpYyEgd2hlcmUgZG9lcyBpdCBnbyEgKGFuIGVudGl0eSBwZXJoYXBzPylcbiAgICAgICAgbGV0IGRpZmYgPSB7XG4gICAgICAgICAgICB4OiB0aGlzLnBsYXllci5wb3MueCAtIHRoaXMuY2FtZXJhLnBvcy54LFxuICAgICAgICAgICAgeTogdGhpcy5wbGF5ZXIucG9zLnkgLSB0aGlzLmNhbWVyYS5wb3MueVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNhbWVyYS5wb3MueCArPSBkaWZmLnggKiAwLjI7XG4gICAgICAgIHRoaXMuY2FtZXJhLnBvcy55ICs9IGRpZmYueSAqIDAuMjtcblxuICAgICAgICB0aGlzLnNwYXduRW5lbXkoKTtcblxuICAgICAgICAvLyBDdWxsaW5nIFN0ZXBcbiAgICAgICAgdGhpcy5lbnRpdGllcyA9IHRoaXMuZW50aXRpZXMuZmlsdGVyKGVudGl0eSA9PiAhZW50aXR5LmN1bGwpO1xuICAgIH1cblxuICAgIHNwYXduRW5lbXkoKSB7XG4gICAgICAgIGxldCBlbmVtaWVzID0gdGhpcy5lbnRpdGllcy5maWx0ZXIoZW50aXR5ID0+IGVudGl0eSBpbnN0YW5jZW9mIE1vbnN0ZXIpO1xuICAgICAgICBpZiAoZW5lbWllcy5sZW5ndGggPCA0ICYmIE1hdGgucmFuZG9tKCkgPCAwLjEpIHtcbiAgICAgICAgICAgIGxldCBxID0gdGhpcy5tYXplLnJvb21zWzFdWzBdLnEgKyB0aGlzLm1hemUucmFuZCgwLCB0aGlzLm1hemUucm9vbXNbMV1bMF0ud2lkdGgpO1xuICAgICAgICAgICAgbGV0IHIgPSB0aGlzLm1hemUucm9vbXNbMV1bMF0uciArIHRoaXMubWF6ZS5yYW5kKDAsIHRoaXMubWF6ZS5yb29tc1sxXVswXS5oZWlnaHQpO1xuICAgICAgICAgICAgbGV0IG1vbnN0ZXIgPSBuZXcgTW9uc3RlcigpO1xuICAgICAgICAgICAgbW9uc3Rlci5wb3MgPSBHLnFyMnh5KHsgcSwgciB9KTtcbiAgICAgICAgICAgIHRoaXMuZW50aXRpZXMucHVzaChtb25zdGVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRyYXcoY3R4KSB7XG4gICAgICAgIGN0eC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgICAgIGN0eC5zY2FsZSh2aWV3cG9ydC5zY2FsZSwgdmlld3BvcnQuc2NhbGUpO1xuXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSg0OCwzMiw0OCwxKSc7XG4gICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCB2aWV3cG9ydC53aWR0aCwgdmlld3BvcnQuaGVpZ2h0KTtcblxuICAgICAgICAvKmN0eC5maWxsU3R5bGUgPSAncmdiYSgxNTAsIDEyOCwgMTI4LCAxKSc7XG4gICAgICAgIGN0eC5maWxsUmVjdCgxMCwgMTAsIDEwMCwgMTAwKTsqL1xuXG4gICAgICAgIHRoaXMuZHJhd01hemUoY3R4LCB0aGlzLm1hemUpO1xuXG4gICAgICAgIHRoaXMuZHJhd0h1ZChjdHgpO1xuXG4gICAgICAgIFRleHQuZHJhd1JpZ2h0VGV4dChjdHgsIFt2aWV3cG9ydC5zY2FsZSwgdmlld3BvcnQud2lkdGgsIHZpZXdwb3J0LmhlaWdodF0uam9pbignLCAnKSwgdmlld3BvcnQud2lkdGggLSA0LCAxMCk7XG5cbiAgICAgICAgLypcbiAgICAgICAgVGV4dC5kcmF3UGFyYWdyYXBoKGN0eCxcbiAgICAgICAgICAgIFwiSG9sZCBkb3duIGZpcmUgYnV0dG9uIHRvIGRlY3JlYXNlIHNwcmVhZCBhbmQgaW5jcmVhc2UgcmFuZ2UuXCIgK1xuICAgICAgICAgICAgXCIgTW9zdCBjcml0aWNhbCBoaXRzLCB3aGVuIHVzZWQsIHdpbGwgZ28gdXAgMTc1JS5cIixcbiAgICAgICAgICAgIDEyMSwgNTAsIDIyNSwgMTAwLCBUZXh0LnNoYWRvdywgMSk7XG4gICAgICAgIFRleHQuZHJhd1BhcmFncmFwaChjdHgsXG4gICAgICAgICAgICBcIkhvbGQgZG93biBmaXJlIGJ1dHRvbiB0byBkZWNyZWFzZSBzcHJlYWQgYW5kIGluY3JlYXNlIHJhbmdlLlwiICtcbiAgICAgICAgICAgIFwiIE1vc3QgY3JpdGljYWwgaGl0cywgd2hlbiB1c2VkLCB3aWxsIGdvIHVwIDE3NSUuXCIsXG4gICAgICAgICAgICAxMjAsIDUwLCAyMjUsIDEwMCwgVGV4dC5maXJlLCAxKTtcbiAgICAgICAgICAgICovXG5cbiAgICAgICAgbGV0IHB0ciA9IHRoaXMuaW5wdXQucG9pbnRlcjtcbiAgICAgICAgaWYgKHB0cikge1xuICAgICAgICAgICAgVGV4dC5kcmF3UmlnaHRUZXh0KGN0eCwgSlNPTi5zdHJpbmdpZnkocHRyKSwgdmlld3BvcnQud2lkdGggLSA0LCAyMCk7XG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMjU1LCAxMjAsIDEyMCwgMSknO1xuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHB0ci51IC0gMSwgcHRyLnYgLSAxLCAzLCAzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGVudGl0eSBvZiB0aGlzLmVudGl0aWVzKSB7XG4gICAgICAgICAgICBlbnRpdHkuZHJhdyh2aWV3cG9ydCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPXG4gICAgICAgIC8vIHRoaXMudHJhY2Uodmlld3BvcnQpO1xuXG4gICAgICAgIC8vIHhcblxuICAgICAgICAvKlxuICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMTUwLCAxMjgsIDEyOCwgMSknO1xuICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG5cbiAgICAgICAgdGhpcy5zaGFkb3cuY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdjb3B5JztcbiAgICAgICAgLy90aGlzLnNoYWRvdy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xuICAgICAgICB0aGlzLnNoYWRvdy5jdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwgMCwgMCwgMC45OSknO1xuICAgICAgICB0aGlzLnNoYWRvdy5jdHguZmlsbFJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XG5cbiAgICAgICAgdGhpcy5zaGFkb3cuY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdkZXN0aW5hdGlvbi1vdXQnO1xuICAgICAgICBsZXQgZ3JkID0gdGhpcy5zaGFkb3cuY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KGdhbWUucGxheWVyLngsIGdhbWUucGxheWVyLnksIDAsIGdhbWUucGxheWVyLngsIGdhbWUucGxheWVyLnksIDIwMCk7XG4gICAgICAgIGdyZC5hZGRDb2xvclN0b3AoMCwgXCJyZ2JhKDAsIDAsIDAsIDEpXCIpO1xuICAgICAgICBncmQuYWRkQ29sb3JTdG9wKDAuNSwgXCJyZ2JhKDAsIDAsIDAsIDAuOTUpXCIpO1xuICAgICAgICBncmQuYWRkQ29sb3JTdG9wKDEsIFwicmdiYSgwLCAwLCAwLCAwKVwiKTtcbiAgICAgICAgdGhpcy5zaGFkb3cuY3R4LmZpbGxTdHlsZSA9IGdyZDtcbiAgICAgICAgdGhpcy5zaGFkb3cuY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICB0aGlzLnNoYWRvdy5jdHguYXJjKGdhbWUucGxheWVyLngsIGdhbWUucGxheWVyLnksIDIwMCwgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICB0aGlzLnNoYWRvdy5jdHguZmlsbCgpO1xuXG4gICAgICAgIGZvciAobGV0IHBhcnRpY2xlIG9mIHRoaXMucGFydGljbGVzLmZpbHRlcihwID0+IHAgaW5zdGFuY2VvZiBQb3J0YWxQYXJ0aWNsZSkpIHtcbiAgICAgICAgICAgIGxldCByID0gKHBhcnRpY2xlIGFzIFBvcnRhbFBhcnRpY2xlKS5lZmZlY3RpdmVSYWRpdXMoKTtcbiAgICAgICAgICAgIHRoaXMuc2hhZG93LmN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSAnZGVzdGluYXRpb24tb3V0JztcbiAgICAgICAgICAgIGxldCBncmQgPSB0aGlzLnNoYWRvdy5jdHguY3JlYXRlUmFkaWFsR3JhZGllbnQocGFydGljbGUueCwgcGFydGljbGUueSwgMCwgcGFydGljbGUueCwgcGFydGljbGUueSwgcik7XG4gICAgICAgICAgICBncmQuYWRkQ29sb3JTdG9wKDAsIFwicmdiYSgwLCAwLCAwLCAwLjcpXCIpO1xuICAgICAgICAgICAgZ3JkLmFkZENvbG9yU3RvcCgxLCBcInJnYmEoMCwgMCwgMCwgMClcIik7XG4gICAgICAgICAgICB0aGlzLnNoYWRvdy5jdHguZmlsbFN0eWxlID0gZ3JkO1xuICAgICAgICAgICAgdGhpcy5zaGFkb3cuY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgdGhpcy5zaGFkb3cuY3R4LmFyYyhwYXJ0aWNsZS54LCBwYXJ0aWNsZS55LCByLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICB0aGlzLnNoYWRvdy5jdHguZmlsbCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zaGFkb3cuY3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdzb3VyY2UtYXRvcCc7XG4gICAgICAgIGZvciAobGV0IG1vbnN0ZXIgb2YgdGhpcy5tb25zdGVycykge1xuICAgICAgICAgICAgdGhpcy5zaGFkb3cuY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgdGhpcy5zaGFkb3cuY3R4LmFyYyhtb25zdGVyLngsIG1vbnN0ZXIueSwgMjAwLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKlxuICAgICAgICAgIHdlIGRvbid0IGV2ZW4gdXNlIGJsb29kcGxhbmVzIChzcGxhdHRlciB0ZXJyYWluKSBhbnltb3JlIGJlY2F1c2UgaSBqdXN0XG4gICAgICAgICAgcmVuZGVyIGFsbCBvZiB0aGVtIGFzIHBhcnRpY2xlc1xuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxIC0gdGhpcy5ibG9vZHBsYW5lc1swXVsxXSAvIHRoaXMuYmxvb2RwbGFuZXNbMF1bMl07XG4gICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDAuOTtcbiAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLmJsb29kcGxhbmVzWzBdWzBdLmNhbnZhcywgMCwgMCk7XG4gICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDEgLSB0aGlzLmJsb29kcGxhbmVzWzFdWzFdIC8gdGhpcy5ibG9vZHBsYW5lc1sxXVsyXTtcbiAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLmJsb29kcGxhbmVzWzFdWzBdLmNhbnZhcywgMCwgMCk7XG4gICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDEgLSB0aGlzLmJsb29kcGxhbmVzWzJdWzFdIC8gdGhpcy5ibG9vZHBsYW5lc1syXVsyXTtcbiAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLmJsb29kcGxhbmVzWzJdWzBdLmNhbnZhcywgMCwgMCk7XG4gICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDE7XG4gICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgIGxldCBzaGFrZVggPSAwLCBzaGFrZVkgPSAwO1xuICAgICAgICB0aGlzLnNjcmVlbnNoYWtlcy5mb3JFYWNoKHNoYWtlID0+IHtcbiAgICAgICAgICAgIHNoYWtlWCArPSBzaGFrZS54O1xuICAgICAgICAgICAgc2hha2VZICs9IHNoYWtlLnk7XG4gICAgICAgIH0pO1xuICAgICAgICBjdHgudHJhbnNsYXRlKHNoYWtlWCwgc2hha2VZKTtcblxuICAgICAgICAvLyBsb3ctaGFuZ2luZyBmcnVpdCBoZXJlIChwcmUtcmVuZGVyIHRoZSBtYXAgc2luY2UgaXQgbmV2ZXIgY2hhbmdlcylcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDEwOyBqKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgayA9ICgoaSAqIGkgKiAxMykgKyBqICogMTcpICUgOTtcbiAgICAgICAgICAgICAgICBTcHJpdGUuZHJhd1Nwcml0ZShjdHgsIFNwcml0ZS50aWxlc1trXSwgaSAqIDMyIC0gMTYsIGogKiAzMiAtIDgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgcGFydGljbGUgb2YgdGhpcy5wYXJ0aWNsZXMpIGlmICghcGFydGljbGUuZm9yZWdyb3VuZCAmJiAhZ2FtZS5zdXBlckZpcmVkKSBwYXJ0aWNsZS5kcmF3KGN0eCk7XG5cbiAgICAgICAgdGhpcy5wbGF5ZXIuZHJhdyhjdHgpO1xuXG4gICAgICAgIC8vVGV4dC5yZW5kZXJUZXh0KGN0eCwgMjUwLCAxMjAsIDIwLCAnVEhFIEVMRVBIQU5UUycpO1xuICAgICAgICAvL1RleHQucmVuZGVyVGV4dChjdHgsIDEwMCwgMjAwLCA2NCwgJ0FCMDEyMzQ1Njc4OScpO1xuICAgICAgICAvL1RleHQucmVuZGVyVGV4dChjdHgsIDEwMCwgMTUwLCAzMCwgJ0FCMDEyMzQ1Njc4OScpO1xuXG4gICAgICAgIGZvciAobGV0IG1vbnN0ZXIgb2YgdGhpcy5tb25zdGVycykgbW9uc3Rlci5kcmF3KGN0eCk7XG5cbiAgLy8gICAgICB2YXIgYnViYmxlID0gY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KFxuICAgICAgICAvLyBMZXQncyBhZGQgYmx1ZSBub2lzZT9cbiAgICAgICAgLypmb3IgKGxldCBpID0gMTAwOyBpIDwgMzAwOyBpICs9IDUpIHtcbiAgICAgICAgICAgIGZvcihsZXQgaiA9IDEwMDsgaiA8IDEyMDsgaiArPSA1KSB7XG4gICAgICAgICAgICAgICAgbGV0IFt4LCB5XSA9IFtNYXRoLnJhbmRvbSgpICogNSwgTWF0aC5yYW5kb20oKSAqIDVdO1xuICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgwLDAsMCwwLjUpJztcbiAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoaStNYXRoLmZsb29yKHgpLGorTWF0aC5mbG9vcih5KSwxLDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IHBhcnRpY2xlIG9mIHRoaXMucGFydGljbGVzKSBpZiAocGFydGljbGUuZm9yZWdyb3VuZCkgcGFydGljbGUuZHJhdyhjdHgpO1xuXG4gICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5zaGFkb3cuY2FudmFzLCAwLCAwKTtcbiAgICAgICAgbGV0IG5vaXNlTG9vcCA9IE1hdGguZmxvb3IodGhpcy5mcmFtZSAvIDgpICUgMztcbiAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gMC4wNjtcbiAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLmFydGlmYWN0c1tub2lzZUxvb3BdLmNhbnZhcywgMCwgMCk7XG4gICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDE7XG5cbiAgICAgICAgdGhpcy5odWQuZHJhdyhjdHgpO1xuICAgICAgICB0aGlzLmhpdmUuZHJhdyhjdHgpO1xuXG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG5cbiAgICAgICAgLypcbiAgICAgICAgaWYgKHRoaXMuZnJhbWUgJSBIRUFSVEJFQVQgPT09IDAgfHwgKHRoaXMuZnJhbWUgLSAxKSAlIEhFQVJUQkVBVCA9PT0gMCB8fCAodGhpcy5mcmFtZSAtIDIpICUgSEVBUlRCRUFUID09PSAwKSB7XG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMjU1LCAyNTUsIDMwLCAwLjMpJztcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdCgxMDAsIDAsIDEwMCwgMTApO1xuICAgICAgICAqL1xuXG4gICAgICAgIE1lbnUuZHJhdyh2aWV3cG9ydCk7XG4gICAgfVxuXG4gICAgZHJhd01hemUoY3R4LCBtYXplKSB7XG4gICAgICAgIGxldCBvZmZzZXQgPSB7XG4gICAgICAgICAgICB4OiB2aWV3cG9ydC5jZW50ZXIudSAtIHRoaXMuY2FtZXJhLnBvcy54LFxuICAgICAgICAgICAgeTogdmlld3BvcnQuY2VudGVyLnYgLSB0aGlzLmNhbWVyYS5wb3MueVxuICAgICAgICB9O1xuICAgICAgICBmb3IgKGxldCByID0gMDsgciA8IG1hemUudGlsZXMubGVuZ3RoOyByKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IHEgPSAwOyBxIDwgbWF6ZS50aWxlc1tyXS5sZW5ndGg7IHErKykge1xuICAgICAgICAgICAgICAgIGxldCB4ID0gcSAqIDMyICsgb2Zmc2V0LngsIHkgPSByICogMzIgKyBvZmZzZXQueTtcbiAgICAgICAgICAgICAgICBpZiAoeCA8IC01MCB8fCB5IDwgLTUwIHx8IHggPiA1MDAgfHwgeSA+IDUwMCkgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBsZXQgc3ByaXRlID0gU3ByaXRlLnRpbGVzW21hemUudGlsZXNbcl1bcV0gJiAwYjExMTFdO1xuICAgICAgICAgICAgICAgIGlmICghc3ByaXRlKSB0aHJvdyBuZXcgRXJyb3IoYCR7cX0sJHtyfSB0aWxlICR7bWF6ZS50aWxlc1tyXVtxXX1gKTtcbiAgICAgICAgICAgICAgICBjdHguZHJhd0ltYWdlKHNwcml0ZS5pbWcsIHgsIHkpO1xuXG4gICAgICAgICAgICAgICAgc3ByaXRlID0gU3ByaXRlLndhbGxzW21hemUudGlsZXNbcl1bcV0gPj4gNF07XG4gICAgICAgICAgICAgICAgaWYgKHNwcml0ZSkgY3R4LmRyYXdJbWFnZShzcHJpdGUuaW1nLCB4LCB5KTtcblxuICAgICAgICAgICAgICAgIC8vaWYgKHRoaXMubWF6ZS5mbG93aG9tZVtyXVtxXSA8IDEwMClcbiAgICAgICAgICAgICAgICAvL1RleHQuZHJhd1RleHQoY3R4LCBTdHJpbmcodGhpcy5tYXplLmZsb3dob21lW3JdW3FdKSwgeCwgeSk7XG5cbiAgICAgICAgICAgICAgICAvLyBjb21tZW50ZWQgZm9yIHNjcmVlbnNob3RzOlxuICAgICAgICAgICAgICAgIC8vVGV4dC5kcmF3VGV4dChjdHgsIFN0cmluZyhtYXplLnRpbGVzW3JdW3FdID4+IDQpLCB4LCB5KTtcblxuICAgICAgICAgICAgICAgIC8vY3R4LmZpbGxSZWN0KHEgKiA0IC0gdGhpcy5jYW1lcmEucG9zLnggKyB0aGlzLmNlbnRlci5waXhlbC51LCByICogNCAtIHRoaXMuY2FtZXJhLnBvcy55ICsgdGhpcy5jZW50ZXIucGl4ZWwudiwgNCwgNCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwb2ludGVyWFkoKSB7XG4gICAgICAgIGlmICghdGhpcy5pbnB1dC5wb2ludGVyKSByZXR1cm47XG4gICAgICAgIHJldHVybiB0aGlzLnV2Mnh5KHRoaXMuaW5wdXQucG9pbnRlcik7XG4gICAgfVxuXG4gICAgeHkydXYocG9zKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB1OiBwb3MueCAtIHRoaXMuY2FtZXJhLnBvcy54ICsgdmlld3BvcnQuY2VudGVyLnUsXG4gICAgICAgICAgICB2OiBwb3MueSAtIHRoaXMuY2FtZXJhLnBvcy55ICsgdmlld3BvcnQuY2VudGVyLnZcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB1djJ4eShwb3MpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHBvcy51IC0gdmlld3BvcnQuY2VudGVyLnUgKyB0aGlzLmNhbWVyYS5wb3MueCxcbiAgICAgICAgICAgIHk6IHBvcy52IC0gdmlld3BvcnQuY2VudGVyLnYgKyB0aGlzLmNhbWVyYS5wb3MueVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHRyYWNlKHZpZXdwb3J0KSB7XG4gICAgICAgIGlmICghdGhpcy5pbnB1dC5wb2ludGVyKSByZXR1cm47XG4gICAgICAgIGxldCBwID0gdGhpcy5wbGF5ZXI7XG4gICAgICAgIGZvciAobGV0IGUgb2YgdGhpcy5lbnRpdGllcykge1xuICAgICAgICAgICAgaWYgKHAgPT09IGUpIGNvbnRpbnVlO1xuICAgICAgICAgICAgdmlld3BvcnQuY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgdmlld3BvcnQuY3R4LnN0cm9rZVN0eWxlID0gJ3JlZCc7XG4gICAgICAgICAgICB2aWV3cG9ydC5jdHgubW92ZVRvKHZpZXdwb3J0LmNlbnRlci51IC0gdGhpcy5jYW1lcmEucG9zLnggKyBwLnBvcy54LFxuICAgICAgICAgICAgICAgIHZpZXdwb3J0LmNlbnRlci52IC0gdGhpcy5jYW1lcmEucG9zLnkgKyBwLnBvcy55KTtcbiAgICAgICAgICAgIHZpZXdwb3J0LmN0eC5saW5lVG8odGhpcy5pbnB1dC5wb2ludGVyLnUsIHRoaXMuaW5wdXQucG9pbnRlci52KTtcbiAgICAgICAgICAgIHZpZXdwb3J0LmN0eC5zdHJva2UoKTtcblxuICAgICAgICAgICAgdGhpcy5yYXl0cmFjZShwLnBvcywgdGhpcy5wb2ludGVyWFkoKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBodHRwczovL3d3dy5nZW5lcmljZ2FtZWRldi5jb20vZ2VuZXJhbC9zaG9vdGluZy1yYXlzLXRocm91Z2gtdGlsZW1hcHMvXG4gICAgcmF5dHJhY2UocDEsIHAyKSB7XG4gICAgICAgIGxldCByZWRncmVlbiA9ICdncmVlbic7XG5cbiAgICAgICAgZm9yIChsZXQgeyBxLCByIH0gb2YgRy50aWxlc0hpdEJldHdlZW4ocDEsIHAyKSkge1xuICAgICAgICAgICAgbGV0IG9mZnNldCA9IHtcbiAgICAgICAgICAgICAgICB4OiB2aWV3cG9ydC5jZW50ZXIudSAtIHRoaXMuY2FtZXJhLnBvcy54LFxuICAgICAgICAgICAgICAgIHk6IHZpZXdwb3J0LmNlbnRlci52IC0gdGhpcy5jYW1lcmEucG9zLnlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoIWdhbWUubWF6ZS5tYXplW3JdW3FdKSByZWRncmVlbiA9ICdyZWQnO1xuICAgICAgICAgICAgbGV0IGhpZ2hsaWdodCA9IHJlZGdyZWVuID09PSAncmVkJyA/ICdyZ2JhKDI1NSwgMTI4LCAxMjgsIDAuNSknIDogJ3JnYmEoMTI4LCAyNTUsIDEyOCwgMC41KSc7XG4gICAgICAgICAgICB2aWV3cG9ydC5jdHguZmlsbFN0eWxlID0gaGlnaGxpZ2h0O1xuICAgICAgICAgICAgdmlld3BvcnQuY3R4LnN0cm9rZVN0eWxlID0gaGlnaGxpZ2h0O1xuICAgICAgICAgICAgdmlld3BvcnQuY3R4LmZpbGxSZWN0KHEgKiAzMiArIG9mZnNldC54LCByICogMzIgKyBvZmZzZXQueSwgMzIsIDMyKTtcbiAgICAgICAgICAgIHZpZXdwb3J0LmN0eC5zdHJva2VSZWN0KHEgKiAzMiArIG9mZnNldC54LCByICogMzIgKyBvZmZzZXQueSwgMzIsIDMyKTtcbiAgICAgICAgICAgIGlmIChyZWRncmVlbiA9PT0gJ3JlZCcpIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZHJhd0h1ZChjdHgpIHtcbiAgICAgICAgbGV0IGhwID0gRy5jbGFtcChnYW1lLnBsYXllci5ocCwgMCwgMTAwKTtcbiAgICAgICAgY3R4LmRyYXdJbWFnZShTcHJpdGUuaHVkX2hlYWx0aF9mcmFtZS5pbWcsIDIsIDIpO1xuICAgICAgICBjdHguZHJhd0ltYWdlKFNwcml0ZS5odWRfaGVhbHRoX2ZpbGwuaW1nLCAwLCAwLCBocCArIDgsIDgsIDIsIDIsIGhwICsgOCwgOCk7XG5cbiAgICAgICAgbGV0IHNwcml0ZSA9IFNwcml0ZS5odWRfc2hlbGxzX2Z1bGw7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2FtZS5wbGF5ZXIuc2hlbGxzTWF4OyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpICsgMSA+IGdhbWUucGxheWVyLnNoZWxsc0xlZnQpIHNwcml0ZSA9IFNwcml0ZS5odWRfc2hlbGxzX2VtcHR5O1xuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShzcHJpdGUuaW1nLCAxNSArIDYgKiBpLCAxMCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBnYW1lID0gbmV3IEdhbWUoKTtcbiIsImltcG9ydCB7IGdhbWUgfSBmcm9tICcuL0dhbWUnO1xuXG4vKipcbiAqIENyZWF0ZSBhbmQgbGF1bmNoIGdhbWUuXG4gKi9cbmdhbWUuaW5pdCgpLnRoZW4oKCkgPT4gZ2FtZS5zdGFydCgpKTtcbiJdLCJuYW1lcyI6WyJDIiwiRyJdLCJtYXBwaW5ncyI6Ijs7O0lBRU8sTUFBTSxTQUFTLEdBQUc7SUFDekIsSUFBSSxFQUFFLEVBQUUsQ0FBQztJQUNULElBQUksR0FBRyxFQUFFLElBQUksQ0FBQyxFQUFFLEdBQUcsR0FBRztJQUN0QixJQUFJLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRTtJQUNqQixJQUFJLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRSxHQUFHLEdBQUc7SUFDdkIsSUFBSSxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRyxDQUFDO0FBQ3JCO0lBQ0E7SUFDQSxJQUFJLFVBQVUsRUFBRSxFQUFFO0lBQ2xCLElBQUksV0FBVyxFQUFFLEVBQUU7QUFDbkI7SUFDQTtJQUNBLElBQUksV0FBVyxhQUFhLENBQUM7SUFDN0IsSUFBSSxXQUFXLGFBQWEsQ0FBQztJQUM3QixJQUFJLFVBQVUsY0FBYyxDQUFDO0lBQzdCLElBQUksVUFBVSxjQUFjLENBQUM7QUFDN0I7SUFDQSxJQUFJLG1CQUFtQixFQUFFLENBQUM7SUFDMUIsQ0FBQzs7SUNsQkQ7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNPLE1BQU0sTUFBTSxDQUFDO0lBQ3BCLEVBQUUsV0FBVyxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUU7SUFDN0IsSUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDbkQsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7SUFDOUIsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7SUFDaEMsSUFBSSxJQUFJLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzVDLEdBQUc7SUFDSDs7SUNkQTtJQUNBO0lBQ0E7QUFHQTtJQUNPLE1BQU0sV0FBVztJQUN4QjtJQUNBLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUN4QyxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDekMsRUFBRSxRQUFRLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzFDLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUMxQyxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDMUMsRUFBRSxRQUFRLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzFDLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUMxQyxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDMUMsRUFBRSxRQUFRLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzNDLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUMzQyxFQUFFLFNBQVMsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDNUMsRUFBRSxNQUFNLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQ3ZDLEVBQUUsZUFBZSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUNoRCxFQUFFLGVBQWUsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDbEQsRUFBRSxZQUFZLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQzNDLEVBQUUsWUFBWSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUMzQyxFQUFFLFVBQVUsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDM0MsRUFBRSxVQUFVLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzVDLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUN6QyxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDMUMsRUFBRSxXQUFXLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzdDLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUMxQyxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDM0MsRUFBRSxRQUFRLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzVDLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUM1QyxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDNUMsRUFBRSxRQUFRLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzVDLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUM1QyxFQUFFLFFBQVEsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDNUMsRUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzNDLEVBQUUsUUFBUSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUMxQyxFQUFFLFNBQVMsRUFBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDM0MsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQ3pDLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUMxQyxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDMUMsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzFDLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUMzQyxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDM0MsRUFBRSxPQUFPLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzNDLEVBQUUsT0FBTyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUMzQyxFQUFFLE9BQU8sRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDM0MsRUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzNDLEVBQUUsU0FBUyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUM1QyxFQUFFLFNBQVMsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDNUMsRUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzVDLEVBQUUsU0FBUyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUM3QyxFQUFFLFNBQVMsRUFBRSxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDN0MsRUFBRSxTQUFTLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBQzdDLEVBQUUsU0FBUyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFO0lBQy9DO0lBQ0E7O0lDcERBLE1BQU0sZUFBZSxHQUFHLGFBQWEsQ0FBQztBQUN0QztJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDTyxNQUFNLE1BQU0sQ0FBQztJQUNwQjtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsRUFBRSxPQUFPLFVBQVUsQ0FBQyxHQUFHLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDdkMsSUFBSSxHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3hFLEdBQUc7QUFDSDtJQUNBLEVBQUUsT0FBTyxrQkFBa0IsQ0FBQyxRQUFRLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUU7SUFDcEUsSUFBSSxRQUFRLENBQUMsR0FBRyxDQUFDLFNBQVM7SUFDMUIsTUFBTSxNQUFNLENBQUMsR0FBRztJQUNoQixNQUFNLFNBQVMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsU0FBUyxDQUFDLENBQUMsR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDckUsTUFBTSxTQUFTLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3JFLEtBQUssQ0FBQztJQUNOLEdBQUc7QUFDSDtJQUNBO0lBQ0E7SUFDQTtJQUNBLEVBQUUsT0FBTyxlQUFlLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQzVDLElBQUksR0FBRyxDQUFDLFdBQVcsR0FBRyxzQkFBc0IsQ0FBQztJQUM3QyxJQUFJLEdBQUcsQ0FBQyxVQUFVO0lBQ2xCLE1BQU0sQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM1QyxNQUFNLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUMsTUFBTSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekMsTUFBTSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDekMsS0FBSyxDQUFDO0lBQ04sR0FBRztBQUNIO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsRUFBRSxPQUFPLFVBQVUsQ0FBQyxHQUFHLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDdkMsSUFBSSxJQUFJLE1BQU0sQ0FBQyxJQUFJLEVBQUU7SUFDckIsTUFBTSxHQUFHLENBQUMsV0FBVyxHQUFHLHNCQUFzQixDQUFDO0lBQy9DLE1BQU0sR0FBRyxDQUFDLFVBQVU7SUFDcEIsUUFBUSxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzlDLFFBQVEsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM5QyxRQUFRLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMzQyxRQUFRLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMzQyxPQUFPLENBQUM7SUFDUixLQUFLO0lBQ0wsR0FBRztBQUNIO0lBQ0EsRUFBRSxPQUFPLGlCQUFpQixDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQ3pDLElBQUksSUFBSSxFQUFFLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDakQsSUFBSSxJQUFJLEVBQUUsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNqRCxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNwQyxJQUFJLE9BQU87SUFDWCxNQUFNLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQ3hFLE1BQU0sQ0FBQyxFQUFFLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7SUFDeEUsTUFBTSxDQUFDO0lBQ1AsS0FBSyxDQUFDO0lBQ04sR0FBRztBQUNIO0lBQ0EsRUFBRSxPQUFPLHFCQUFxQixDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQzdDLElBQUksT0FBTyxJQUFJLENBQUMsbUJBQW1CLENBQUMsTUFBTSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN0RSxHQUFHO0FBQ0g7SUFDQSxFQUFFLE9BQU8sZ0JBQWdCLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDeEMsSUFBSSxPQUFPLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLENBQUMsTUFBTSxFQUFFLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3RFLEdBQUc7QUFDSDtJQUNBLEVBQUUsT0FBTyxtQkFBbUIsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDaEQsSUFBSSxPQUFPO0lBQ1gsTUFBTSxDQUFDLEVBQUUsQ0FBQztJQUNWLE1BQU0sQ0FBQyxFQUFFLENBQUM7SUFDVixNQUFNLENBQUMsRUFBRTtJQUNULFFBQVEsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEVBQUU7SUFDMUQsUUFBUSxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsRUFBRTtJQUMxRCxRQUFRLEVBQUUsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxFQUFFO0lBQzFELFFBQVEsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEVBQUU7SUFDMUQsT0FBTztJQUNQLEtBQUssQ0FBQztJQUNOLEdBQUc7SUFDSCxDQUFDO0FBQ0Q7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNPLE1BQU0sTUFBTSxDQUFDO0lBQ3BCLEVBQUUsYUFBYSxJQUFJLEdBQUc7SUFDdEIsSUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztBQUNyQjtJQUNBO0lBQ0EsSUFBSSxNQUFNLENBQUMsSUFBSSxHQUFHLE1BQU0sSUFBSSxDQUFDLFVBQVUsQ0FBQyxlQUFlLEVBQUUs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SSxNQUFNLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQztJQUMvQixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDO0lBQy9CLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUM7SUFDL0IsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQztJQUMvQixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDO0lBQy9CLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUM7SUFDL0IsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQztJQUMvQixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLEdBQUcsSUFBSSxDQUFDO0FBQ3ZDO0lBQ0EsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQztJQUMvQixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDO0lBQy9CLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUM7SUFDL0IsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQztJQUMvQixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDO0lBQy9CLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUM7SUFDL0IsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQztJQUMvQixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRUEsU0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDNUY7SUFDQSxJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDO0lBQy9CLElBQUksTUFBTSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUM7SUFDL0IsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQztJQUMvQixJ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QUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFO0lBQ3JGLE1BQU0sSUFBSSxFQUFFLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUM7SUFDbEUsTUFBTSxJQUFJLEVBQUUsSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJO0lBQzdCLEtBQUssQ0FBQztJQUNOLEdBQUc7QUFDSDtJQUNBO0lBQ0E7SUFDQTtJQUNBLEVBQUUsYUFBYSxTQUFTLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUMxQyxJQUFJLE1BQU0sTUFBTSxHQUFHLE1BQU0sSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM3QyxJQUFJLE1BQU0sV0FBVyxHQUFHLElBQUksTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN6QyxJQUFJLFdBQVcsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDOUQsSUFBSSxPQUFPLFdBQVcsQ0FBQyxNQUFNLENBQUM7SUFDOUIsR0FBRztBQUNIO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsRUFBRSxhQUFhLFNBQVMsQ0FBQyxHQUFHLEVBQUU7SUFDOUIsSUFBSSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEVBQUUsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2xEO0lBQ0EsSUFBSSxPQUFPLE1BQU0sSUFBSSxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsTUFBTSxLQUFLO0lBQ2xELE1BQU0sSUFBSSxLQUFLLEdBQUcsSUFBSSxLQUFLLEVBQUUsQ0FBQztJQUM5QixNQUFNLEtBQUssQ0FBQyxNQUFNLEdBQUcsTUFBTSxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDMUMsTUFBTSxLQUFLLENBQUMsT0FBTyxHQUFHLENBQUMsR0FBRyxLQUFLLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMzQyxNQUFNLEtBQUssQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO0lBQ3RCLE1BQU0sSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxLQUFLLENBQUM7SUFDL0IsS0FBSyxDQUFDLENBQUM7SUFDUCxHQUFHO0lBQ0g7O0lDMVRBO0lBQ0EsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDO0lBQ2QsTUFBTSxHQUFHLEdBQUcsa0JBQWtCLENBQUM7SUFDL0IsTUFBTSxHQUFHLEdBQUcsQ0FBQyxDQUFDO0FBQ2Q7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ08sTUFBTSxlQUFlLENBQUM7SUFDN0IsRUFBRSxXQUFXLENBQUMsT0FBTyxFQUFFO0lBQ3ZCLElBQUksSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUM7QUFDM0I7SUFDQTtJQUNBLElBQUksSUFBSSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUM7SUFDbEIsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQ3ZDLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQztJQUN4QyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDdEMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDO0lBQ3RDLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQztJQUNuQyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDckMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ3JDLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztJQUN0QyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7SUFDbkMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ3JDLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNyQyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDdEMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ3JDLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNyQyxJQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7SUFDdkMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDO0FBQ3ZDO0lBQ0E7SUFDQSxJQUFJLElBQUksQ0FBQyxlQUFlLEdBQUc7SUFDM0IsTUFBTSxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQ2hDLE1BQU0sRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQ2hDLE1BQU0sRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUNoQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDaEMsTUFBTSxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDaEMsTUFBTSxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUNoQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUNoQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUNoQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDaEMsTUFBTSxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7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S0FBSyxTQUFTLEVBQUU7SUFDckYsTUFBTSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxRQUFRLENBQUM7SUFDbkMsTUFBTSxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUM7QUFDckM7SUFDQSxNQUFNLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsR0FBRyxVQUFVLEVBQUUsU0FBUyxHQUFHLFdBQVcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQ3BHLE1BQU0sSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM3RCxNQUFNLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDL0QsTUFBTSxJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFDdEYsTUFBTSxJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQztJQUMvQixNQUFNLElBQUksQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFDO0FBQ2pDO0lBQ0E7SUFDQTtJQUNBLFlBQVksSUFBSSxDQUFDLEdBQUcsQ0FBQyxxQkFBcUIsR0FBRyxLQUFLLENBQUM7QUFDbkQ7SUFDQSxZQUFZLFFBQVEsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7SUFDbEQsU0FBUztJQUNULEtBQUs7SUFDTCxDQUFDO0FB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TUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDOUMsUUFBUSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM5QyxRQUFRLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzlDLFFBQVEsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDOUMsTUFBTSxPQUFPO0FBQ2I7SUFDQSxJQUFJLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN6QixJQUFJLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN6QixJQUFJLElBQUksS0FBSyxJQUFJLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUN4QyxJQUFJLElBQUksS0FBSyxJQUFJLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztJQUN4QyxJQUFJLElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQztJQUMzQixJQUFJLElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQztBQUMzQjtJQUNBO0lBQ0E7SUFDQSxJQUFJLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO0lBQzFELE1BQU0sSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLElBQUksS0FBSyxDQUFDO0lBQ3JELE1BQU0sSUFBSSxLQUFLLElBQUksQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLEVBQUU7SUFDcEMsUUFBUSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsS0FBSyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDbkMsUUFBUSxJQUFJLEVBQUUsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO0lBQ3BELFVBQVUsT0FBTyxFQUFFLENBQUMsRUFBRSxFQUFFLEdBQUcsS0FBSyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQztJQUNuRyxTQUFTO0lBQ1QsT0FBTztJQUNQLE1BQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUIsS0FBSztJQUNMO0lBQ0EsSUFBSSxJQUFJLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRTtJQUMxRCxNQUFNLElBQUksS0FBSyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ3RELE1BQU0sSUFBSSxLQUFLLElBQUksQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDLEVBQUU7SUFDcEMsUUFBUSxJQUFJLEVBQUUsR0FBRyxFQUFFLEdBQUcsS0FBSyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDbkMsUUFBUSxJQUFJLEVBQUUsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO0lBQ3BELFVBQVUsT0FBTyxFQUFFLENBQUMsRUFBRSxFQUFFLEdBQUcsS0FBSyxHQUFHLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUM7SUFDbEcsU0FBUztJQUNULE9BQU87SUFDUCxNQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzVCLEtBQUs7SUFDTDtJQUNBLElBQUksSUFBSSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7SUFDMUQsTUFBTSxJQUFJLEtBQUssR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUM7SUFDckQsTUFBTSxJQUFJLEtBQUssSUFBSSxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsRUFBRTtJQUNwQyxRQUFRLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxLQUFLLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNuQyxRQUFRLElBQUksRUFBRSxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7SUFDcEQsVUFBVSxPQUFPLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxHQUFHLEtBQUssR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQ25HLFNBQVM7SUFDVCxPQUFPO0lBQ1AsTUFBTSxPQUFPLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUM1QixLQUFLO0lBQ0w7SUFDQSxJQUFJLElBQUksRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO0lBQzFELE1BQU0sSUFBSSxLQUFLLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDdEQsTUFBTSxJQUFJLEtBQUssSUFBSSxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsRUFBRTtJQUNwQyxRQUFRLElBQUksRUFBRSxHQUFHLEVBQUUsR0FBRyxLQUFLLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNuQyxRQUFRLElBQUksRUFBRSxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksRUFBRSxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7SUFDcEQsVUFBVSxPQUFPLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxHQUFHLEtBQUssR0FBRyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztJQUNsRyxTQUFTO0lBQ1QsT0FBTztJQUNQLE1BQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUIsS0FBSztBQUNMO0lBQ0E7SUFDQSxJQUFJLElBQUksT0FBTyxLQUFLLFFBQVEsSUFBSSxPQUFPLEtBQUssUUFBUSxFQUFFLE9BQU87QUFDN0Q7SUFDQTtJQUNBLElBQUksSUFBSSxPQUFPLEtBQUssUUFBUSxJQUFJLE9BQU8sS0FBSyxRQUFRLEVBQUU7SUFDdEQsTUFBTSxPQUFPLEdBQUcsRUFBRSxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbkQsS0FBSztJQUNMLElBQUksSUFBSSxPQUFPLEtBQUssUUFBUSxJQUFJLE9BQU8sS0FBSyxRQUFRLEVBQUU7SUFDdEQsTUFBTSxPQUFPLEdBQUcsRUFBRSxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbkQsS0FBSztBQUNMO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lB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RyxDQUFDLENBQUMsSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7SUFDdkYsTUFBTSxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBQ3ZGLE1BQU0sSUFBSSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztJQUN2RixNQUFNLElBQUksSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7SUFDdkYsS0FBSztJQUNMLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUN4QyxJQUFJLE9BQU8sTUFBTSxDQUFDO0lBQ2xCLEdBQUc7QUFDSDtJQUNBLEVBQUUsT0FBTyxDQUFDLEtBQUssRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFO0lBQ2hDLElBQUksSUFBSSxFQUFFLEdBQUcsT0FBTyxLQUFLLEtBQUssVUFBVSxHQUFHLEtBQUssR0FBRyxNQUFNLEtBQUssQ0FBQztJQUMvRCxJQUFJLE9BQU8sS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsRUFBRSxNQUFNLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNuRixHQUFHO0FBQ0g7SUFDQSxFQUFFLGNBQWMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQ3ZCLElBQUksT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbEMsR0FBRztJQUNILENBQUM7O0lDbFlEO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNPLE1BQU0sTUFBTSxHQUFHO0lBQ3RCLElBQUksS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUN0QixRQUFRLE9BQU8sTUFBTTtJQUNyQixZQUFZLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDbkQsWUFBWSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2hDLFlBQVksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQzVCLFlBQVksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2pDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO0lBQ3JDLFlBQVksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzFCLFlBQVksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzFCLFlBQVksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzFCLFlBQVksT0FBTyxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksVUFBVSxDQUFDO0lBQzFDLFNBQVM7SUFDVCxLQUFLO0FBQ0w7SUFDQSxJQUFJLEtBQUssQ0FBQyxHQUFHLEVBQUU7SUFDZixRQUFRLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNqQixRQUFRLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsVUFBVSxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDdEUsWUFBWSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUM3RCxZQUFZLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDbkMsU0FBUztBQUNUO0lBQ0EsUUFBUSxPQUFPLE1BQU07SUFDckIsWUFBWSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUNwRCxZQUFZLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssRUFBRSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQ3BELFlBQVksT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQztJQUN6QyxTQUFTO0lBQ1Qs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R0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQzdCO0lBQ0EsUUFBUSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQ3RDLFlBQVksSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZDLFlBQVksSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZDLFlBQVksTUFBTSxHQUFHLGFBQWEsQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUMxSCxZQUFZLElBQUksTUFBTSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDM0MsWUFBWSxJQUFJLE1BQU0sSUFBSSxNQUFNLENBQUMsVUFBVSxLQUFLLFVBQVUsRUFBRSxVQUFVLEVBQUUsQ0FBQztJQUN6RSxTQUFTO0lBQ1QsUUFBUSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQ3RDLFlBQVksSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZDLFlBQVksSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZDLFlBQVksTUFBTSxHQUFHLGFBQWEsQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUMxSCxZQUFZLElBQUksTUFBTSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDM0MsWUFBWSxJQUFJLE1BQU0sSUFBSSxNQUFNLENBQUMsVUFBVSxLQUFLLFVBQVUsRUFBRSxVQUFVLEVBQUUsQ0FBQztJQUN6RSxTQUFTO0lBQ1QsUUFBUSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFO0lBQ3RDLFlBQVksSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZDLFlBQVksSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3ZDLFlBQVksTUFBTSxHQUFHLGFBQWEsQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxVQUFVLENBQUMsQ0FBQztJQUMxSCxZQUFZLElBQUksTUFBTSxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDM0MsWUFBWSxJQUFJLE1BQU0sSUFBSSxNQUFNLENBQUMsVUFBVSxLQUFLLFVBQVUsRUFBRSxVQUFVLEVBQUUsQ0FBQztJQUN6RSxTQUFTO0FBQ1Q7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RSxDQUFDO0lBQ3JCLElBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7QUFDckI7SUFDQSxJQUFJLElBQUksQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO0lBQ3BCLEdBQUc7QUFDSDtJQUNBLEVBQUUsS0FBSyxHQUFHO0lBQ1YsSUFBSSxRQUFRLElBQUksQ0FBQyxLQUFLO0lBQ3RCLE1BQU0sS0FBSyxRQUFRLENBQUMsSUFBSTtJQUN4QixRQUFRLElBQUksU0FBUyxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFO0lBQ3RELFVBQVUsSUFBSSxDQUFDLEtBQUssR0FBRyxRQUFRLENBQUMsS0FBSyxDQUFDO0lBQ3RDLFNBQVM7SUFDVCxRQUFRLE1BQU07SUFDZCxNQUFNLEtBQUssUUFBUSxDQUFDLEtBQUs7SUFDekIsUUFBUSxJQUFJLElBQUksR0FBR0EsUUFBQyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDOUQsUUFBUSxJQUFJLENBQUMsQ0FBQyxHQUFHQSxRQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3ZDLFFBQVEsSUFBSSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDO0lBQzlELFFBQVEsTUFBTTtJQUNkLE1BQU0sS0FBSyxRQUFRLENBQUMsSUFBSTtJQUN4QixRQUFRLElBQUksQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO0lBQ3hDLFFBQVEsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFB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RyxDQUFDLENBQUM7QUFDMUI7SUFDQSxNQUFNLElBQUksSUFBSSxDQUFDLENBQUMsSUFBSSxLQUFLLEVBQUU7SUFDM0IsUUFBUSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztJQUNoRCxRQUFRLFFBQVEsQ0FBQyxHQUFHLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsR0FBRyxJQUFJLEVBQUUsQ0FBQyxDQUFDO0lBQ3hFLFFBQVEsUUFBUSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxHQUFHLEVBQUUsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDMUUsUUFBUSxRQUFRLENBQUMsR0FBRyxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUM7SUFDckMsT0FBTztJQUNQLEtBQUs7SUFDTCxHQUFHO0lBQ0g7O0lDcEJBO0lBQ0E7SUFDQTtJQUNPLE1BQU0sTUFBTSxDQUFDO0lBQ3BCLEVBQUUsV0FBVyxHQUFHO0lBQ2hCLElBQUksSUFBSSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO0lBQzlCLElBQUksSUFBSSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO0lBQzlCLElBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztJQUN4QyxJQUFJLElBQUksQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDO0lBQ2xCLElBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7SUFDckIsSUFBSSxJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQztBQUNyQjtJQUNBLElBQUksSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUM7SUFDeEIsSUFBSSxJQUFJLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQztBQUN2QjtJQUNBLElBQUksSUFBSSxDQUFDLElBQUksR0FBRyxDQUFDLENBQUM7SUFDbEIsR0FBRztBQUNIO0lBQ0EsRUFBRSxLQUFLLEdBQUc7SUFDVixJQUFJLFFBQVEsSUFBSSxDQUFDLEtBQUs7SUFDdEIsTUFBTSxLQUFLLFFBQVEsQ0FBQyxJQUFJO0lBQ3hCLFFBQVEsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNoQztJQUNBLFFBQVEsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO0lBQ3JELFVBQVUsSUFBSSxJQUFJLENBQUMsVUFBVSxLQUFLLENBQUMsRUFBRTtJQUNyQyxZQUFZLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztJQUMxQixXQUFXLE1BQU07SUFDakIsWUFBWSxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDeEIsV0FBVztJQUNYLFNBQVM7QUFDVDtJQUNBLFFBQVEsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFO0lBQ3JELFVBQVUsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ3hCLFNBQVM7QUFDVDtJQUNBLFFBQVEsTUFBTTtJQUNkLE1BQU0sS0FBSyxRQUFRLENBQUMsTUFBTTtJQUMxQixRQUFRLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDaEMsUUFBUSxJQUFJLEVBQUUsSUFBSSxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDO0lBQzNELFFBQVEsTUFBTTtJQUNkLE1BQU0sS0FBSyxRQUFRLENBQUMsTUFBTTtJQUMxQixRQUFRLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDbEMsUUFBUSxJQUFJLEVBQUUsSUFBSSxDQUFDLE1BQU0sSUFBSSxDQUFDLEVBQUU7SUFDaEMsVUFBVSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDM0MsVUFBVSxJQUFJLENBQUMsS0FBSyxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUM7SUFDckMsU0FBUztJQUNULFFBQVEsTUFBTTtJQUNkLE1BQU07SUFDTixRQUFRLElBQUksQ0FBQyxLQUFLLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQztJQUNuQyxRQUFRLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO0lBQ3hCLFFBQVEsTUFBTTtJQUNkLEtBQUs7SUFDTCxHQUFHO0FBQ0g7SUFDQSxFQUFFLGVBQWUsQ0FBQyxXQUFXLEVBQUU7SUFDL0IsSUFBSSxJQUFJLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBRTtJQUMxQixNQUFNLElBQUksQ0FBQyxNQUFNLEdBQUdBLFFBQUMsQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQztJQUNoRSxLQUFLO0FBQ0w7SUFDQSxJQUFJLElBQUksQ0FBQyxHQUFHO0lBQ1osTUFBTSxDQUFDLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsV0FBVztJQUM1RSxNQUFNLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxXQUFXO0lBQzVFLEtBQUssQ0FBQztBQUNOO0lBQ0EsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3hDLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN4QyxHQUFHO0FBQ0g7SUFDQSxFQUFFLElBQUksQ0FBQyxRQUFRLEVBQUU7SUFDakIsSUFBSSxNQUFNLENBQUMsa0JBQWtCLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ2xGO0lBQ0EsSUFBSSxRQUFRLENBQUMsR0FBRyxDQUFDLFdBQVcsR0FBRyx5QkFBeUIsQ0FBQztJQUN6RCxJQUFJLFFBQVEsQ0FBQyxHQUFHLENBQUMsU0FBUyxFQUFFLENBQUM7SUFDN0IsSUFBSSxJQUFJLEVBQUUsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNsQyxJQUFJLFFBQVEsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsRUFBRUQsU0FBQyxDQUFDLG1CQUFtQixFQUFFLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ3hFLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNyQyxJQUFJLFFBQVEsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDMUIsSUFBSSxRQUFRLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNqQyxHQUFHO0FBQ0g7SUFDQSxFQUFFLElBQUksR0FBRztJQUNULElBQUksSUFBSSxDQUFDLEtBQUssR0FBRyxRQUFRLENBQUMsTUFBTSxDQUFDO0lBQ2pDLElBQUksSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7SUFDcEIsSUFBSSxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUM7QUFDdEI7SUFDQSxJQUFJLElBQUksS0FBSyxHQUFHQyxRQUFDLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM1QyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksWUFBWSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztBQUMxRDtJQUNBLElBQUksSUFBSSxDQUFDLEdBQUcsR0FBR0EsUUFBQyxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDOUMsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDbkIsR0FBRztBQUNIO0lBQ0EsRUFBRSxNQUFNLEdBQUc7SUFDWCxJQUFJLElBQUksQ0FBQyxLQUFLLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQztJQUNqQyxJQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDO0lBQ3JCLElBQUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxlQUFlLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDekQsR0FBRztJQUNIOztJQ3ZHTyxNQUFNLElBQUksR0FBRztJQUNwQixJQUFJLElBQUksQ0FBQyxRQUFRLEVBQUU7QUFDbkI7SUFDQSxRQUFRLE9BQU87QUF1QmY7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNBO0FBQ0E7SUFDQTtBQUNBO0lBQ0E7SUFDQTtBQUNBO0lBQ0E7SUFDQTtBQUNBO0lBQ0EsS0FBSztJQUNMLENBQUM7O0lDM0NEO0lBQ0E7SUFDQTtJQUNPLE1BQU0sUUFBUSxHQUFHO0lBQ3hCLEVBQUUsS0FBSyxDQUFDLFFBQVEsRUFBRTtJQUNsQjtJQUNBLElBQUksSUFBSSxNQUFNLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxNQUFNLElBQUksTUFBTSxDQUFDLEdBQUcsSUFBSSxNQUFNLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQ3JGO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsSUFBSSxLQUFLLElBQUksTUFBTSxHQUFHLENBQUMsRUFBRSxNQUFNLEdBQUcsQ0FBQyxFQUFFLE1BQU0sRUFBRSxFQUFFO0lBQy9DO0lBQ0EsTUFBTSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDbEQsUUFBUSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDcEQsVUFBVSxJQUFJLENBQUMsMEJBQTBCLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2hFLFNBQVM7SUFDVCxPQUFPO0FBQ1A7SUFDQSxNQUFNLEtBQUssSUFBSSxNQUFNLElBQUksTUFBTSxFQUFFO0lBQ2pDLFFBQVEsSUFBSSxDQUFDLHdCQUF3QixDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzlDLE9BQU87SUFDUCxLQUFLO0FBQ0w7SUFDQTtJQUNBLElBQUksS0FBSyxJQUFJLE1BQU0sSUFBSSxNQUFNLEVBQUU7SUFDL0IsTUFBTSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztJQUNuQyxNQUFNLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ25DLEtBQUs7SUFDTCxHQUFHO0FBQ0g7SUFDQSxFQUFFLDBCQUEwQixDQUFDLE1BQU0sRUFBRSxLQUFLLEVBQUU7SUFDNUMsSUFBSSxJQUFJLEdBQUcsR0FBR0EsUUFBQyxDQUFDLHNCQUFzQjtJQUN0QyxNQUFNLE1BQU0sQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUMsR0FBRztJQUMzQyxNQUFNLEtBQUssQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLE1BQU0sRUFBRSxLQUFLLENBQUMsR0FBRztJQUN4QyxLQUFLLENBQUM7SUFDTixJQUFJLElBQUksR0FBRyxFQUFFO0lBQ2I7SUFDQTtJQUNBLE1BQU0sSUFBSSxPQUFPLEdBQUdBLFFBQUMsQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDO0lBQ2pFLE1BQU0sSUFBSSxNQUFNLEdBQUdBLFFBQUMsQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2hFLE1BQU0sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLE9BQU8sSUFBSSxPQUFPLEdBQUcsTUFBTSxDQUFDLENBQUM7SUFDcEUsTUFBTSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsT0FBTyxJQUFJLE9BQU8sR0FBRyxNQUFNLENBQUMsQ0FBQztJQUNwRSxNQUFNLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxNQUFNLElBQUksT0FBTyxHQUFHLE1BQU0sQ0FBQyxDQUFDO0lBQ2xFLE1BQU0sS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLE1BQU0sSUFBSSxPQUFPLEdBQUcsTUFBTSxDQUFDLENBQUM7SUFDbEUsS0FBSztJQUNMLEdBQUc7QUFDSDtJQUNBLEVBQUUsd0JBQXdCLENBQUMsTUFBTSxFQUFFO0lBQ25DLElBQUksS0FBSyxJQUFJLElBQUksSUFBSUEsUUFBQyxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLEdBQUcsRUFBRUQsU0FBQyxDQUFDLG1CQUFtQixDQUFDLEVBQUU7SUFDeEYsTUFBTSxJQUFJLENBQUNDLFFBQUMsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUU7SUFDN0MsUUFBUSxJQUFJLE1BQU0sR0FBRyxDQUFDQSxRQUFDLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFQSxRQUFDLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNoRixRQUFRLElBQUksR0FBRyxHQUFHQSxRQUFDLENBQUMsd0JBQXdCO0lBQzVDLFVBQVUsTUFBTSxDQUFDLEdBQUc7SUFDcEIsVUFBVSxFQUFFLENBQUMsRUFBRSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUU7SUFDNUUsVUFBVUQsU0FBQyxDQUFDLG1CQUFtQjtJQUMvQixVQUFVLE1BQU07SUFDaEIsU0FBUyxDQUFDO0FBQ1Y7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxRQUFRLElBQUksR0FBRyxFQUFFO0lBQ2pCLFVBQVUsSUFBSSxHQUFHLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRTtJQUM1QixZQUFZLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDaEQsV0FBVyxNQUFNLElBQUksR0FBRyxDQUFDLEVBQUUsS0FBSyxDQUFDLEVBQUU7SUFDbkMsWUFBWSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBQ2hELFdBQVcsTUFBTTtJQUNqQixZQUFZLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxFQUFFLENBQUM7SUFDbkMsWUFBWSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxHQUFHLENBQUMsRUFBRSxDQUFDO0lBQ25DLFdBQVc7SUFDWCxTQUFTO0lBQ1QsT0FBTztJQUNQLEtBQUs7SUFDTCxHQUFHO0lBQ0gsQ0FBQzs7SUNyRkQ7SUFDQTtJQUNBO0lBQ08sTUFBTSxNQUFNLEdBQUc7SUFDdEIsRUFBRSxLQUFLLENBQUMsUUFBUSxFQUFFO0lBQ2xCLElBQUksS0FBSyxJQUFJLE1BQU0sSUFBSSxRQUFRLEVBQUU7SUFDakMsTUFBTSxJQUFJLE9BQU8sTUFBTSxDQUFDLEVBQUUsS0FBSyxRQUFRLEVBQUU7SUFDekMsUUFBUSxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtJQUN0QyxVQUFVLEtBQUssSUFBSSxNQUFNLElBQUksTUFBTSxDQUFDLE1BQU0sRUFBRTtJQUM1QyxZQUFZLE1BQU0sQ0FBQyxFQUFFLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQztJQUN2QyxZQUFZLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztJQUNqQyxZQUFZLE1BQU0sQ0FBQyxHQUFHLEdBQUdDLFFBQUMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDaEUsV0FBVztJQUNYLFVBQVUsTUFBTSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7SUFDN0IsU0FBUztJQUNULFFBQVEsSUFBSSxNQUFNLENBQUMsRUFBRSxJQUFJLENBQUMsRUFBRSxNQUFNLENBQUMsS0FBSyxHQUFHLFFBQVEsQ0FBQyxJQUFJLENBQUM7SUFDekQsT0FBTztJQUNQLEtBQUs7SUFDTCxHQUFHO0lBQ0gsQ0FBQzs7SUN4QkQ7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0FBZ0JBO0lBQ0E7SUFDQTtJQUNBO0lBQ08sTUFBTSxJQUFJLENBQUM7SUFDbEIsSUFBSSxXQUFXLEdBQUc7SUFDbEIsS0FBSztBQUNMO0lBQ0EsSUFBSSxNQUFNLElBQUksR0FBRztJQUNqQixRQUFRLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUN4QjtJQUNBLFFBQVEsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLEtBQUssRUFBRSxDQUFDO0lBQ2pDLFFBQVEsTUFBTSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ2hDO0lBQ0EsUUFBUSxJQUFJLENBQUMsSUFBSSxHQUFHLGFBQWEsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDckQsUUFBUSxJQUFJLENBQUMsTUFBTSxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztBQUM5QztJQUNBLFFBQVEsTUFBTSxNQUFNLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDNUIsUUFBUSxNQUFNLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUMxQjtJQUNBLFFBQVEsSUFBSSxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUM7QUFDM0I7SUFDQSxRQUFRLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxNQUFNLEVBQUUsQ0FBQztJQUNuQyxRQUFRLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNyQyxRQUFRLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsSUFBSUQsU0FBQyxDQUFDLFVBQVUsR0FBR0EsU0FBQyxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUM7SUFDdEksUUFBUSxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLElBQUlBLFNBQUMsQ0FBQyxVQUFVLEdBQUdBLFNBQUMsQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDO0FBQ3ZJO0lBQ0EsUUFBUSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDeEM7SUFDQTtBQUNBO0lBQ0E7QUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBO0FBQ0E7SUFDQTtBQUNBO0lBQ0E7SUFDQTtJQUNBO0FBQ0E7SUFDQTtBQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBO0FBQ0E7SUFDQTtBQUNBO0lBQ0E7SUFDQSxLQUFLO0FBQ0w7SUFDQSxJQUFJLEtBQUssR0FBRztJQUNaLFFBQVEsSUFBSSxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7QUFDdkI7SUFDQSxRQUFRLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO0lBQzVCLFFBQVEsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ3RCLFFBQVEsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7QUFDN0I7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBO0lBQ0EsUUFBUSxNQUFNLENBQUMscUJBQXFCLENBQUMsTUFBTSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUQ7SUFDQSxLQUFLO0FBQ0w7SUFDQSxJQUFJLE9BQU8sQ0FBQyxTQUFTLEVBQUU7SUFDdkIsUUFBUSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDckIsUUFBUSxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDMUIsUUFBUSxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDdEIsUUFBUSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNoQyxRQUFRLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxNQUFNLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztJQUNwRSxLQUFLO0FBQ0w7SUFDQSxJQUFJLE1BQU0sR0FBRztJQUNiO0lBQ0EsUUFBUSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBQzVCO0lBQ0E7SUFDQSxRQUFRLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQ3RDO0lBQ0EsUUFBUSxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUNwQztJQUNBO0lBQ0EsUUFBUSxRQUFRLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUN0QztJQUNBO0lBQ0EsUUFBUSxJQUFJLElBQUksR0FBRztJQUNuQixZQUFZLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNwRCxZQUFZLENBQUMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNwRCxTQUFTLENBQUM7SUFDVixRQUFRLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztJQUMxQyxRQUFRLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQztBQUMxQztJQUNBLFFBQVEsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO0FBQzFCO0lBQ0E7SUFDQSxRQUFRLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsTUFBTSxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3JFLEtBQUs7QUFDTDtJQUNBLElBQUksVUFBVSxHQUFHO0lBQ2pCLFFBQVEsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsTUFBTSxJQUFJLE1BQU0sWUFBWSxPQUFPLENBQUMsQ0FBQztJQUNoRixRQUFRLElBQUksT0FBTyxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEdBQUcsRUFBRTtJQUN2RCxZQUFZLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDN0YsWUFBWSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzlGLFlBQVksSUFBSSxPQUFPLEdBQUcsSUFBSSxPQUFPLEVBQUUsQ0FBQztJQUN4QyxZQUFZLE9BQU8sQ0FBQyxHQUFHLEdBQUdDLFFBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUM1QyxZQUFZLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3hDLFNBQVM7SUFDVCxLQUFLO0FBQ0w7SUFDQSxJQUFJLElBQUksQ0FBQyxHQUFHLEVBQUU7SUFDZCxRQUFRLEdBQUcsQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMzQyxRQUFRLEdBQUcsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDbEQ7SUFDQSxRQUFRLEdBQUcsQ0FBQyxTQUFTLEdBQUcsa0JBQWtCLENBQUM7SUFDM0MsUUFBUSxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsUUFBUSxDQUFDLEtBQUssRUFBRSxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDNUQ7SUFDQTtJQUNBO0FBQ0E7SUFDQSxRQUFRLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN0QztJQUNBLFFBQVEsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUMxQjtJQUNBLFFBQVEsSUFBSSxDQUFDLGFBQWEsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxLQUFLLEVBQUUsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxRQUFRLENBQUMsS0FBSyxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUN0SDtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0FBQ0E7SUFDQSxRQUFRLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDO0lBQ3JDLFFBQVEsSUFBSSxHQUFHLEVBQUU7SUFDakIsWUFBWSxJQUFJLENBQUMsYUFBYSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQ2pGLFlBQVksR0FBRyxDQUFDLFNBQVMsR0FBRyx3QkFBd0IsQ0FBQztJQUNyRCxZQUFZLEdBQUcsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3JELFNBQVM7QUFDVDtJQUNBLFFBQVEsS0FBSyxJQUFJLE1BQU0sSUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO0lBQzFDLFlBQVksTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNsQyxTQUFTO0FBQ1Q7SUFDQTtJQUNBO0FBQ0E7SUFDQTtBQUNBO0lBQ0E7SUFDQTtJQUNBO0FBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0FBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0FBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0FBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0FBQ0E7SUFDQTtBQUNBO0lBQ0E7QUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNBO0lBQ0E7QUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQTtJQUNBO0FBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0FBQ0E7SUFDQTtJQUNBO0FBQ0E7SUFDQTtBQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNBO0lBQ0EsUUFBUSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzVCLEtBQUs7QUFDTDtJQUNBLElBQUksUUFBUSxDQUFDLEdBQUcsRUFBRSxJQUFJLEVBQUU7SUFDeEIsUUFBUSxJQUFJLE1BQU0sR0FBRztJQUNyQixZQUFZLENBQUMsRUFBRSxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3BELFlBQVksQ0FBQyxFQUFFLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDcEQsU0FBUyxDQUFDO0lBQ1YsUUFBUSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDcEQsWUFBWSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFDM0QsZ0JBQWdCLElBQUks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</script><script>// Generated using https://zzfx.3d2k.com/
if (typeof AudioContext === 'undefined') { AudioContext = webkitAudioContext }
// ZzFX - Zuper Zmall Zound Zynth - Minified Version - MIT License - Copyright 2019 Frank Force
function ZZFXLib(){this.x=new AudioContext;this.r=Date.now();this.buffer=0;this.volume=.5;this.randomness=.1}ZZFXLib.prototype.z=function(b,d){var a=this.Generate(b),c;for(c in d)a[c]=d[c];return this.Z(a.volume,a.randomness,a.frequency,a.length,a.attack,a.slide,a.noise,a.modulation,a.modulationPhase)};
ZZFXLib.prototype.Z=function(b,d,a,c,e,g,h,k,l){c=void 0===c?1:c;e=void 0===e?.1:e;g=void 0===g?0:g;h=void 0===h?0:h;k=void 0===k?0:k;l=void 0===l?0:l;b*=this.volume;a*=2*Math.PI/44100;a*=1+d*(2*this.R()-1);g*=1E3*Math.PI/Math.pow(44100,2);c=0<c?44100*(10<c?10:c)|0:1;e*=c|0;k*=2*Math.PI/44100;l*=Math.PI;d=[];for(var m=0,n=0,f=0;f<c;++f)d[f]=b*Math.cos(m*a*Math.cos(n*k+l))*(f<e?f/e:1-(f-e)/(c-e)),m+=1+h*(2*this.R()-1),n+=1+h*(2*this.R()-1),a+=g;this.buffer=d;b=this.x.createBuffer(1,d.length,44100);
a=this.x.createBufferSource();b.getChannelData(0).set(d);a.buffer=b;a.connect(this.x.destination);a.start();return a};
ZZFXLib.prototype.Generate=function(b){var d=this.r;this.r=b;for(var a=9;a--;)this.R();a={};a.seed=b;a.volume=1;a.randomness=b?this.randomness:0;a.frequency=b?2E3*Math.pow(this.R(),2)|0:220;a.slide=b?parseFloat((10*Math.pow(this.R(),3)).toFixed(1)):0;a.length=b?parseFloat((.1+this.R()).toFixed(1)):1;a.attack=b?parseFloat(this.R().toFixed(2)):.1;a.noise=b?parseFloat((5*Math.pow(this.R(),3)).toFixed(1)):0;a.modulation=b?parseFloat((99*Math.pow(this.R(),5)).toFixed(1)):0;a.modulationPhase=b?parseFloat(this.R().toFixed(2)):
0;this.r=d;return a};ZZFXLib.prototype.Note=function(b,d){return b*Math.pow(2,d/12)};ZZFXLib.prototype.R=function(){this.r^=this.r<<13;this.r^=this.r>>7;this.r^=this.r<<17;return Math.abs(this.r)%1E9/1E9};var ZZFX=new ZZFXLib;</script>